{"id": "fd924dc8-371b-478d-a9e5-76616893d441", "text": "Q: Dtrace from Touretzky A: <p>This is why you shouldn't use dtrace on sbcl:</p>\n<p>AI Overview</p>\n<p>SBCL (Steel Bank Common Lisp) does not natively support DTrace largely because of the fundamental differences in how DTrace operates (low-level system tracing) versus the nature of a high-level, self-modifying language like Common Lisp (CL)</p>\n<p>.</p>\n<p>The primary reasons include:</p>\n<ul>\n<li><p><strong>Implementation-Specific Tracing:</strong> Common Lisp implementations, including SBCL, typically provide their own robust, built-in tracing and debugging tools that operate within the Lisp environment, such as the <code>TRACE</code> macro and <code>STEP</code> debugger functionality. These tools are designed to handle Lisp's unique features, such as incremental compilation and dynamic code modification.</p>\n</li>\n<li><p><strong>Circular Dependencies and Overflows:</strong> Using external, low-level tracing tools like DTrace on core SBCL internal functions can cause circular dependencies and stack overflows. For example, if a tracer tries to output information using an internal function that is <em>itself</em> being traced, it creates an infinite loop.</p>\n</li>\n<li><p><strong>Dynamic Nature:</strong> SBCL's dynamic nature makes it difficult for a static, system-level tool like DTrace to provide meaningful symbols and stable probes for internal Lisp operations. The Lisp code and its underlying machine code can change at runtime.</p>\n</li>\n<li><p><strong>Platform Specificity:</strong> DTrace was originally developed for Solaris and has since been ported to other systems like FreeBSD and macOS (and an open-source version for Linux exists). SBCL is designed to be highly portable across many operating systems, and building in deep DTrace support would require maintaining OS-specific integrations for a feature that can be largely replicated internally.</p>\n</li>\n<li><p><strong>Alternative Methods:</strong> Developers often use the built-in Lisp debuggers and profilers or enable specific SBCL compilation features (like the <code>SB-SHOW</code> feature for low-level info) to achieve their tracing goals.</p>\n</li>\n<li></li>\n</ul>\n<p>While DTrace is an excellent tool for system-level diagnostics (e.g., tracing syscalls), SBCL relies on its own integrated, language-specific tools for debugging Lisp code itself.</p>\n", "tags": ["common-lisp", "ccl"]}
{"id": "2796a22e-deaf-4351-b878-1dc185ff3239", "text": "Q: C++ vs Java performance under repeated heave computation A: <p>Parts of Java (JVM) is or at least was written in C and C++. So theoretically a C++ program can do everything that a Java program can, it only matters how those programs are implemented.</p>\n<p>In C and C++ the code does pretty much exactly what you instruct it to do while other programming languages with a higher abstraction level do more stuff automatically (e.g. garbage collector).<br />\nIf the code is written in a good or good optimizable way then C++ can gain some performance by skipping unnecessary automatic steps or details that Java has (e.g. all Java objects have several default methods and properties, no matter if used or not).<br />\nIf the code is written in a bad or hardly optimizable way then the automatic routines of Java may behave better.</p>\n<p>I am no real expert on this part, but as an example I expect that the Java garbage collector and memory management could have a better average performance when there are a lot of similar allocations and deallocations.<br />\nWhen the code is explicitly written in a way to reuse previously used memory then C++ may again be better at this than Java.</p>\n<p>I recommend to use performance profilers to see</p>\n<ul>\n<li>on which portions of the program most of the CPU is spent</li>\n<li>how good the multiple CPUs are used</li>\n<li>how much RAM is used</li>\n</ul>\n", "tags": ["java", "c++", "performance"]}
{"id": "5df4397e-cc63-4872-ba7a-5df5ceefa79e", "text": "Q: Html css hover alternative A: <p>A simple approach that uses HTML and CSS only is based on the <code>:target</code> pseudo-class:</p>\n\n<pre><code>&lt;style&gt;\n#cssmenu li ul {\n  display: none;\n}\n#cssmenu :target ul  {\n  display: block;\n}\n li:hover ul { display:block; }\n&lt;/style&gt;\n&lt;h1&gt;menu with target&lt;/h1&gt;\n&lt;ul id=\"cssmenu\"&gt;\n    &lt;li&gt;&lt;a id=sub1 href=#sub1&gt;submenu 1\n        &lt;ul&gt;\n            &lt;li&gt;foo&lt;/li&gt;\n            &lt;li&gt;bar&lt;/li&gt;\n        &lt;/ul&gt;&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li&gt;&lt;a id=sub2 href=#sub2&gt;submenu 2\n        &lt;ul&gt;\n            &lt;li&gt;item A&lt;/li&gt;\n            &lt;li&gt;item B&lt;/li&gt;\n            &lt;li&gt;item C&lt;/li&gt;\n        &lt;/ul&gt;&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/yucca42/aV5HE/\" rel=\"nofollow\">jsfiddle</a></p>\n\n<p>However, the <code>:target</code> pseudo-class is not supported by IE 8 and older, so if you wish to cover them as well, you need to use some JavaScript polyfill such as <a href=\"http://code.google.com/p/ie7-js/\" rel=\"nofollow\">IE7.js</a> or Selectivizr (or use an entirely JavaScript-based approach).</p>\n", "tags": ["html", "css"]}
{"id": "b78addae-e57b-4833-8d1b-d744d7782bab", "text": "Q: React Native and expo for web A: <p>It depends.</p>\n<p>On large-scale apps, I think having something like:</p>\n<ul>\n<li>&quot;if ios, store in secure storage, if android, store in secure storage, if WEB, store in local storage of if X then store in database on web app&quot;</li>\n</ul>\n<p>Is not ideal.</p>\n<p>So for small scale apps, where data is primarily stored on a server / not on device, I'd highly recommend using expo for both, it's incredibly easy. But if you have a lot of local data, that data will need to be sqlite/ secure storage on mobile, and a remote database on web, leading to messy / complex code.</p>\n<p>If it's for internal use, most likely the storage will be on a database, so I would recommend using expo for both.</p>\n", "tags": ["react-native", "expo"]}
{"id": "588f08cb-d2a7-4762-88bc-a63a14fb1dcf", "text": "Q: Using a column value to find the Column header name in Pandas A: <p>Using Polars :</p>\n<pre><code>baseYr = int(df_pl.columns[0])\n\ndf_pl = df_pl.with_columns(\naa = (pl.lit(baseYr) + (pl.col('year') -1)).cast(pl.Utf8)\n)\n\nprint(df_pl)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 2020 \u2506 2021 \u2506 2022 \u2506 2023 \u2506 2024 \u2506 year \u2506 aa   \u2502\n\u2502 ---  \u2506 ---  \u2506 ---  \u2506 ---  \u2506 ---  \u2506 ---  \u2506 ---  \u2502\n\u2502 i64  \u2506 i64  \u2506 i64  \u2506 i64  \u2506 i64  \u2506 i64  \u2506 str  \u2502\n\u255e\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u256a\u2550\u2550\u2550\u2550\u2550\u2550\u2561\n\u2502 5    \u2506 20   \u2506 10   \u2506 10   \u2506 50   \u2506 3    \u2506 2022 \u2502\n\u2502 10   \u2506 10   \u2506 50   \u2506 20   \u2506 40   \u2506 2    \u2506 2021 \u2502\n\u2502 12   \u2506 35   \u2506 73   \u2506 10   \u2506 54   \u2506 4    \u2506 2023 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>\n", "tags": ["python", "pandas"]}
{"id": "71ff220f-b2d3-48ad-b6eb-090132b75d7d", "text": "Q: Method-body equivalent of lambda expression A: <p>@ipodtouch0218, you are still passing a lambda-expression in your solution. I'm trying to convert the lambda-expression to a named-method so I can pass that name to <code>App.Use()</code>.</p>\n", "tags": ["c#", "methods", "lambda", "refactoring"]}
{"id": "106fe38f-db74-4d98-9cbf-5267c42bb2c0", "text": "Q: Can PowerShell automatically create missing directories when redirecting output? A: \n<p><strong>tl;dr</strong></p>\n<ul>\n<li><p>Use <code>... &gt; (New-Item -Force c:\\missing_dir\\git_status.txt)</code></p>\n</li>\n<li><p>(<code>... | New-Item -Force c:\\missing_dir\\git_status.txt</code> doesn't work as intended if the command represented by <code>...</code> produces <em>more than one output line / object</em>, such <code>git status</code>)</p>\n</li>\n</ul>\n<p>Read on for an explanation.</p>\n<hr />\n<ul>\n<li><p>No, <strong><code>&gt;</code>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Redirection\" rel=\"nofollow noreferrer\">redirection operator</a>, can <em>not</em> be configured to create target directories on demand</strong>.</p>\n</li>\n<li><p>However, you can <strong>use the output from a <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-item\" rel=\"nofollow noreferrer\"><code>New-Item</code></a> call with the <code>-Force</code> switch as a redirection target</strong>:</p>\n<ul>\n<li><p><code>New-Item -Force</code> creates target directories on demand and also truncates a preexisting target file, if any (as <code>&gt;</code> alone does).</p>\n</li>\n<li><p>The resulting <a href=\"https://learn.microsoft.com/en-US/dotnet/api/System.IO.FileInfo\" rel=\"nofollow noreferrer\"><code>[System.IO.FileInfo]</code></a> instance is implicitly <em>stringified</em> to serve as the <code>&gt;</code> target, which works as intended, given that the stringification reports the file's full path.</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code># Creates &quot;C:\\missing_dir&quot; if it doesn't already exist before writing\n# to &quot;git_status.txt&quot; there.\ngit status &gt; (New-Item -Force c:\\missing_dir\\git_status.txt)\n</code></pre>\n<p><strong>General considerations re <em>character encoding</em> with output from <em>external programs</em> such as <code>git</code></strong>:</p>\n<ul>\n<li><p>In <a href=\"https://github.com/PowerShell/PowerShell/blob/master/README.md\" rel=\"nofollow noreferrer\"><em>PowerShell (Core) 7</em></a> (the modern, cross-platform, install-on-demand edition), since <em>v7.4</em> (the oldest version still supported as of this writing), an external program's <em>raw byte output</em> is directly saved to the output file (which is in line with the behavior of <code>&gt;</code> in other shells, such as <code>cmd.exe</code> on Windows and <code>bash</code> on Unix-like platforms).</p>\n<ul>\n<li><p>Therefore, it is the external program <em>alone</em> that determines the character encoding of the resulting file, and external programs <em>typically</em> respect the code page of the console window they're running in, which defaults to the legacy system locale's OEM code page, such as <code>437</code> on US-English systems; that said, an increasing number of high-profile programs default to UTF-8.</p>\n</li>\n<li><p>However, note that when piping to <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/out-file\" rel=\"nofollow noreferrer\"><code>Out-File</code></a> in lieu of using <code>&gt;</code>, the decoding and re-encoding cycle described for Windows PowerShell in the next bullet point still applies; thus, you may want to use<br />\n<code>... | Out-File -LiteralPath (New-Item -Force c:\\missing_dir\\git_status.txt)</code> if you explicitly want to <em>transcode</em> external-program output to a different character encoding.</p>\n</li>\n<li><p>With input from <em>PowerShell</em> commands, by contrast, <code>&gt;</code> is, in effect an alias of <code>Out-File</code>, and creates <em>BOM-less UTF-8</em> files by default, the latter being PowerShell 7's consistent default (whereas in <em>Windows PowerShell</em> the default encodings differ widely, from cmdlet to cmdlet - see the bottom section of <a href=\"https://stackoverflow.com/a/40098904/45375\">this answer</a>).</p>\n</li>\n</ul>\n</li>\n<li><p>In <em>Windows PowerShell</em> (the legacy, ships-with-Windows, Windows-only edition of PowerShell whose latest and <em>final</em> version is 5.1):</p>\n<ul>\n<li><p><code>&gt;</code> creates &quot;Unicode&quot; (UTF-16LE) files by default (as does <code>Out-File</code>)...</p>\n</li>\n<li><p>... based on <em>first decoding the external-program output using the encoding stored in <code>[Console]::OutputEncoding</code></em> and then <em>re-encoding the resulting text</em> for writing to the target file.</p>\n<ul>\n<li><p><code>[Console]::OutputEncoding</code> reflects the character encoding corresponding to the legacy system locale's OEM code page, such as <code>437</code> on US-English systems, which, as noted, external programs typically use for encoding their output, especially historically, but with an increasing number of high-profile exceptions where UTF-8 is used.</p>\n</li>\n<li><p>Thus, to avoid misinterpretation of external-program output, <code>[Console]::OutputEncoding</code> must match the actual output encoding used by a given external program, situationally necessitating (temporary) modification of <code>[Console]::OutputEncoding</code>; see <a href=\"https://stackoverflow.com/a/58438716/45375\">this answer</a> for more information.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>While you <em>could</em> pipe output directly to <code>New-Item -Force</code>, with output <em>from external programs</em> there's <em>no good reason to do so</em>:</p>\n<ul>\n<li><p>Fundamentally, you need to pipe the output to <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/out-string\" rel=\"nofollow noreferrer\"><code>Out-String</code></a> first, so as to ensure that only a <em>single</em> object (multiline string) is piped to <code>New-Item -Force</code> - absent that, in effect only the <em>last</em> (stringified) input object is stored in the target file.<sup>[1]</sup></p>\n<ul>\n<li>Additionally, given that PowerShell streams external-program output <em>line by line</em> to the pipeline, the implication is that <code>Out-String</code> uses the <em>platform-native</em> newline sequence (<code>&quot;`r`n&quot;</code> (CRLF) on Windows, <code>&quot;`n&quot;</code> (LF) on Unix-like platforms) to &quot;stitch&quot; the output back together to form a multiline string, which can result in the target file using <em>different</em> newlines from the output.<br />\nThat said, the same applies to <em>Windows PowerShell</em> even when using <code>&gt;</code>.</li>\n</ul>\n</li>\n<li><p>In addition to the overhead introduced by the <code>Out-String</code> call - which of necessity <em>collects all input lines up front</em> (instead of <em>streaming</em> the input to the target file) - it subjects the input to the character decoding/re-encoding cycle described above (which, however, in <em>Windows PowerShell</em> fundamentally cannot be avoided, not even with the superior <code>&gt; (New-Item -Force ...)</code>  solution).</p>\n</li>\n<li><p>Finally, with respect to <em>output</em> character encoding:</p>\n<ul>\n<li><p>In <em>both</em> PowerShell editions the output is saved to the target file as <em>BOM-less UTF-8</em>.</p>\n</li>\n<li><p>While creating BOM-less UTF-8 files is consistent with the default behavior of <em>PowerShell (Core) 7</em> (except with use of <code>&gt;</code> on external-program calls in v7.4+, where the external program alone determines the character encoding), it is <em>unusual</em> in <em>Windows PowerShell</em>, which, as noted, creates &quot;Unicode&quot; (UTF-16LE) files with <code>&gt;</code> / <code>Out-File</code>, and otherwise only supports creating UTF-8 files <em>with BOM</em>, via <code>-Encoding UTF8</code> - see <a href=\"https://stackoverflow.com/a/66553739/45375\">this answer</a> for details.</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code># Less efficient alternative to the `&gt; (New-Item -Force ...)` solution, which is:\n#  * subject to character decoding and re-encoding even in PowerShell 7,\n#  * and invariably creates BOM-less UTF-8 files in both editions.\n# `$null = ` suppresses the [System.IO.FileInfo] instance output by \n# New-Item, which isn't of interest here.\n$null = \n  git status | Out-String | New-Item -Force c:\\missing_dir\\git_status.txt\n</code></pre>\n<hr />\n<p><sup>[1] Technically, <em>each and every</em> (stringified) input object is written to the target file, <em>in succession</em>, with each write operation <em>replacing the previous one</em>, so that in effect only the <em>last</em> input object's stringified representation ends up in the file. These successive write operations are reflected in <code>New-Item</code> outputting a <code>[System.IO.FileInfo]</code> instance <em>for each</em>.<br />\nAdditionally, the stringification performed by <code>New-Item</code> is, in essence, simple <code>.ToString()</code> stringification (i.e., .NET's default stringification), whereas <code>&gt;</code> uses the much richer, object-based  stringification provided by PowerShell's <a href=\"https://docs.microsoft.com/en-us/powershell/scripting/developer/format/formatting-file-overview\" rel=\"nofollow noreferrer\">for-display output-formatting system</a></sup></p>\n", "tags": ["powershell", "directory", "io-redirection"]}
