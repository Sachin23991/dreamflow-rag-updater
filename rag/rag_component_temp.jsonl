{"id": "39958322-e61d-4ecb-863a-0adfc1137d44", "text": "Q: Script to update 5500 fields in a telephone type column with random numbers A: <p>You don't need to invent such code to fill a single column in a database table with random numbers.</p>\n\n<p>Following update statement will populate <code>cliente_tel</code> column of the <code>commesse</code> table with 10 digit random numbers all beginning with <code>3</code>.</p>\n\n<pre><code>UPDATE\n  `commesse` \nSET\n  `cliente_tel` = CONCAT(\"3\",ROUND(RAND()*(999999999-100000000)+100000000)) \nWHERE 1;\n</code></pre>\n\n<p>Using <a href=\"https://dev.mysql.com/doc/refman/8.0/en/mathematical-functions.html#function_round\" rel=\"nofollow noreferrer\">ROUND()</a> is necessary here since <a href=\"https://dev.mysql.com/doc/refman/8.0/en/mathematical-functions.html#function_rand\" rel=\"nofollow noreferrer\">RAND()</a> returns a float between <code>0</code> and <code>1</code>.</p>\n\n<p><strong>Good to remember</strong>: Running any kind of update/insert statement in a loop is always expensive and slow. Try to avoid running SQL queries in a loop as much as possible.</p>\n", "tags": ["php", "mysqli"]}
{"id": "1c10e695-636a-4df7-9ae1-f5be75982f09", "text": "Q: MySQL query show the result out of range A: <p>Just as rypskar said, your type of field should be date.</p>\n\n<p>If you don't want to change the datatype of the fiels, then you have to convert the string to date with STR_TO_DATE(ddate, '%d-%m-%Y'). But this is not recommended, as it will cause performance degradation on larger tables.</p>\n\n<p>So your query would be like that (not tested!):</p>\n\n<pre><code>SELECT demand2.* FROM demand2 \nWHERE STR_TO_DATE(ddate, '%d-%m-%Y') &gt;= STR_TO_DATE('$dto', '%d-%m-%Y') AND STR_TO_DATE(ddate, '%d-%m-%Y') &gt;= STR_TO_DATE('$dfrom', '%d-%m-%Y') AND !(mach='--' OR mach='-' OR mach='' OR    mach='----' OR mach='-----' OR mach='---');\n</code></pre>\n\n<p>If you want to keep the varchar type of field and not make any runtime conversions, then you have to change the format to Y-m-d, so the comparison with character set will work the same as a date comparison.</p>\n\n<p>Right now, you are getting the result of 29-12-2019 because 29 is between 1 and 30.</p>\n", "tags": ["mysql"]}
{"id": "0e90ffd9-c1e6-446f-b06b-3d54de46f3ab", "text": "Q: Is there a difference between regular Mysql and MariaDB with Curdate which is messing up my query? A: <p>I discovered the solution which is the following.</p>\n\n<pre><code>DELETE FROM booking WHERE status_id = 1 AND date_add(booking.arrivalday, INTERVAL duration DAY) &lt; (CURDATE() -3)\n</code></pre>\n\n<p>A tiny change of syntax makes the query work. \nWhat caused it to stop working remains a mystery.\nThe only thing that I can think of is changing from regular PHP to Maria PHP.</p>\n", "tags": ["mysql"]}
{"id": "cd6da554-b840-4c9f-9bc9-bac6459a3bf3", "text": "Q: HTML CSS Div Overflow &amp; Position &quot;fixed&quot; A: <p>&lt;!DOCTYPE html&gt;</p>\n<p>&lt;html&gt;</p>\n<p>&lt;head&gt;</p>\n<p>&lt;title&gt;Nop\u021bi \u00een P\u0103durea Umbrelor&lt;/title&gt;</p>\n<p>&lt;style&gt;</p>\n<pre><code>body { margin:0; overflow:hidden; }\n\ncanvas { display:block; background:#001100; }\n\n.btn { position:fixed; width:50px; height:50px; opacity:0.5; background:#888; color:white; font-size:24px; border:none; }\n\n#up { top:80%; left:45%; } #down { top:90%; left:45%; }\n\n#left { top:85%; left:40%; } #right { top:85%; left:50%; }\n</code></pre>\n<p>&lt;/style&gt;</p>\n<p>&lt;/head&gt;</p>\n<p>&lt;body&gt;</p>\n<p>&lt;canvas id=&quot;game&quot;&gt;&lt;/canvas&gt;</p>\n<p>&lt;!-- Butoane touch --&gt;</p>\n<p>&lt;button class=&quot;btn&quot; id=&quot;up&quot;&gt;\u2191&lt;/button&gt;</p>\n<p>&lt;button class=&quot;btn&quot; id=&quot;down&quot;&gt;\u2193&lt;/button&gt;</p>\n<p>&lt;button class=&quot;btn&quot; id=&quot;left&quot;&gt;\u2190&lt;/button&gt;</p>\n<p>&lt;button class=&quot;btn&quot; id=&quot;right&quot;&gt;\u2192&lt;/button&gt;</p>\n<p>&lt;script&gt;</p>\n<p>let canvas = document.getElementById('game');</p>\n<p>let ctx = canvas.getContext('2d');</p>\n<p>canvas.width = window.innerWidth;</p>\n<p>canvas.height = window.innerHeight;</p>\n<p>let player = {x:200, y:200, size:20, fear:0};</p>\n<p>let shadow = {x:400, y:200, size:20};</p>\n<p>let fire = {x:300, y:300, size:30};</p>\n<p>let keys = {up:false, down:false, left:false, right:false};</p>\n<p>// Touch buttons</p>\n<p>document.getElementById('up').addEventListener('touchstart',()=&gt;keys.up=true);</p>\n<p>document.getElementById('up').addEventListener('touchend',()=&gt;keys.up=false);</p>\n<p>document.getElementById('down').addEventListener('touchstart',()=&gt;keys.down=true);</p>\n<p>document.getElementById('down').addEventListener('touchend',()=&gt;keys.down=false);</p>\n<p>document.getElementById('left').addEventListener('touchstart',()=&gt;keys.left=true);</p>\n<p>document.getElementById('left').addEventListener('touchend',()=&gt;keys.left=false);</p>\n<p>document.getElementById('right').addEventListener('touchstart',()=&gt;keys.right=true);</p>\n<p>document.getElementById('right').addEventListener('touchend',()=&gt;keys.right=false);</p>\n<p>function update(){</p>\n<p>// Player movement</p>\n<p>if(keys.up) player.y -= 3;</p>\n<p>if(keys.down) player.y += 3;</p>\n<p>if(keys.left) player.x -= 3;</p>\n<p>if(keys.right) player.x += 3;</p>\n<p>// Umbra se apropie</p>\n<p>let dx = player.x - shadow.x;</p>\n<p>let dy = player.y - shadow.y;</p>\n<p>let dist = Math.sqrt(dx*dx + dy*dy);</p>\n<p>if(dist&gt;5){</p>\n<pre><code>shadow.x += dx\\*0.5/10;\n\nshadow.y += dy\\*0.5/10;\n</code></pre>\n<p>} else {</p>\n<pre><code>player.fear += 0.5;\n</code></pre>\n<p>}</p>\n<p>// Foc reduce frica</p>\n<p>let fx = player.x - fire.x;</p>\n<p>let fy = player.y - fire.y;</p>\n<p>let fDist = Math.sqrt(fx*fx + fy*fy);</p>\n<p>if(fDist &lt; 50) player.fear -= 0.3;</p>\n<p>if(player.fear&lt;0) player.fear=0;</p>\n<p>}</p>\n<p>function draw(){</p>\n<p>ctx.clearRect(0,0,canvas.width,canvas.height);</p>\n<p>// Foc</p>\n<p>ctx.fillStyle='orange';</p>\n<p>ctx.fillRect(fire.x-fire.size/2, fire.y-fire.size/2, fire.size, fire.size);</p>\n<p>// Umbra</p>\n<p>ctx.fillStyle='black';</p>\n<p>ctx.fillRect(shadow.x-shadow.size/2, shadow.y-shadow.size/2, shadow.size, shadow.size);</p>\n<p>// Player</p>\n<p>ctx.fillStyle='green';</p>\n<p>ctx.fillRect(player.x-player.size/2, player.y-player.size/2, player.size, player.size);</p>\n<p>// Fric\u0103</p>\n<p>ctx.fillStyle='white';</p>\n<p>ctx.fillText(&quot;Fric\u0103: &quot; + Math.floor(player.fear), 20, 30);</p>\n<p>}</p>\n<p>function loop(){</p>\n<p>update();</p>\n<p>draw();</p>\n<p>requestAnimationFrame(loop);</p>\n<p>}</p>\n<p>loop();</p>\n<p>&lt;/script&gt;</p>\n<p>&lt;/body&gt;</p>\n<p>&lt;/html&gt;</p>\n", "tags": ["html", "css"]}
{"id": "54e2996a-7e41-4057-96c7-bc2c4588eb53", "text": "Q: How to show results after two weeks A: <p>you can try like below, use explicit join </p>\n\n<pre><code>SELECT \nFROM Patient p join Donation d\non p.patientID=d.donationID \nwhere  donationDate &gt;= date(current_date()-14);\n</code></pre>\n", "tags": ["sql", "mysql"]}
{"id": "698f9ef8-748f-4c89-a915-bbdab197e8fa", "text": "Q: Debug errors in expressJs A: <p>In Visual Studio Code, go to Debug view, at the bottom there is a breakpoints section, just uncheck 'All Exceptions' and uncheck 'Uncaught Exceptions'.</p>\n", "tags": ["javascript", "express"]}
{"id": "c9a45e3e-7cd2-4a88-b077-ba522923c708", "text": "Q: How to import CSV file into database and move into a folder using jQuery AJAX? A: <p>at you function import</p>\n\n<pre><code>  public function import()\n            {\n                    $config['upload_path']          = './uploads/';\n                    $config['allowed_types']        = 'csv';\n\n                    $this-&gt;load-&gt;library('upload', $config);\n\n                    if ( ! $this-&gt;upload-&gt;do_upload('files'))\n                    {\n                            print_r($this-&gt;upload-&gt;display_errors());\n                            EXIT;\n                    }\n                    else\n                    {\n                    $fData = $this-&gt;upload-&gt;data();        \n    $data = array();\n    $file = fopen($fData['file_name'], \"r\");\n             while (($emapData = fgetcsv($file, 10000, \",\")) !== FALSE)\n             {\n                $data[] = array(\n                'fieldname1' =&gt; $emapData[0];\n                'fieldname2' =&gt; $emapData[1];\n                );\n    // array for active record \n             }\n             fclose($file);\n             $this-&gt;load-&gt;model('any_model');\n             $this-&gt;any_model-&gt;batch_data($data);\n             echo \"CSV File has been successfully Imported.\";\n\n                    }\n            }\n    }\n</code></pre>\n\n<p>model: </p>\n\n<pre><code>function batch_data($data = array())\n{\n $this-&gt;db-&gt;insert_batch('table_name',$data);\n}\n</code></pre>\n\n<p>that are the steps you need to follow ... </p>\n", "tags": ["jquery", "csv", "codeigniter", "import"]}
{"id": "96ff82bf-475e-4fce-a5ae-9138743ee5b0", "text": "Q: How can i make this mysql query ? If possible at all A: <p>I figured a solution on my own, of course this example table is nonsense, the point is the way it had been solved.</p>\n\n<pre>\n`\nSELECT  \n  property,  \n  value,  \n  COUNT(t.itemname) AS count  \nFROM ( \n  SELECT \n    itemname \n  FROM \n    table \n  GROUP BY \n    itemname \n  HAVING \n    COUNT (CASE WHEN property='size' AND value IN ('big','small') THEN 1 END) >=1  \n    && \n    COUNT (CASE WHEN property='color' AND value IN ('blue') THEN 1 END) >=1\n   ) t\nINNER JOIN \n  table ON table.itemname=t.itemname \nGROUP BY \n  property,value\n`\n</pre>\n", "tags": ["mysql"]}
{"id": "da4d8c9a-778d-45da-b487-8854c317a27c", "text": "Q: Execute two different queries as a single mysql query A: <pre><code>SELECT \n    SUM(dischargecount) AS dis, MONTHNAME(dischargedate) AS n\nFROM\n    user\nWHERE\n    DATE(dischargedate) BETWEEN '$from' AND '$to'\nGROUP BY MONTH(dischargedate)\nUNION ALL\nSELECT \n    COUNT(DISTINCT response_user) AS val1,\n    MONTHNAME(response_on) AS m\nFROM\n    response\nWHERE\n    response_on BETWEEN '$from' AND '$to'\nGROUP BY MONTH(response_on)\n</code></pre>\n", "tags": ["mysql"]}
