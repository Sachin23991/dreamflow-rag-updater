{"id": "d896b63a-d93b-47c8-a6b8-26e55300c141", "text": "Q: C++: do I need to free the pointer inside function? A: <p>All that's in <strong>heap</strong> <em>shall</em> be freed. All that's in <strong>stack</strong> shall <em>not</em> be freed. All(most all) that doesn't use the<code>new</code> and <code>delete</code> keywords isn't in heap, but in <strong>stack</strong>.</p>\n<p>Thus, your pointer is in stack, so it <strong>shall not be deallocated</strong>.</p>\n", "tags": ["c++", "pointers"]}
{"id": "e9c9da68-f94f-43fd-a655-a8cd7f3b95e0", "text": "Q: How to count the number of matching characters in two strings of the same length? A: <p>Test data for this solution (example)</p>\n<pre><code>create table test (id int,str1 varchar(10),str2 varchar(10));\ninsert into test values\n (1,'keyboard','ekyboard')\n,(2,'keyboard','cijpoart')\n;\n</code></pre>\n<p>There I need int number sequence. Actually, there are many ways to generate a sequence in the answers.\nI'l use table.</p>\n<pre><code>create table sequenceN (idx int);\ninsert into sequenceN values \n (1),(2),(3),(4),(5),(6),(7),(8),(9),(10)\n,(11),(12),(13),(14),(15),(16),(17),(18),(19),(20)\n;\n</code></pre>\n<p>As I understand it, it is possible that the question refers to the correspondence of a symbol to several symbols. I propose to build a dictionary (matrix) of correspondence.</p>\n<pre><code>create table key_map (s1 char(1),s2 varchar(10));\ninsert into key_map values\n ('k','ck')\n,('e','eij')\n,('y','ijy')\n,('b','bp')\n,('o','ao')\n,('a','ao')\n,('d','dt')\n,('r','r')\n;  \n</code></pre>\n<p>The actual proposed solution.</p>\n<ol>\n<li>Split the compared strings to single symbol character by character.</li>\n<li>JOIN with &quot;map&quot;.</li>\n<li>Count matches</li>\n</ol>\n<pre><code>select id,str1,str2\n  ,count(km.s2) mapMatches\n  ,sum(case when s1i=s2i then 1 else 0 end)fullMathes\nfrom(\n  select *\n    ,substring(str1,idx,1) s1i\n    ,substring(str2,idx,1) s2i\n  from test t\n  cross join sequenceN sq on sq.idx&lt;=length(t.str1)\n)t1\nleft join key_map km on km.s1=s1i and instr(km.s2,s2i)&gt;0\ngroup by id,str1,str2\norder by idx\n</code></pre>\n<p>We get &quot;mapMatches&quot; - thru key_map, and &quot;fullMatches&quot; - equality by symbol.</p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: right;\">id</th>\n<th style=\"text-align: left;\">str1</th>\n<th style=\"text-align: left;\">str2</th>\n<th style=\"text-align: right;\">mapMatches</th>\n<th style=\"text-align: right;\">fullMathes</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: right;\">1</td>\n<td style=\"text-align: left;\">keyboard</td>\n<td style=\"text-align: left;\">ekyboard</td>\n<td style=\"text-align: right;\">6</td>\n<td style=\"text-align: right;\">6</td>\n</tr>\n<tr>\n<td style=\"text-align: right;\">2</td>\n<td style=\"text-align: left;\">keyboard</td>\n<td style=\"text-align: left;\">cijpoart</td>\n<td style=\"text-align: right;\">8</td>\n<td style=\"text-align: right;\">3</td>\n</tr>\n</tbody>\n</table></div>\n<p><a href=\"https://dbfiddle.uk/jq-Jp2xKk\" rel=\"nofollow noreferrer\">fiddle</a></p>\n", "tags": ["sql", "mariadb"]}
{"id": "5f52da01-3c0a-4e93-bed5-e9b0a1b49920", "text": "Q: Function to compare my age to somebody else&#39;s age A: <p>In this if Statement you are assigning <code>age</code> the value of <code>myAge</code> and passing the result to the if.</p>\n<pre><code>if (age = myAge){\n</code></pre>\n<p>In Javascript the boolean value of any integer is true.</p>\n<pre><code>console.log(Boolean(27));\n//prints true\n</code></pre>\n<p>To actually compare the values <code>age</code> and <code>myAge</code>you need to use the double equal sign operator. Like this:</p>\n<pre><code>function compareAge(name,age){\n  let myAge=27;\n  if (age == myAge){\n    return `${name} is the same age as me.`\n  }else if (age &lt; myAge){\n    return `${name} is younger than me.`\n  }else if (age &gt; myAge){\n    return `${name} is older than me.`\n  }\n}\n  console.log(compareAge('Kat',2));\n</code></pre>\n", "tags": ["javascript", "algorithm", "function", "compare"]}
{"id": "ee0019b0-41e1-447f-b055-c0cf9a1398ee", "text": "Q: python: numpy array interface to struct.unpack? A: <p>I think you are overcomplicating things. The output is a simple byte array of N bit integers (little endian PCM format). If the number of bits corresponds to a small power of two, e.g. 16 bit, you can simply reinterpret the buffer as a numpy array. One weirdness with WAV is that <a href=\"https://stackoverflow.com/questions/10731226/how-to-determine-if-8bit-wav-file-is-signed-or-unsigned-using-java-and-without\">8 bit is unsigned. Everything else is signed.</a></p>\n<p>This works for 8, 16, or 32 bit PCM, arbitrary number of channels:</p>\n<pre class=\"lang-py prettyprint-override\"><code>wr = wave.open(file_name, 'r')\nsampwidth = wr.getsampwidth()\ndtype = f'&lt;i{sampwidth}' if sampwidth &gt; 1 else f'&lt;u{sampwidth}'\nchannels = wr.getnchannels()\nblocksize = 1024\nfor block in range(0, wr.getnframes(), blocksize):\n    raw = wr.readframes(blocksize)\n    asnumpy = np.frombuffer(raw, dtype=dtype).reshape((-1, channels))\n</code></pre>\n<p>Things to consider:</p>\n<ol>\n<li>Is 24 bit PCM support required? Then it's a bit more messy as there is no 3 byte integer type</li>\n<li>How are floating point wave files described by the <code>wave</code> module? That's not abundantly clear to me. I believe there simply is no support</li>\n</ol>\n<h2>UPDATE</h2>\n<p>A more complex example with support for 24 bit PCM may look like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>wr = wave.open(file_name, 'r')\nsampwidth = wr.getsampwidth()\nchannels = wr.getnchannels()\nif sampwidth in (1, 2, 4, 8):\n    dtype = f'&lt;u{sampwidth}' if sampwidth == 1 else f'&lt;i{sampwidth}'\n    def convert(raw):\n        return np.frombuffer(raw, dtype=dtype).reshape((-1, channels))\nelse:\n    bytelength = 1 &lt;&lt; sampwidth.bit_length()\n    rightshift = (bytelength - sampwidth) * 8 # for sign extension\n    udtype = f'u{bytelength}'\n    idtype = f'i{bytelength}'\n    leftshifts = np.arange(rightshift, 8 * bytelength, 8, dtype=udtype)\n    def convert(raw):\n        rtrn = np.frombuffer(raw, 'u1').reshape((-1, channels, sampwidth))\n        rtrn = (rtrn &lt;&lt; leftshifts).sum(axis=-1, dtype=udtype)\n        # arithmetic right shift for sign extension\n        return rtrn.astype(idtype) &gt;&gt; rightshift\n\nblocksize = 1024\nfor block in range(0, wr.getnframes(), blocksize):\n    raw = wr.readframes(blocksize)\n    asnumpy = convert(raw)\n</code></pre>\n", "tags": ["python", "numpy", "struct", "ctypes"]}
{"id": "249098b4-b8cc-4f76-be52-6b372504407e", "text": "Q: Hbox not showing when set Bottom A: <p>The issue is that your <strong>BorderPane (bp)</strong> isn't sized properly. You're adding it to a parent pane, but the BorderPane itself has no size constraints, so it collapses to fit only its content minimally. The side menu appears because you bound its height directly to the parent pane, bypassing the BorderPane's layout. But the bottom HBox relies on the BorderPane to position it, and since the BorderPane has no defined size, there's no &quot;bottom&quot; area to place it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HomePane(Controller cr) {\n    super(cr);\n    bp = new BorderPane();\n    \n    // Add these bindings\n    bp.prefWidthProperty().bind(getPane().widthProperty());\n    bp.prefHeightProperty().bind(getPane().heightProperty());\n    \n    super.getPane().getChildren().add(bp);\n    initHomePane();\n}\n</code></pre>\n<p>then updat initSideMenu() to let the BorderPane manage the height.</p>\n<pre><code>public void initSideMenu() {\n    sidemenu = new VBox(4);\n    // Remove the height binding, let BorderPane handle it\n    sidemenu.prefWidthProperty().bind(getPane().widthProperty().multiply(0.16));\n    // ... rest\n}\n</code></pre>\n", "tags": ["java", "javafx", "hbox"]}
{"id": "1c1b01ac-5156-4dd3-b95b-283c59da6dae", "text": "Q: Anonymous delegate vs Event handler for getting data from data thread to GUI thread A: <p>I think I may need to see a code example on how to use it in this scenario. Looking at documentation and other examples leads me to believe I would need to change the code inside of the 3rd party library in order to use <code>IProgress&lt;T&gt;</code> properly.</p>\n", "tags": ["c#", "multithreading"]}
{"id": "3407937d-e588-43b9-bc0f-5d0abd6c6aa8", "text": "Q: Pycharm debugger &quot;waiting for connections&quot; but running still working A: <p>In my case, changing <code>entrypoint</code> to <code>command</code> for the main service in <code>docker-compose.yaml</code> solved the issue.</p>\n<p>Ref <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003328800/comments/11041037326994\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003328800/comments/11041037326994</a></p>\n", "tags": ["python", "django", "pycharm", "dock"]}
