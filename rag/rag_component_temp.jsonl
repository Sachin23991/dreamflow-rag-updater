{"id": "73a50848-21d5-4241-8031-ff9e1244c576", "text": "Q: How to open a modal with nested navigation in expo-router and close it programmatically on completion? A: <p>I ran into the same issue and modified the solution I found in <a href=\"https://www.reddit.com/r/expo/comments/1onm0tt/exporouter_presenting_modally_a_directory_doesnt/\" rel=\"nofollow noreferrer\">this reddit thread</a>.</p>\n<p>It appears that calling <code>router.dismiss(n)</code> never dismisses the <em>current</em> stack, regardless of how large <code>n</code> is. As a result, two consecutive calls are required to fully close the modal.</p>\n<p>However, this approach fails when there is no nested stack in the navigation hierarchy, in which case it throws an error.</p>\n<p>So I came up with this quite clumsy but working approach.</p>\n<pre class=\"lang-jsx prettyprint-override\"><code>import { Ionicons } from '@expo/vector-icons';\nimport { router, useNavigation } from 'expo-router';\nimport { Pressable } from 'react-native';\n\nconst CloseButton = () =&gt; {\n  const navigation = useNavigation();\n\n  function closeModal() {\n    const parentRoutes = navigation.getState()?.routes;\n\n    // if for some reason there are no routes, dismiss to root\n    if (!parentRoutes?.length) {\n      router.dismissTo('/(tabs)');\n      return;\n    }\n\n    const topRoute = parentRoutes.at(-1);\n    const innerRoutes = topRoute?.state?.routes;\n\n    // if the stack inside the modal has no routes or just one, only one dismiss is necessary\n    if (!innerRoutes?.length || innerRoutes.length === 1) {\n      router.dismiss();\n      return;\n    }\n\n    router.dismissAll();\n    router.dismiss();\n  }\n  return (\n    &lt;Pressable\n      onPress={closeModal}\n    &gt;\n      &lt;Ionicons name=&quot;close&quot; size={28} /&gt;\n    &lt;/Pressable&gt;\n  );\n};\n</code></pre>\n", "tags": ["react-native", "expo-router", "react-native-modal"]}
{"id": "ab97113c-13a3-4ef0-8780-f0b4fc5cf1da", "text": "Q: How can I make the server the single source of truth for pricing in a React + Vite app with an Express backend? A: <p>Just don't trust information coming from the client which isn't owned by the client.</p>\n<p>For example, client-owned information might include:</p>\n<ul>\n<li>Name</li>\n<li>Address</li>\n<li>Phone Number</li>\n<li>Products Being Ordered</li>\n</ul>\n<p>And non-client-owned information might include:</p>\n<ul>\n<li>Product Price</li>\n<li>Taxes applied</li>\n<li>Shipping Costs</li>\n</ul>\n<p>It's not really an <em>architecture</em> concern, really.  If your data is the source of truth for certain information then when you need to fetch that information, fetch it from your data.</p>\n", "tags": ["reactjs", "vite", "supabase"]}
{"id": "5556b761-5e51-43cb-aaa6-5bf6239afdd3", "text": "Q: Dynamic and Unique MessageGroupId&#39;s for EventBridge Pipe FIFO SQS Target A: <p>Amazon EventBridge now supports targeting SQS fair queues <a href=\"https://aws.amazon.com/about-aws/whats-new/2025/11/amazon-eventbridge-sqs-fair-queue-targets/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2025/11/amazon-eventbridge-sqs-fair-queue-targets/</a></p>\n<p><a href=\"https://github.com/aws/aws-cdk/pull/36068\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-cdk/pull/36068</a></p>\n", "tags": ["amazon-web-services", "amazon-sqs", "aws-event-bridge"]}
{"id": "96778eca-b81b-48a2-bccd-47cb118b656d", "text": "Q: In perl, how do I use modules created with module-starter in the same directory? A: <p>Add the directories you want to be included in the Perl Module search using the PERL5LIB environment variable:</p>\n\n<blockquote>\n  <p>export PERL5LIB=/somedir</p>\n</blockquote>\n", "tags": ["perl", "perl-module"]}
{"id": "9a1d1703-2069-45d6-80e9-8a89729bf47f", "text": "Q: perform gw-basic comparison of two variables A: <p>Next <strong>4</strong> statements solve the problem of connecting a planet's name to its gravitational constant and <strong>without using the <code>IF</code> statement</strong>:</p>\n<pre><code>1 INPUT &quot;Weight on earth and name of other planet : &quot;,W,P$\n2 D$=&quot;1.00earth0.38mercury0.91venus0.41mars2.54jupiter0.92saturn0.91uranus1.14neptune&quot;\n3 I%=INSTR(D$,P$)\n4 PRINT &quot;Weight on &quot;;P$;&quot; is&quot;;W*VAL(MID$(D$,I%+(I%&gt;0)*5+1,4))\n</code></pre>\n<p>The difficult part here is to avoid a string indexing error if ever INSTR should return 0 (for not having found the substring). In GW-BASIC (and other BASICs) a comparison like <code>(I%&gt;0)</code> produces FALSE (0) or TRUE (-1). In my expression <code>I%+(I%&gt;0)*5+1</code> this translates to the following:</p>\n<pre><code>P$          I% (INSTR)                                      I% (MID$)\n==          ==                                              ==\nearth        5     5 + ( 5 &gt; 0)*5 + 1 -&gt;  5 + (-1)*5 + 1 -&gt;  1\nmercury     14    14 + (14 &gt; 0)*5 + 1 -&gt; 14 + (-1)*5 + 1 -&gt; 10\nvenus       25    25 + (25 &gt; 0)*5 + 1 -&gt; 25 + (-1)*5 + 1 -&gt; 21\nmars        34    34 + (34 &gt; 0)*5 + 1 -&gt; 34 + (-1)*5 + 1 -&gt; 30\njupiter     42    42 + (42 &gt; 0)*5 + 1 -&gt; 42 + (-1)*5 + 1 -&gt; 38\nsaturn      53    53 + (53 &gt; 0)*5 + 1 -&gt; 53 + (-1)*5 + 1 -&gt; 49\nuranus      63    63 + (63 &gt; 0)*5 + 1 -&gt; 63 + (-1)*5 + 1 -&gt; 59\nneptune     73    73 + (73 &gt; 0)*5 + 1 -&gt; 73 + (-1)*5 + 1 -&gt; 69\npluto        0     0 + ( 0 &gt; 0)*5 + 1 -&gt;  0 + ( 0)*5 + 1 -&gt;  1\n</code></pre>\n<p>So, if INSTR found the planet then the index that got returned gets decremented by 4. On the other hand if the planet was not found the zero-returned index gets incremented by 1 so that MID$ can fetch a default conversion factor (one that doesn't change the weight).</p>\n<p>Don't feel compelled to put everything in just 4 lines. You <em>can</em> use two different INPUT statements, and introduce several intermediate steps instead of using the compound expression...</p>\n", "tags": ["user-input", "basic", "gw-basic"]}
