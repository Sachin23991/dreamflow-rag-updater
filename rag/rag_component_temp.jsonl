{"id": "7a9f986c-f217-403c-9ff0-302635cde331", "text": "Q: My first encounter with error in git logic A: <pre><code>\u201cNo, Git isn\u2019t broken. What\u2019s broken is the assumption that \u2018one line changed\u2019 means anything to Git.\u201d\n    \n     \u2013 Linus Torvalds\n\nGit is not tracking changes; Git is tracking snapshots. The instant the starting commit for your branch branches off from the target branch \u2014 even if this happens because you did a rebase five minutes earlier \u2014 GitHub will no longer be able to autoforge a clean merge. This might happen because you did a rebase or an amend, because a file formatter simply touched the file or because line-endings have been normalized. GitHub is not lining up your change against \u201cwhat you think the file should look like.\u201d GitHub is lining up changes between two different histories.\n\nIn addition, there\u2019s no magic involved in the UI. When you pull and merge or rebaseline, you will literally see what\u2019s causing it to conflict. Nine out of ten times, it will be touching the same file but changing it differently on both ends, even if it appears exactly the same to a human.\n\nNo, Git did not just suddenly forget how version control systems work. Git is simply doing what it is meant to be doing: refusing to guess. Fix the merge conflict and be done with it.\n</code></pre>\n", "tags": ["git", "github"]}
{"id": "b1f02257-89c0-4d9e-88b5-870ef2da2a75", "text": "Q: Why does scipy.signal.ShortTimeFFT.upper_border_begin depend on the window values? A: <p>The reason is ultimately that <a href=\"https://docs.scipy.org/doc/scipy-1.16.2/reference/generated/scipy.signal.ShortTimeFFT.upper_border_begin.html\" rel=\"nofollow noreferrer\"><code>upper_border_begin()</code></a> evaluates <em>the actual values of the window</em> to determine (quote from the documentation) \u2026</p>\n<blockquote>\n<p>\u2026 the point where the window does begin stick out to the right of the signal domain.</p>\n</blockquote>\n<p>In particular, the method is looking for <em>zero values</em> at the trailing window border. This can be seen from the loop <a href=\"https://github.com/scipy/scipy/blob/v1.16.2/scipy/signal/_short_time_fft.py#L1861-L1866\" rel=\"nofollow noreferrer\">starting in line 1861</a> in the source code of the current version:</p>\n<pre class=\"lang-py prettyprint-override\"><code>for q_ in range(q2, q1, -1):\n    k_ = q_ * self.hop + (self.m_num - self.m_num_mid)\n    if k_ &lt;= n or all(w2[n-k_:] == 0):\n        return_value = (q_ + 1) * self.hop - self.m_num_mid, q_ + 1\n        self. _cache_upper_border_begin = n, return_value\n        return return_value\n</code></pre>\n<p>Here, <code>w2</code> contains the squared values of your window (see <a href=\"https://github.com/scipy/scipy/blob/v1.16.2/scipy/signal/_short_time_fft.py#L1857\" rel=\"nofollow noreferrer\">line 1857</a>), implying that zeros in your window are also zeros in <code>w2</code>.</p>\n<p>What's now crucial is the condition <code>if \u2026 all(w2[n-k_:] == 0)</code>: It makes a window with trailing zeros return earlier, and thus with a different <code>return_value</code>, than a window without trailing zeros. In your code, <code>scipy.signal.windows.hann(6)</code> actually <em>has</em> one trailing zero, in contrast to both <code>np.ones(6)</code> from your first example and the altered Hann window from your last example, and thus produces a different result than the other two.</p>\n<p>Admittedly this is a very low-level explanation of the actual code. Unfortunately, I cannot provide a more high-level perspective; in particular, as to what is the intuition and implications in the context of short-time FFT, since I am not familiar with the details of the latter.</p>\n", "tags": ["python", "scipy", "sliding-window"]}
{"id": "19cae230-b0c9-4bae-abd6-c93b76a967f4", "text": "Q: Subsetting a dataframe based on &quot;negation&quot; A: <p>In <code>dplyr</code>, you can use <code>if_any</code> in <code>filter</code> -</p>\n<pre><code>values &lt;- c(1111, 1112, 1113)\nres &lt;- dataframe1 %&gt;% filter(!if_any(DX1:DX30, ~. %in% values))\n</code></pre>\n<p>In base R, here are two options with <code>sapply</code>/<code>lapply</code> -</p>\n<pre><code>cols &lt;- grep('DX', names(dataframe1))\n#1. lapply\nres &lt;- dataframe1[!Reduce(`|`, lapply(dataframe1[cols], `%in%`, values)), ]\n\n#2. sapply\nres &lt;- dataframe1[rowSums(sapply(dataframe1[cols], `%in%`, values)) == 0,]\n</code></pre>\n", "tags": ["r"]}
{"id": "3ddf3406-4294-4e1e-9982-0a3da8e611a9", "text": "Q: &#39;Collection is read-only.&#39; when trying to initialise entities A: <pre><code>builder.OwnsMany(\n    x =&gt; x.ReadOnlyList,\n    builder =&gt;\n    {\n       // props\n    }).Navigation(x =&gt; x.ReadOnlyList).HasField(&quot;_backfieldList&quot;);\n</code></pre>\n<p>i got it working with this configuration: with this i can customize backfield name without using ef core convention</p>\n", "tags": ["c#", "entity-framework-core", ".net-5"]}
{"id": "cd9c946c-035f-4eb7-945b-b163ef3fd822", "text": "Q: How to query columns that are lists or dicts? A: <p>I'd suggest two paths:</p>\n<ul>\n<li>Preprocess the json before coming into Pandas</li>\n<li>Use a library dedicated to ragged/non-rectanglular data, in this case <a href=\"https://akimbo.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">akimbo</a></li>\n</ul>\n<pre><code>import akimbo.pandas\n\ndata = [\n    {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;John Doe&quot;,\n      &quot;age&quot;: 30,\n      &quot;email&quot;: &quot;john.doe@example.com&quot;,\n      &quot;isStudent&quot;: False,\n      &quot;hobbies&quot;: [&quot;reading&quot;, &quot;gaming&quot;, &quot;hiking&quot;],\n      &quot;address&quot;: {\n        &quot;street&quot;: &quot;123 Main St&quot;,\n        &quot;city&quot;: &quot;Anytown&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n      }\n    },\n    {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Jane Smith&quot;,\n      &quot;age&quot;: 25,\n      &quot;email&quot;: &quot;jane.smith@example.com&quot;,\n      &quot;isStudent&quot;: True,\n      &quot;hobbies&quot;: [&quot;painting&quot;, &quot;yoga&quot;, &quot;photography&quot;],\n      &quot;address&quot;: {\n        &quot;street&quot;: &quot;456 Oak Ave&quot;,\n        &quot;city&quot;: &quot;Somewhere&quot;,\n        &quot;country&quot;: &quot;Canada&quot;\n      }\n    },\n    {\n      &quot;id&quot;: 3,\n      &quot;name&quot;: &quot;Bob Johnson&quot;,\n      &quot;age&quot;: 42,\n      &quot;email&quot;: &quot;bob.johnson@example.com&quot;,\n      &quot;isStudent&quot;: False,\n      &quot;hobbies&quot;: [&quot;cooking&quot;, &quot;fishing&quot;, &quot;gardening&quot;],\n      &quot;address&quot;: {\n        &quot;street&quot;: &quot;789 Pine Rd&quot;,\n        &quot;city&quot;: &quot;Otherville&quot;,\n        &quot;country&quot;: &quot;UK&quot;\n      }\n    },\n    {\n      &quot;id&quot;: 4,\n      &quot;name&quot;: &quot;Alice Chen&quot;,\n      &quot;age&quot;: 28,\n      &quot;email&quot;: &quot;alice.chen@example.com&quot;,\n      &quot;isStudent&quot;: False,\n      &quot;hobbies&quot;: [&quot;coding&quot;, &quot;chess&quot;, &quot;traveling&quot;],\n      &quot;address&quot;: {\n        &quot;street&quot;: &quot;321 Maple Blvd&quot;,\n        &quot;city&quot;: &quot;Techcity&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n      }\n    },\n    {\n      &quot;id&quot;: 5,\n      &quot;name&quot;: &quot;David Wilson&quot;,\n      &quot;age&quot;: 19,\n      &quot;email&quot;: &quot;david.wilson@example.com&quot;,\n      &quot;isStudent&quot;: True,\n      &quot;hobbies&quot;: [&quot;basketball&quot;, &quot;music&quot;, &quot;movies&quot;],\n      &quot;address&quot;: {\n        &quot;street&quot;: &quot;654 Cedar Ln&quot;,\n        &quot;city&quot;: &quot;University Town&quot;,\n        &quot;country&quot;: &quot;Australia&quot;\n      }\n    }\n]\n\ndf = pd.DataFrame(data)\n\nIn [65]: df.hobbies.ak\nOut[65]: &lt;Array [['reading', 'gaming', 'hiking'], ..., [...]] type='5 * var * ?string'&gt;\n\nIn [66]: df.hobbies.ak[1]\nOut[66]:\n0       painting\n1           yoga\n2    photography\ndtype: string[pyarrow]\n\nIn [67]: df.address.ak['street']\nOut[67]:\n0       123 Main St\n1       456 Oak Ave\n2       789 Pine Rd\n3    321 Maple Blvd\n4      654 Cedar Ln\ndtype: string[pyarrow]\n\n# match a substring\nIn [71]: df.address.ak['street'].ak.str.match_substring('Ave')\nOut[71]:\n0    False\n1     True\n2    False\n3    False\n4    False\ndtype: bool[pyarrow]\n\nIn [72]: df.loc[df.address.ak['street'].ak.str.match_substring('Ave')]\nOut[72]:\n   id        name  age                   email  isStudent                        hobbies                                            address\n1   2  Jane Smith   25  jane.smith@example.com       True  [painting, yoga, photography]  {'street': '456 Oak Ave', 'city': 'Somewhere',...\n</code></pre>\n<p>Have a look at the docs for various ways of using the library. It is quite powerful. It is built on <a href=\"https://awkward-array.org/doc/main/reference/index.html\" rel=\"nofollow noreferrer\">awkward-arrays</a> so you have access to a plethora of methods, via the <code>.ak</code> attribute.</p>\n", "tags": ["python", "pandas"]}
{"id": "4fbdf3d0-908b-40ad-8ec2-372111d4e351", "text": "Q: Order of operation before after C++17 A: <p>Before C++17 that line is UB, so anything is possible, including calling <code>f(2, 2);</code></p>\n<p>Speculating on UB (undefined behavior) is mostly pointless.\nCompiler programmers aren't evil.</p>\n<p>So for <code>f(i++, i);</code> we might say that we have <code>f((i, side_effect()), i);</code>, and as <code>side_effect()</code> cannot modify <code>i</code> without UB, we can move it before (or after):</p>\n<pre><code>i++; // can be placed before as it cannot modify i without UB\nf(i, i);\n</code></pre>\n<p>and so we have <code>f(2, 2)</code>.</p>\n", "tags": ["c++", "c++17"]}
