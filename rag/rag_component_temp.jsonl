{"id": "2cbf7549-8630-4ad7-9f72-bc9db7e8c01b", "text": "Q: Updating a table with CASE A: <p>Looks like you're confusing between a <code>case</code> expression and a <code>where</code> clause.</p>\n<p>Without a <code>where</code> clause, the update statement will effect <strong>all the rows in the table</strong>. Once you have that in mind, you'll probably ask what happens with the rows that don't match any of the <code>when</code> clauses. The answer is that a <code>case</code> expression will implicilty return <code>null</code> if none of the <code>when</code>s are matched.</p>\n<p>I.e., having <code>CASE WHEN quantity IS NULL THEN 3 END</code> is implicilty the same as saying <code>CASE WHEN quantity IS NULL THEN 3 ELSE NULL END</code>, which means that any row that didn't have a <code>null</code> value there to begin with will have one there now.</p>\n<p>The solution, as I eluded to in the first sentence, is to use a <code>where</code> clause. With that, you'll see you don't even need a <code>case</code> expression for this usecase:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE dbo.dirty_cafe_sales\nSET    quantity = 3\nWHERE  quantity IS NULL -- Here!\n</code></pre>\n", "tags": ["sql", "sql-server", "null", "sql-update", "case"]}
{"id": "fc52b623-35a2-4c9d-8293-2421989bb197", "text": "Q: XDMP-CONFLICTINGUPDATES - deleting multiple node in a document A: <p>this is resolved using the below code</p>\n<pre><code>xquery version &quot;0.9-ml&quot;  \nlet $property := fn:doc('test.xml')//*:propertyset[@prop_src[. != 'P']]//*:property[@prop_name=$prop_name]//*:value_base[. = $prop_val]  \nlet $prop_nodes := fn:distinct-nodes($property/../../../..) \nlet $nodes_to_delete :=  \n    for $prop_node in $prop_nodes  \n    let $property_set := $prop_node/..  \n    let $property_count :=  fn:count(($property_set)//*:property)  \n    return  \n      if ($property_count = 1) \n      then 'true' \n      else $prop_node\nreturn \n  if ($nodes_to_delete) \n  then xdmp:node-delete(fn:distinct-nodes($nodes_to_delete)) \n  else ()\n</code></pre>\n", "tags": ["xquery", "marklogic"]}
{"id": "91a7b63f-e85f-43ed-a46b-d16c0c3f36cb", "text": "Q: Exponent-Characters shown in string A: <p>i used this code to write in exponential i had to look up every character for them luckily they're unicode hex is 2070-2079 in order</p>\n<pre><code>def exponent_strings(a):\n    n={\n        '0':&quot;\u2070&quot;.format(),\n        '1':'\u00b9',\n        '2':'\u00b2',\n        '3':'\u00b3',\n        '4':'\u2074',\n        '5':'\u2075',\n        '6':'\u2076',\n        '7':'\u2077',\n        '8':'\u2078',\n        '9':'\u2079'}\n    s=''\n    for x in a:\n        s+=n[x]\n    return(s)\n</code></pre>\n", "tags": ["python", "string", "exponent"]}
{"id": "6b26f4a3-d0bf-43d2-aa75-50370299c523", "text": "Q: Spark with Delta Lake and S3A: NumberFormatException &quot;60s&quot; and request for working Docker image/config A: <p>thankyou so much for the insights.</p>\n<p>i had the similar problem which was due to the version miss match. In My PyCharm  I had pysaprk 4.0<br />\nwhich was causing error I downgrade the version to 3.5.3 and it worked perfectly with some Warning.</p>\n", "tags": ["docker", "apache-spark", "pyspark", "minio", "delta"]}
{"id": "4d13cac9-5515-4236-8f2a-7afeda26783f", "text": "Q: TypeError: Cannot read properties of undefined (reading &#39;then&#39;) A: <p>None of the above answers explain the underlying issue. The problem is that <code>getPosts()</code> is not explicitly returning a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">Promise</a>.</p>\n<pre><code>getPosts() {\n  return axios.get(POST_API_BASE_URL); // Added return\n}\n</code></pre>\n<p>An alternate way to this:</p>\n<pre><code>async getPosts() {\n  try {\n    const response = await axios.get(POST_API_BASE_URL);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n</code></pre>\n<p>This is why having <a href=\"https://www.typescriptlang.org/\" rel=\"nofollow noreferrer\">correct types</a> in place is of paramount importance.</p>\n", "tags": ["javascript", "reactjs"]}
{"id": "79c01f61-eee6-4a38-9dbd-1294f9443e92", "text": "Q: SSIS loading data error A: <p>I had the same issue and my answer is going to sound silly. I struggled with it for 2 days and ended up realizing that the date format was wrong in my CSV file.</p>\n<p>for example:</p>\n<p>105,olesia,2000,17/4/2009  -- this is invalid because it ends up taking 17 as a month and\nits invalid</p>\n<p>blew my mind when I realized it! Hope this helps anyone else going forward!</p>\n", "tags": ["sql-server", "ssis", "business-intelligence", "msbi"]}
{"id": "1900dd12-a442-4fc3-8764-13a2bb2e2572", "text": "Q: ExtJS Pop-up Window Form data loading A: <p>I figured out that when <code>load</code> is called on form, ExtJS tries to access <code>form</code> dom element to determine form <code>method</code>. I've found 2 solutions:</p>\n\n<ol>\n<li>Add <code>method</code> to the form config</li>\n<li>Load data to form after window is showed</li>\n</ol>\n\n<p>Here is code for second solution:</p>\n\n<pre><code>var deleteWindow = new Ext.Window({\n    id: 'id_deleteWindow',\n    title: 'Delete',\n    closable:true,\n    width: 750,\n    height:     380,\n    plain:true,\n    layout: 'fit',\n    items: myForm,\n    listeners: {\n        show: function() {\n            var form = this.items.get(0);\n            form.getForm().load({\n                url:'ggg.php',\n                params:{\n                    id: id_test\n                }\n            });\n        }\n    }\n});\ndeleteWindow.show();\n</code></pre>\n", "tags": ["extjs", "extjs3"]}
{"id": "6c71fc36-32f6-414a-8a2a-dfdbd6d4f686", "text": "Q: Read error: Failure in SSL library, usually a protocol error A: <p>I had this problem with Retrofit Library. I solved this change, \"<a href=\"https://10.0.3.2:4567\" rel=\"nofollow\">https://10.0.3.2:4567</a>\" to \"<a href=\"http://10.0.3.2:4567\" rel=\"nofollow\">http://10.0.3.2:4567</a>\" in my URL connection.</p>\n", "tags": ["android", "ssl", "https", "keystore"]}
{"id": "6eebf8c3-0ffe-4f89-8682-315e9a93c97c", "text": "Q: Why is the animation glitchy in my List when I change a row&#39;s position? A: <p>Such animation glitches usually stem from either identity churn (duplicate/unstable row IDs across updates) or preserved transient state due to subtree reuse during reordering. In this case, the latter applies <strong>because</strong> the rows <strong>do</strong> have a stable identity - the preserved transient state in this case is the open swipe menu. So SwiftUI tries to keep the menu open (preserved state) while simultaneously animating the row (reusing the existing view/subtree) to a new position, resulting in the visual glitch.</p>\n<p>To simplify, the glitch happens because SwiftUI tries to move the row to a new position without closing the swipe menu first.</p>\n<p>The solution is to force SwiftUI to discard the old view (and its open swipe menu) and create a fresh one that is closed.</p>\n<p>This can be achieved by including the priority in the View's identity, ensuring that a change in priority is treated as a structural change (replacement) rather than a state change (update), which results in the creation of a new row with a closed swipe menu.</p>\n<p>So instead of using a standard identity <code>item.id</code>, which the <code>ForEach</code> implicitly provides to each row, you need to use a <strong>composite identity</strong>, by creating an id from the <code>UUID</code> and the <code>.priority</code> value:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>struct ListItemRowID: Hashable {\n    var id: UUID\n    var priority: Int\n}\n</code></pre>\n<p>This ensures not only that each row remains unique in the list, but also that its identity <strong>changes</strong> whenever the priority changes, forcing SwiftUI to replace the row:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>let itemRowID = ListItemRowID(id: item.id, priority: item.priority)\n\nText(&quot;\\(item.text) (Priority: \\(item.priority))&quot;)\n    .id(itemRowID)\n</code></pre>\n<h3></h3>\n<p>But wait, there's more...</p>\n<p>In the video you provided, note that the order of the items (Second, First, Third, Fourth) is not the same as the order in which they were created (First, Second, Third, Fourth).</p>\n<p>If you waited a few more seconds until the modelContext autosaved, I bet we would have seen another shuffle in the order of the items in the list. That's because SwiftUI doesn't know how to sort the items when they all have the same priority (<code>0</code>). This in itself can also contribute to animation glitches.</p>\n<p>A simple solution is to add a timestamp property to the <code>Item</code> model:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>var createdAt: Date = Date.now \n</code></pre>\n<p>... and then include it as a secondary sorting criteria:</p>\n<pre><code>private func filteredAndSortedItems() -&gt; [Item] {\n    self.items.sorted { lhs, rhs in\n        // 1. If priorities are different, use them to decide order\n        if lhs.priority != rhs.priority {\n            return lhs.priority &gt; rhs.priority // Descending (High &gt; Low)\n        }\n        \n        // 2. If priorities are EQUAL, fall back to creation date\n        return lhs.createdAt &lt; rhs.createdAt\n    }\n}\n</code></pre>\n<p>This will allow the rows to be displayed in the order they were created initially and also not reshuffle when the context autosaves (and the query reruns).</p>\n<p><strong>Here's the complete reproducible code:</strong></p>\n<pre><code>import SwiftUI\nimport SwiftData\n\n@Model\nfinal class ListItem {\n    var id: UUID = UUID()\n    var text: String = &quot;&quot;\n    var priority: Int = 0\n    var createdAt: Date = Date.now // &lt;- Add this\n\n    init(text: String) {\n        self.text = text\n    }\n}\n\nstruct ListAnimationContentView: View {\n\n    @Environment(\\.modelContext) private var modelContext\n    @Query private var items: [ListItem]\n\n    var body: some View {\n        List {\n            Section {\n                ItemList(items: filteredAndSortedItems())\n            }\n        }\n        .onAppear {\n            seedItemsIfNeeded()\n        }\n    }\n\n    private func filteredAndSortedItems() -&gt; [ListItem] {\n        self.items.sorted { lhs, rhs in\n            // 1. If priorities are different, use them to decide order\n            if lhs.priority != rhs.priority {\n                return lhs.priority &gt; rhs.priority // Descending (High &gt; Low)\n            }\n\n            // 2. If priorities are EQUAL, fall back to creation date\n            return lhs.createdAt &lt; rhs.createdAt\n        }\n    }\n\n    private func seedItemsIfNeeded() {\n        for item in items {\n            modelContext.delete(item)\n        }\n\n        let dummyItems = [\n            ListItem(text: &quot;First item&quot;),\n            ListItem(text: &quot;Second item&quot;),\n            ListItem(text: &quot;Third item&quot;),\n            ListItem(text: &quot;Fourth item&quot;)\n        ]\n\n        for item in dummyItems {\n            modelContext.insert(item)\n        }\n    }\n}\n\nstruct ItemList: View {\n    var items: [ListItem]\n\n    var body: some View {\n        ForEach(self.items) { item in\n            let itemRowID = ListItemRowID(id: item.id, priority: item.priority)\n\n            Text(&quot;\\(item.text) (Priority: \\(item.priority))&quot;)\n                .id(itemRowID)\n                .swipeActions(edge: .trailing) {\n                    Menu {\n                        ForEach(0...10, id: \\.self) { value in\n                            Button {\n                               withAnimation {\n                                    item.priority = value\n                                }\n                            } label: {\n                                if item.priority == value {\n                                    Label(&quot;\\(value)&quot;, systemImage: &quot;checkmark&quot;)\n                                } else {\n                                    Text(&quot;\\(value)&quot;)\n                                }\n                            }\n                        }\n                    } label: {\n                        Image(systemName: &quot;number&quot;)\n                    }\n                }\n        }\n    }\n}\n\nstruct ListItemRowID: Hashable {\n    var id: UUID\n    var priority: Int\n}\n\n\n#Preview {\n    ListAnimationContentView()\n        .modelContainer(for: ListItem.self, inMemory: true)\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/tCeeGS9y.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/tCeeGS9y.gif\" alt=\"enter image description here\" /></a></p>\n", "tags": ["ios", "list", "swiftui"]}
{"id": "da74a140-2551-4334-9bd9-14847478ff25", "text": "Q: Passing 4 arguments to a jit function with 4 parameters raises TypeError: jit() takes 1 positional argument but 5 positional arguments A: <p>The problem is that you're using a double partial in your decorator:</p>\n<pre><code>@partial(partial, jax.jit, static_argnums=...)\ndef init_particles_grid(...):\n  ...\n</code></pre>\n<p>This is incorrect. If you expand out all the partials here, you'll see that with this decorator, calling <code>result = init_particles_grid(N, n_side, L, A)</code> is equivalent to calling <code>result = jax.jit(N, n_side, L, A, static_arnums=...)</code> , and <code>jax.jit</code> does not take this many positional arguments.</p>\n<p>Instead, I think you want this:</p>\n<pre><code>@partial(jax.jit, static_argnums=...)\ndef init_particles_grid(...):\n  ...\n</code></pre>\n<p>In JAX version 0.8.1 or newer, <code>jax.jit</code> supports the decorator factory pattern, and you can make it even simpler and do this:</p>\n<pre><code>@jax.jit(static_argnums=...)\ndef init_particles_grid(...):\n  ...\n</code></pre>\n<p>With either of those changes, you should no longer see the <code>TypeError</code> related to the <code>jax.jit</code> call signature.</p>\n", "tags": ["python", "jit", "jax"]}
