{"id": "5aac3e48-0b71-4802-94ed-2e2a2f4c3d15", "text": "Q: What privileges are required to create a dataframe using Snowpark? A: <p>If the dataframe that you are trying to create with the following command:</p>\n<pre><code>df1 = session.create_dataframe(data)\n</code></pre>\n<p>is large then Snowflake will create a temporary table, that needs to delete. Having usage or create table on the schema or tables is not enough. You have to have Ownership too. Something like this:</p>\n<pre><code>GRANT OWNERSHIP ON FUTURE TABLES IN SCHEMA &lt;SCHEMA&gt; TO &lt;ROLE&gt;; \n</code></pre>\n<p>By the way the error is something like this:</p>\n<blockquote>\n<p>SQL access control error:</p>\n<p>Insufficient privileges to operate on table 'SNOWPARK_TEMP_TABLE_YUSS8KCL1N'</p>\n<p>&quot;errorType&quot;: &quot;SnowparkSQLException&quot;</p>\n</blockquote>\n<p>SNOWPARK_TEMP_TABLE is in the prefix of the temporary table.</p>\n", "tags": ["python", "snowflake-cloud-data-platform", "snowpipe"]}
{"id": "230a298f-d4ae-4a98-8c2f-a1e63cb53a9c", "text": "Q: Create a trigger with clause to update only one specific row A: <p>that's not how triggers work (updating the row that raised it). Triggers get the old and new values, and you can manipulate them just using <code>:old</code> and <code>:new</code> variables. You need a FOR EACH ROW trigger that checks you are on the row you want to change the behavior, and a BEFORE UPDATE trigger so that you can change the values to be updated</p>\n<p>For example:</p>\n<pre><code>create or replace trigger trg_fix_object_flags\nbefore update on column_registry\nfor each row \nbegin\n    if :old.table_name  = 'ND_204939_DIRTYAREAS'\n       and :old.column_name = 'DIRTYAREA'\n       and :new.object_flags &lt;&gt; 32768 then\n        :new.object_flags := 32768;\n    end if;  \nend;  \n/  \n</code></pre>\n<p>\u26a0\ufe0f I understand you want to fix prod, but be careful, as you can make it worse. Don't copy this code without understanding it.</p>\n", "tags": ["sql", "oracle-database", "triggers", "sql-update", "oracle19c"]}
{"id": "6ee1390f-8b5f-4f06-8a81-abe4a1e4510b", "text": "Q: any opinion on use AI for vibe coding as a newbie A: <p>That's true of any non-peer-reviewed code regardless of how it was written</p>\n", "tags": ["javascript", "node.js", "typescript", "next.js"]}
{"id": "8865ba6f-8586-45c1-b6f4-a56cc321f3f7", "text": "Q: Recursive function to print diamond giving output with many blank lines A: <p>Here Recursive.  Since Java doesn't allow default variables on functions I added an overload for printDiamond(size)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Diamond {\n    private static int abs(int n) { return (n&lt;0) ? -n:n; }\n    \n    public static void printDiamond(int size) { // for use with just the size \n       printDiamond(size, 1); \n    }\n    \n    // Recursive Diamond printer \n    public static void printDiamond(int size, int row) { \n       if (row &gt; size) return;\n       int s = abs(size/2 + 1 - row); // how many spaces? \n       System.out.println( &quot; &quot;.repeat(s) + &quot;*&quot;.repeat(size - (2 * s)) ); \n       printDiamond(size, row+1);\n    }\n\n    public static void main(String[] args) { \n       int size = 5; \n       if (args.length &gt; 0) {\n         try {\n            size = Integer.parseInt(args[0]);\n         } catch (NumberFormatException e) {\n            System.err.println(&quot;Error: The size argument is not a valid integer.&quot;);\n         }\n       } else {\n         System.out.println(&quot;Usage: java Diamond &lt;size&gt; Default: 5&quot;);\n       }\n       size += (1 - size%2); // make odd  \n       System.out.format(&quot;Diamond %d rows%n&quot;, size);\n       printDiamond(size, 1); \n    } \n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ javac Diamond.java \n$ java Diamond 8\nDiamond 9 rows\n    *\n   ***\n  *****\n *******\n*********\n *******\n  *****\n   ***\n    *\n\n$ java Diamond 11\nDiamond 11 Wide\n      *\n     ***\n    *****\n   *******\n  *********\n ***********\n  *********\n   *******\n    *****\n     ***\n      *\n</code></pre>\n", "tags": ["java", "recursion"]}
{"id": "878680d3-7060-414b-91a9-994c47a6b97c", "text": "Q: Internship vs DSA &amp; Placement Prep at 3rd Year \u2014 What\u2019s the Better Trade-off? A: <p>This is completely out of scope. Stack Overflow isn't a career advice site. We don't know what the job market is where you live so any advice would be dubious at best.</p>\n", "tags": ["coding-style", "advising-functions"]}
{"id": "a377fc1f-6f35-4c23-b54c-ced47fb4b04d", "text": "Q: How to only allow desktop versions of Word for custom Word add-in? A: <p>You found the correct way to deal with your scenario, which is to use <code>isSetSupported</code> in a runtime check. That's not ideal, but it's the right way. I don't understand what the certification team means by &quot;remove the client version from the Metadata&quot;. Please work with them to get clarification on what you need to do.</p>\n<p>I'm trying to get help internally at Microsoft about why the WordApiDesktop requirement sets cannot be used in the <code>&lt;Set&gt;</code> element.</p>\n", "tags": ["office-js", "office-addins", "word-addins"]}
{"id": "dc6a059b-3340-4875-9e97-0f1f95535e36", "text": "Q: Hikari minimumIdle not providing correct number of connections A: <p><a href=\"https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby\" rel=\"nofollow noreferrer\">Recommended setup</a> is to not set <code>minimumIdle</code></p>\n<blockquote>\n<p>This property controls the minimum number of idle connections that HikariCP tries to maintain in the pool. If the idle connections dip below this value and total connections in the pool are less than maximumPoolSize, HikariCP will make a best effort to add additional connections quickly and efficiently. However, for maximum performance and responsiveness to spike demands, we recommend not setting this value and instead allowing HikariCP to act as a fixed size connection pool. Default: same as maximumPoolSize.</p>\n</blockquote>\n<p>Seems HikariCP does not care much about it</p>\n<blockquote>\n<p>If the idle connections dip below this value ... HikariCP will make a best effort to add additional connections</p>\n</blockquote>\n<p>A good test for your value could be to open more than 20 connections and <a href=\"https://stackoverflow.com/a/51161663/2834978\">verify</a> they are maintained in the pool during <code>idleTimeout</code> (10 minutes by default).  Then the value should be kept at the setting value (20 in this case).</p>\n<p>That minimum will be maintained once the number of connections reaches that value</p>\n<blockquote>\n<p>Idle connections will not be retired once the pool reaches minimumIdle connections.</p>\n</blockquote>\n", "tags": ["postgresql", "connection-pooling", "hikaricp"]}
{"id": "ae9de464-9188-4ea4-ace0-d140aa40007d", "text": "Q: Getting javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure A: <p>In JDK 6 and JDK 7, SSL is not enabled by default. It is required to enable the above SSL versions through the tomcat.</p>\n<p>Add the following parameter into the <code>[TOMCAT_PATH]/bin/setenv.sh</code> file.</p>\n<blockquote>\n<p>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2</p>\n</blockquote>\n", "tags": ["java", "https", "java-8", "jce", "jdk6"]}
{"id": "6687698c-ab14-4fa1-9089-2c387cb37431", "text": "Q: How to test localStorage in my react app? A: <p>Put this in your test initializer files:</p>\n\n<pre><code>const localStorageMock = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  clear: jest.fn()\n};\n\nglobal.localStorage = localStorageMock;\n</code></pre>\n\n<p>So now you can just use <code>localStorageMock</code> globally</p>\n\n<p><code>expect(localStorageMock.getItem).toHaveBeenCalledWith('access_token')</code></p>\n\n<p>The only gotcha is to make sure that your tests have <code>jest.clearAllMocks()</code> cleanup step so the mock is reinitialized for other tests.</p>\n", "tags": ["reactjs", "unit-testing", "react-router", "jestjs", "react-router-dom"]}
