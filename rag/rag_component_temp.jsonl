{"id": "ea2d05cc-4581-45f5-bb8d-b4f3413aa995", "text": "Q: Do I need atomic transactions or is eventual consistency enough? A: <p>as a certified data <strong>engineer all i can tell is that i never saw &quot;a traditional bank system&quot; done with C++ on this level. I doubt that u r workable on something.</strong></p>\n", "tags": ["c++", "architecture", "software-design"]}
{"id": "2a3d16eb-2b07-42f6-8391-bfc5b5a9784c", "text": "Q: Local executing hook after a git push? (post-push) A: <p>Turning a comment into an answer.</p>\n<p>Victor's solution works well for pushes to a single branch. But suppose you want to capture pushes to e.g. all branches matching &quot;refs/remotes/origin/feature-*&quot;, e.g. to trigger a build pipeline. Then you'll run into trouble just matching against $refname, because some operations (e.g. fetch) will trigger the hook many times in sequence, and you may have many remote &quot;feature-*&quot; branches. There is an easy fix for this, which AFAICT makes for a general purpose post-push hook.</p>\n<p>In <code>.git/hooks/pre-push</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>\n#!/bin/bash\n\ntouch &quot;./push-ind&quot;\n</code></pre>\n<p>then in <code>.git/hooks/reference-transaction</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\nset -eu\n\nwhile read oldvalue newvalue refname\ndo\n    if [[ $1 = &quot;committed&quot; &amp;&amp; -f &quot;./push-ind&quot; ]]\n    then\n        rm &quot;./push-ind&quot;\n        exec .git/hooks/post-push\n    fi\ndone\n</code></pre>\n", "tags": ["git", "githooks"]}
{"id": "7e8682a8-b425-4180-bbd2-f224577ccfa2", "text": "Q: I need to access the &quot;canSeePlayer&quot; property in the playerController script from enemies script A: <p>Since you anyway use the triggers be aware: Trigger events are called on both parties of the collision, the enemy and the player itself</p>\n<p>I would rather simply shift the logic to the player directly, have it have a trigger with desired range and do e.g. something like</p>\n<p>(in the <code>PlayerCobtroller</code> itself)</p>\n<pre><code>private void OnTriggerStay2D(Collider2D collision)\n{\n    if (collision.CompareTag(&quot;Enemy&quot;))\n    {\n        // Note btw: way easier to use a Linecast instead of a Raycast here\n        // direction doesn't matter here you can see the enemy &lt;=&gt; enemy can see you\n        var canSeePlayer = !Physics2D.LineCast(transform.position, collision.transform.position, obstructionLayer);\n\n        // optionally can also do your FOV check here e.g.\n        //if(Vector2.Angle(/*depending on what your enemy look vector is*/ collision.transform.right, transform.position - collision.transform.position) &lt;= 30f)\n\n        if(canSeePlayer)\n        {\n          // =&gt; GAME OVER HERE\n        }\n    }\n}\n</code></pre>\n<p>Now since <code>OnTriggerStay2D</code> is anyway <strong>called once per <code>FixedUpdate</code> for each</strong> and every enemy within your trigger range there is no need to keep track of enemy instances in a list etc at all.</p>\n<hr />\n<p>Alternatively if you want to get rid of the trigger behavior at all you could also just directly use the line cast itself for all existing instances of enemies and do e.g.</p>\n<pre><code>public class Enemy : MonoBehaviour\n{\n    // Enemy instances simply register and unregister themselves \n    // to this list according to their live cycle\n    private readonly static List&lt;Enemy&gt; instances = new();\n    public static IReaeOnlyList&lt;Enemy&gt; Instances =&gt; instances;\n\n    private void Awake()\n    {\n        instances.Add(this);\n    }\n\n    private void OnDestroy()\n    {\n        instances.Remove(this);\n    }\n}\n</code></pre>\n<p>And then basically similar to above in <code>PlayerCobtroller</code></p>\n<pre><code>private void FixedUpdate() // or Update if needed\n{\n    foreach(var enemy in Enemy.Instances)\n    {\n        if(!Physics2D.Linecast(enemy.transform.position, transform.position, obstructionLayer))\n        {\n            // optionally could have additional distance check here\n            //if((transform.position - enemy.transform.position). sqrMagnitude &lt;= range * range)\n\n            // optionally can also do your FOV check here e.g.\n            //if(Vector2.Angle(/*depending on what your enemy look vector is*/ enemy.transform.right, transform.position - enemy.transform.position) &lt;= 30f)\n\n            // GAME OVER\n        }\n    }\n}\n</code></pre>\n", "tags": ["c#", "unity-game-engine", "2d", "game-development"]}
{"id": "a57f050d-c80d-4b98-8a9d-ebffe5e1ba28", "text": "Q: unlink a file from dataframe A: <p>another way of thinking about &quot;unlink&quot;ing the file:<br />\nthe file handle is still in use, so how can i ensure it gets closed and again made available?</p>\n<p>nowadays when reading/writing files in Python it's always recommended use a context manager, aka &quot;with&quot; statement, to handle file-closing upon completion of reading/writing.</p>\n<p>for example:</p>\n<pre><code>with open(file_path, 'rb') as f:\n    df = pd.read_excel(f)\n</code></pre>\n<p>when your code executes the <code>with</code> block you'll have the data in <code>df</code>, and the file will have been closed.</p>\n", "tags": ["python", "dataframe", "file", "unlink"]}
{"id": "7333a4f8-face-4980-95dc-45730c5c4b4f", "text": "Q: Issues with _Stray Model Anomaly Detection in Apache IoTDB A: <p>The _Stray model detects anomalies on whatever data exists in the time range you query it doesn't know what &quot;now&quot; is. If your dataset contains rows with future timestamps (perhaps inserted via batch load or with incorrect time values), the model will process them.</p>\n<p><strong>Check if future data exists:</strong></p>\n<pre><code>select * from root.xxxxx.mqtt_party where time &gt; now()\n</code></pre>\n<p>If rows come back, your data has future timestamps that's the source, not the model.</p>\n<p><strong>If the timestamps should be current time but look wrong:</strong></p>\n<p>Check timezone settings. IoTDB might be displaying in a different timezone than your system:</p>\n<pre><code>show variables like 'time_zone'\n</code></pre>\n<p>The <code>_Stray</code> model just runs on the data you give it it doesn't generate future timestamps on its own.</p>\n", "tags": ["apache-iotdb"]}
