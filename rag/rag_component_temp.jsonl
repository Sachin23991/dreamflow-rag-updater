{"id": "ea610a78-27d5-4745-8ea2-f0eaed7843ec", "text": "Q: This release adds the capability to access both the previous (`OLD`) and current (`NEW`) values in the [`RETURNING` clause] A: <p>You have to use different syntax with a composite type:</p>\n<pre><code>RETURNING (coalesce(NEW, OLD)).* INTO v_organisation\n</code></pre>\n<p>But not that the variable will be empty if you <code>DO NOTHING</code>. If you don't like that, you could perform an <code>UPDATE</code> that does nothing:</p>\n<pre><code>INSERT INTO ... VALUES (...)\nON CONFLICT (organisation_name)\n   WHERE is_deleted IS NOT TRUE\nDO UPDATE\n   SET is_deleted = organisations.is_deleted\nRETURNING (coalesce(NEW, OLD)).* INTO v_organisation\n</code></pre>\n", "tags": ["postgresql"]}
{"id": "0fe37da1-909f-41af-a3c0-74d329b7c55f", "text": "Q: Dockers runs the app during building fine but not when turned on A: <h2>Problem</h2>\n<p>You have a multi-stage Docker build:</p>\n<pre><code>\nFROM maven:3.9.5-eclipse-temurin-17 AS build\n\nWORKDIR /app\n\nCOPY pom.xml .\nCOPY src ./src\n\nRUN mvn clean package\n\nFROM amazoncorretto:17 AS test123\n\nWORKDIR /app\n\nCOPY --from=build /app/target/*.jar /app/app.jar\n\nRUN java -jar /app/app.jar\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;./app.jar&quot;]\nSymptoms\nRUN java -jar /app/app.jar works during build.\n\n</code></pre>\n<p>docker run / docker compose up fails:</p>\n<p><em>Unable to access jarfile app.jar\nThe JAR file is missing in the container during runtime.</em></p>\n<p>Why This Happens:\nJAR file naming mismatch</p>\n<p>Maven typically produces a JAR like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>target/my-app-1.0-SNAPSHOT.jar\n</code></pre>\n<p>Using *.jar in the COPY may not match correctly, so nothing is copied.</p>\n<h3>RUN vs CMD</h3>\n<p>RUN java -jar ... runs during build, not in the final container.</p>\n<p>CMD runs at runtime. If the JAR wasn\u2019t copied correctly, it fails.</p>\n<p>Multi-stage build behavior</p>\n<p>Only files explicitly copied from a previous stage exist in the final image.</p>\n<h1>Build stage</h1>\n<pre><code>FROM maven:3.9.5-eclipse-temurin-17 AS build\n\nWORKDIR /app\n\nCOPY pom.xml .\nCOPY src ./src\n\nRUN mvn clean package\n\n\n</code></pre>\n<p>Remove RUN java -jar ...\u2014don\u2019t start the app during build.</p>\n<p>Ensure the JAR file name matches exactly.</p>\n<p>CMD launches the app when the container starts.</p>\n", "tags": ["docker"]}
{"id": "02c9716c-d7ba-4bfd-a5ad-76da34ab4aef", "text": "Q: Does PostgreSQL read committed isolation level guarantee 2 transactions: subtract 3 and subtract 5 together always result 10 - 8 = 2? A: <p>If you read and update the row with the same statement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE tab SET value = value - 3 WHERE pkey = 42;\n</code></pre>\n<p>it is guaranteed that your transactions cannot cause an anomaly, that is, the result will always be two.</p>\n<p>If you first <code>SELECT</code> the <code>value</code> and then <code>UPDATE</code> it with a second SQL statement, you can end up with a \u201clost update\u201d anomaly.  To protect yourself from that, you can either use <code>REPEATABLE READ</code> isolation or stay on <code>READ COMMITTED</code> and use <code>SELECT ... FOR NO KEY UPDATE</code>.</p>\n", "tags": ["postgresql", "transactions", "isolation-level", "read-committed"]}
{"id": "3999739f-3729-41ae-8037-e8913ff0896d", "text": "Q: GIT_DISCOVERY_ACROSS_FILESYSTEM not set A: <p>Just type <code>git init</code> into your command line and press enter. Then run your command again, you probably were running <code>git remote add origin [your-repository]</code>.</p>\n", "tags": ["git"]}
{"id": "1e1fe6c3-88cf-4897-8085-447519beb22b", "text": "Q: How to add an item to a list in Kotlin? A: <pre><code>val listofVechile = mutableListOf&lt;String&gt;()\n</code></pre>\n<p>Declare mutable list like that and you will be able to add elements to list :</p>\n<pre><code>listofVechile.add(&quot;car&quot;)\n</code></pre>\n<p><a href=\"https://kotlinlang.org/docs/collections-overview.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/collections-overview.html</a></p>\n", "tags": ["list", "kotlin", "collections", "kotlin-android-extensions"]}
{"id": "51a3c19e-7db0-4e67-ae3f-c97f56293902", "text": "Q: Fatal error postgres password authentication failed for user &quot;postgres&quot; A: <p>The backslash where I'm creating the credentials, I added a backslash to the f string for readability there is no issue when working in the same file however adding this backslash when importing to other files, is causing a space to be made wherever the backslash was implemented</p>\n", "tags": ["python", "postgresql", "sqlalchemy"]}
{"id": "090543e6-008f-42b7-a8ac-4cae55f59791", "text": "Q: Wordpress Search Function to only search posts A: <p>you can add a file named &quot;searchform.php&quot; to your theme to override the default search form and use the following code in the file:</p>\n<pre><code>&lt;form action=&quot;/&quot; method=&quot;get&quot;&gt;\n    &lt;input type=&quot;hidden&quot; name=&quot;post_type&quot; value=&quot;post&quot; /&gt;\n    &lt;input type=&quot;text&quot; name=&quot;s&quot; id=&quot;search&quot; value=&quot;&lt;?php the_search_query(); ?&gt;&quot; required /&gt;\n    &lt;button type=&quot;submit&quot;&gt;Search&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n", "tags": ["php", "wordpress", "search"]}
