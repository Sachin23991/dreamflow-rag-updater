{"id": "08060da2-6bc2-45d5-8b3d-4786225f7a2a", "text": "Q: Can PowerShell automatically create missing directories when redirecting output? A: <p><a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/out-file\" rel=\"nofollow noreferrer\"><code>Out-File</code> (<code>&gt;</code>)</a> doesn't create folders if they don't exist by itself, however with <code>New-Item</code> you can create the folder and write to a file in that new folder all in a single line if you use <code>-Force</code>, for example:</p>\n<pre><code>'hello world' | New-Item .\\missing_dir\\git_status.txt -Force\nGet-Content .\\missing_dir\\git_status.txt # hello world\n</code></pre>\n<p>The downside is that it overwrites the file per input line, so you'll need to join the command output to create a single string before piping to <code>New-Item</code>, for that you have some alternatives. One can be joining the output with new-line characters (<code>`n</code>). See <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_special_characters\" rel=\"nofollow noreferrer\">about_Special_Characters</a> for details.</p>\n<pre><code>(git status) -join &quot;`n&quot; | New-Item .\\missing_dir\\git_status.txt -Force\n</code></pre>\n<p>In PowerShell 7, you can replace the <code>-join</code> operator with <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/join-string\" rel=\"nofollow noreferrer\"><code>Join-String</code></a>:</p>\n<pre><code>git status | Join-String -Separator &quot;`n&quot; | New-Item .\\missing_dir\\git_status.txt -Force\n</code></pre>\n<p>If you wanted a shorter expression, you can assign an alias to <code>Join-String</code> (like <code>js</code> in this example) and use the existing <code>New-Item</code> alias:</p>\n<pre><code>${alias:js} = 'Join-String'\ngit status | js -sep &quot;`n&quot; | ni .\\missing_dir\\git_status.txt -f\n</code></pre>\n", "tags": ["powershell", "directory", "io-redirection"]}
{"id": "1f6c75dd-0261-4286-b65f-bb54e5a64b20", "text": "Q: Positioning elements in one row without flexbox A: <p>As far as your <code>inline</code> and <code>inline-block</code> is concerned.  You are right there but there is one problem that you have added second element's width as 100%.  So being inline it is taking 100% width and appearing in the second line.</p>\n<p>Follwing code is for understanding.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.a {\n  display: inline;\n  padding: 4px;\n  min-width: calc(25%-8px);\n}\n\n.b {\n  display: inline-block;\n  /*       display: inline; */\n  /* min-width: 50%; */\n  width: auto;\n  border-bottom: 1px dashed green;\n}</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\n  &lt;div class=\"a\"&gt; Element A :&lt;/div&gt;\n  &lt;div class=\"b\"&gt; Element B &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n  &lt;div class=\"a\"&gt; Element A asdf s f:&lt;/div&gt;\n  &lt;div class=\"b\"&gt; Element B Element B Element B Element B &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n</div>\n</div>\n</p>\n", "tags": ["html", "css", "display"]}
{"id": "c077ead5-bd5b-4d25-a1ab-b6897852d3c5", "text": "Q: How do I allocate a Vec&lt;u8&gt; that is aligned to the size of the cache line? A: <p>You can just use <code>std::alloc::alloc</code> <a href=\"https://doc.rust-lang.org/std/alloc/fn.alloc.html\" rel=\"nofollow noreferrer\">https://doc.rust-lang.org/std/alloc/fn.alloc.html</a></p>\n<p>So to allocate a <code>Vec&lt;u8&gt;</code> of given size and alignment you can do this:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>use std::alloc::{alloc, Layout};\n\nfn with_capacity_and_aligned(capacity: usize, alignment: usize) -&gt; Vec&lt;u8&gt; {\n    assert!(alignment.is_power_of_two());\n    let size = capacity.next_power_of_two();\n    \n    let layout = Layout::from_size_align(size, alignment).unwrap();\n    // Safety:\n    // just doing a regular alloc\n    // this should never return a null pointer unless we ran out of memory\n    let ptr = unsafe { alloc(layout) };\n\n    unsafe { Vec::from_raw_parts(ptr, size, size) }\n}\n    \n\nfn main() {\n    let x = with_capacity_and_aligned(1024, 64);\n    assert!(x.len() == 1024);\n    assert!(x.capacity() == 1024);\n}\n</code></pre>\n", "tags": ["rust"]}
{"id": "189e69df-6bff-442a-b819-590a0b7c306c", "text": "Q: what is a basic skeleton for creating a website using HTML, CSS, TSX with Tanstack wireframe? A: <p>For the responsive logo part you would probably want media queries (using css) and an svg, or you could use the picture element or similar if your logo is not an svg ( <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Guides/Responsive_images\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Guides/Responsive_images</a>).</p>\n", "tags": ["html", "css", "node.js", "tsx", "tanstack"]}
{"id": "2c52bfae-ef96-43a3-96ee-a6e37c9b612e", "text": "Q: How to draw a border on top of another application&#39;s window? A: <p>This will draw an outline on a panel that can be placed over another window. It avoids using WS_EX_LAYERED because that style causes problems; instead, it uses a hollow region to allow full access to the window below. This is tested and works identically on W98 and Windows 7, so it probably works on Windows 10 (but is not tested there).</p>\n<pre class=\"lang-c prettyprint-override\"><code>#include &lt;windows.h&gt;\n\nHWND H_panel; LRESULT CALLBACK PanelPrc(); void EdgeDraw();\nint WINAPI WinMain(HINSTANCE H_inst,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int nCmdShow){\n  DWORD N=sizeof(WNDCLASSEX); WNDCLASSEX P; memset(&amp;P,0,N);\n  P.lpszClassName=&quot;PANEL&quot;; P.lpfnWndProc=PanelPrc; P.hInstance=H_inst;\n  P.hCursor=LoadCursor(NULL,IDC_ARROW); P.cbSize=N;\n  P.hbrBackground=GetStockObject(NULL_BRUSH);\n  if(!RegisterClassEx(&amp;P)){return 0;}\n\n  RECT R; GetWindowRect(GetDesktopWindow(),&amp;R); N=WS_EX_TOOLWINDOW|WS_EX_TOPMOST;\n  H_panel=CreateWindowEx(N,P.lpszClassName,&quot;&quot;,WS_POPUP,0,0,0,0,NULL,NULL,H_inst,NULL);\n\n  HRGN O=CreateRectRgnIndirect(&amp;R),I=CreateRectRgn(R.left+2,R.top+2,R.right-2,R.bottom-2);\n  CombineRgn(O,O,I,RGN_DIFF); SetWindowRgn(H_panel,O,1);\n\n  ShowWindow(H_panel,SW_SHOWNOACTIVATE);\n\n\n  MSG M; while(GetMessage(&amp;M,NULL,0,0)&gt;0){TranslateMessage(&amp;M); DispatchMessage(&amp;M);}\n  return M.wParam;\n}\n\nLRESULT CALLBACK PanelPrc(HWND hwnd,UINT msg,WPARAM wParam,LPARAM lParam){\n  switch(msg){\n    case WM_PAINT:{EdgeDraw(H_panel); return 0;} break;\n    case WM_DESTROY:{PostQuitMessage(0);} break;\n    default: return DefWindowProc(hwnd,msg,wParam,lParam);\n  }\n  return 0;\n}\n\nvoid EdgeDraw(HWND H){\n  RECT R; HPEN P=CreatePen(0,2,0xFF00FF); int X,Y,N,O=0;\n  HDC D=GetWindowDC(H); P=SelectObject(D,P);\n  GetWindowRect(H,&amp;R); X=R.right-R.left,Y=R.bottom-R.top;\n  int C[4][2]={{O+1,O+1},{O+1,O+Y-1},{O+X-1,O+Y-1},{O+X-1,O+1}};\n  MoveToEx(D,O+1,O+1,NULL); N=4; while(N--){LineTo(D,C[N][0],C[N][1]);}\n  P=SelectObject(D,P); DeleteObject(P); ReleaseDC(H,D);\n}\n</code></pre>\n<p>This example is complete because it's important to do things in the right order, and in a fully established context, if you want the result to be flicker-free at all times.</p>\n<p>There is a compromise: The region must be set to allow some area(s) to allow through-clicks, or to be drawn on. It can't do both. This is a limitation of the basic API functions used, being chosen for widest compatibility. If someone knows a way to improve on this without sacrificing that, go for it...</p>\n<p>Reasons to avoid WS_EX_LAYERED:</p>\n<p>It's not part of the original API, so could never be consistent across all Windows variants. It forces the task bar/switcher windows to have entries for the hidden window, and prevents it from showing normally in Windows 7 (though it will still appear in W98, and even there, the task entries exist when not wanted if WS_EX_LAYERED is set). Also, in Windows 7, if the drawn outline intercepts the taskbar, unrest results. It's ugly. Avoiding WS_EX_LAYERED is far easier than trying to manage its consequences.</p>\n", "tags": ["c++", "winapi", "gdi"]}
