{"id": "75a5f39f-9b13-4f05-8faf-2e95d802e622", "text": "Q: Bamboo checkout of bitbucket repo not generating .git folder for SonarQube Scan A: <p>Bamboo's checkout task likely has shallow clones enabled or is configured to exclude Git metadata. SonarQube needs the <code>.git</code> folder for blame info, branch detection, and PR analysis.</p>\n<p><strong>Fix it in your Bamboo checkout task settings:</strong></p>\n<ol>\n<li><p>Go to your plan's <strong>Tasks</strong> configuration</p>\n</li>\n<li><p>Click on your <strong>Source Code Checkout</strong> task</p>\n</li>\n<li><p>Look for one of these options (depends on your Bamboo version):</p>\n<ul>\n<li><p>Uncheck <strong>&quot;Shallow clone&quot;</strong> if it's enabled</p>\n</li>\n<li><p>Set <strong>&quot;Fetch whole repository&quot;</strong> to true</p>\n</li>\n<li><p>Check <strong>&quot;Include .git directory&quot;</strong> if that option exists</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>If you're using a YAML spec (Bamboo Specs), it'd look something like:</p>\n<pre><code>checkout:\n  repository: my-repo\n  shallow-clone: false\n</code></pre>\n", "tags": ["sonarqube", "bitbucket", "bamboo", "sonarqube-scan"]}
{"id": "94896433-9737-48f6-9a16-7a863fda6001", "text": "Q: React SEO Issue: Content Not Visible in View Source A: <p>To boost SEO, render React content in the page source using Server-Side Rendering (SSR) or Static Site Generation (SSG). React\u2019s client-side rendering hides content from search engines. SSR and SSG generate HTML on the server, making it indexable.</p>\n<h3>1. <strong>Server-Side Rendering (SSR)</strong></h3>\n<p>SSR delivers fully-rendered HTML. Next.js or Gatsby handle this seamlessly. Use <code>getServerSideProps</code> or <code>getStaticProps</code> to fetch data before rendering.</p>\n<pre><code>export async function getServerSideProps() {\n  const res = await fetch('https://api.example.com/data');\n  const data = await res.json();\n  return { props: { data } };\n}\n</code></pre>\n<p><strong>2. Static Site Generation (SSG)</strong><br />\nFor static content, SSG pre-renders HTML at build time, ensuring better SEO. Next.js supports this with getStaticProps.</p>\n<pre><code>export async function getStaticProps() {\n  const res = await fetch('https://api.example.com/data');\n  const data = await res.json();\n  return { props: { data } };\n}\n</code></pre>\n<h3>3. <strong>React Helmet</strong></h3>\n<p>Add dynamic meta tags and titles with React Helmet. While it doesn\u2019t solve the source issue, it improves crawlability.</p>\n<h3>4. <strong>Prerendering</strong></h3>\n<p>If SSR or SSG isn\u2019t feasible, use Prerender.io to create static HTML snapshots for search engines.</p>\n<h3>Conclusion</h3>\n<p>For optimal SEO, use SSR or SSG with Next.js. Otherwise, try React Helmet or Prerendering.</p>\n", "tags": ["reactjs"]}
{"id": "762a96f1-0777-41bf-9221-6367e1646813", "text": "Q: Why WebViewWidget causes an overflow error? A: <p>AlertDialog has restrictive constraints that conflict with WebViewWidget, which needs explicit sizing. When you put a WebView inside AlertDialog's content, it causes overflow because:\nAlertDialog has a default maximum width constraint\nThe content area doesn't work well with widgets that need explicit sizing\nWebViewWidget requires explicit size constraints to render properly.</p>\n<p>How to sove it?</p>\n<p>Replace AlertDialog with Dialog: This gives full control over sizing\nAdded explicit dimensions: Used a Container with width 800 and height 600 (good for desktop)\nUsed Expanded widget: Wraps the WebView to fill available space without overflow\nProperly initialized WebViewController: Uncommented and initialized in initState() as you requested\nThe key changes in the summon method:\nUses Dialog instead of AlertDialog\nContainer with explicit dimensions (800x600)\nExpanded wraps the Web widget to fill available space\nWebViewWidget uses SizedBox with double.infinity to fill the Expanded constraints\nThe WebView should now display without overflow errors. You can adjust the dialog size (800x600) to fit your needs, and add JavaScript channels in initState() to communicate with the WebView.\nTo test, uncomment the WebView code and run it. The overflow should be resolved.</p>\n<p>I do not have the Windows machine to test it but I run it with <code>webview_flutter: ^4.9.0 </code> which works fine for me. The below code is working alongside the same package that you had. So, It must work for windows/linux too.</p>\n<pre><code>import 'dart:async';\nimport 'dart:io';\n\nimport 'package:flutter/material.dart';\nimport 'package:go_router/go_router.dart';\nimport 'package:webview_flutter/webview_flutter.dart';\n\nfinal rootNavigatorKey = GlobalKey&lt;NavigatorState&gt;();\nfinal sectionNavigatorKey = GlobalKey&lt;NavigatorState&gt;();\n\nvoid main() {\n  runApp(Root());\n}\n\nclass Root extends StatelessWidget {\n  Root({super.key});\n\n  final _router = GoRouter(\n    navigatorKey: rootNavigatorKey,\n    initialLocation: '/search',\n    routes: &lt;RouteBase&gt;[\n      StatefulShellRoute.indexedStack(\n        builder:\n            (\n              BuildContext context,\n              GoRouterState state,\n              StatefulNavigationShell navigationShell,\n            ) {\n              return NavRail(navigationShell: navigationShell);\n            },\n        branches: &lt;StatefulShellBranch&gt;[\n          StatefulShellBranch(\n            navigatorKey: sectionNavigatorKey,\n            routes: &lt;RouteBase&gt;[\n              GoRoute(\n                path: '/search',\n                builder: (BuildContext context, GoRouterState state) =&gt;\n                    Search(),\n              ),\n            ],\n          ),\n        ],\n      ),\n    ],\n  );\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp.router(\n      title: 'Example',\n      theme: ThemeData(primarySwatch: Colors.blue),\n      routerConfig: _router,\n    );\n  }\n}\n\nclass NavRail extends StatefulWidget {\n  const NavRail({super.key, required this.navigationShell});\n\n  final StatefulNavigationShell navigationShell;\n\n  @override\n  State&lt;NavRail&gt; createState() =&gt; _NavRailState();\n}\n\nclass _NavRailState extends State&lt;NavRail&gt; {\n  int _selectedIndex = 0;\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      body: SafeArea(\n        child: Row(\n          crossAxisAlignment: CrossAxisAlignment.start,\n          children: [\n            SizedBox(\n              height: double.infinity,\n              child: NavigationRail(\n                selectedIndex: _selectedIndex,\n                groupAlignment: 0,\n                labelType: NavigationRailLabelType.all,\n                onDestinationSelected: (int index) {\n                  widget.navigationShell.goBranch(\n                    index,\n                    initialLocation: index == widget.navigationShell.currentIndex,\n                  );\n                  setState(() {\n                    _selectedIndex = index;\n                  });\n                },\n                destinations: [\n                  NavigationRailDestination(\n                    icon: Icon(Icons.search),\n                    label: Text(&quot;Search&quot;),\n                  ),\n                ],\n              ),\n            ),\n            VerticalDivider(thickness: 1, width: 1),\n            Expanded(child: widget.navigationShell),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass Search extends StatelessWidget {\n  Search({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text(&quot;Search&quot;)),\n      body: Center(\n        child: Column(\n          children: [\n            FilledButton(\n              onPressed: () {\n                Web.summon(context: context, param: &quot;asdf&quot;);\n              },\n              child: Text(&quot;Submit&quot;),\n            ),\n          ],\n        ),\n      ),\n    );\n  }\n}\n\nclass Web extends StatefulWidget {\n  final String param;\n  final Completer&lt;String&gt; completer;\n\n  Web({super.key, required this.param, required this.completer});\n\n  @override\n  State&lt;Web&gt; createState() =&gt; _WebState();\n\n  static Future&lt;String&gt; summon({\n    required BuildContext context,\n    required String param,\n  }) async {\n    final completer = Completer&lt;String&gt;();\n\n    showDialog(\n      context: context,\n      barrierDismissible: false,\n      builder: (BuildContext dialogContext) {\n        return Dialog(\n          insetPadding: EdgeInsets.all(16.0),\n          child: LayoutBuilder(\n            builder: (context, constraints) {\n              // Use available constraints to ensure dialog fits\n              final availableWidth = constraints.maxWidth;\n              final availableHeight = constraints.maxHeight;\n              final dialogWidth = (availableWidth * 0.9).clamp(400.0, 800.0);\n              final dialogHeight = (availableHeight * 0.8).clamp(300.0, 600.0);\n              \n              return SizedBox(\n                width: dialogWidth,\n                height: dialogHeight,\n                child: Column(\n                  mainAxisSize: MainAxisSize.max,\n                  children: [\n                    Padding(\n                      padding: const EdgeInsets.all(16.0),\n                      child: Row(\n                        mainAxisAlignment: MainAxisAlignment.spaceBetween,\n                        children: [\n                          Flexible(\n                            child: const Text(\n                              'Basic dialog title',\n                              style: TextStyle(\n                                fontSize: 20,\n                                fontWeight: FontWeight.bold,\n                              ),\n                              overflow: TextOverflow.ellipsis,\n                            ),\n                          ),\n                          TextButton(\n                            onPressed: () {\n                              Navigator.of(dialogContext).pop();\n                              if (!completer.isCompleted) {\n                                completer.completeError('Exited by user!');\n                              }\n                            },\n                            child: const Text('Exit'),\n                          ),\n                        ],\n                      ),\n                    ),\n                    Expanded(\n                      child: Web(param: param, completer: completer),\n                    ),\n                  ],\n                ),\n              );\n            },\n          ),\n        );\n      },\n    );\n\n    return completer.future;\n  }\n}\n\nclass _WebState extends State&lt;Web&gt; {\n  WebViewController? _controller;\n  bool _isLoading = true;\n  String? _errorMessage;\n  bool _hasLoaded = false;\n\n  @override\n  void initState() {\n    super.initState();\n\n    // Create WebViewController without calling setBackgroundColor on macOS\n    // The setBackgroundColor method internally calls setOpaque which is not\n    // implemented on macOS, causing UnimplementedError: opaque is not implemented on macOS\n    final isMacOS = Platform.isMacOS || Platform.operatingSystem == 'macos';\n    final isWindows = Platform.isWindows || Platform.operatingSystem == 'windows';\n    \n    // Set platform-appropriate user agent\n    final userAgent = isWindows\n        ? 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'\n        : isMacOS\n            ? 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'\n            : 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36';\n\n    _controller = WebViewController()\n      ..setJavaScriptMode(JavaScriptMode.unrestricted)\n      ..setUserAgent(userAgent);\n\n    // Only set background color on non-macOS platforms\n    // On macOS, this would cause UnimplementedError: opaque is not implemented\n    if (!isMacOS) {\n      try {\n        _controller!.setBackgroundColor(Colors.white);\n      } catch (e) {\n        // Continue without setting background color if it fails\n      }\n    }\n\n    _controller!\n      ..setNavigationDelegate(\n        NavigationDelegate(\n          onPageStarted: (String url) {\n            if (mounted) {\n              setState(() {\n                _isLoading = true;\n                _errorMessage = null;\n              });\n            }\n          },\n          onPageFinished: (String url) {\n            if (mounted) {\n              setState(() {\n                _isLoading = false;\n                _hasLoaded = true;\n              });\n            }\n          },\n          onWebResourceError: (WebResourceError error) {\n            if (mounted) {\n              setState(() {\n                _isLoading = false;\n                if (error.errorType ==\n                    WebResourceErrorType.webContentProcessTerminated) {\n                  _errorMessage =\n                      'WebView process terminated. Trying to reload...';\n                  // Try to reload after a delay\n                  Future.delayed(const Duration(seconds: 2), () {\n                    if (mounted &amp;&amp; _controller != null) {\n                      _controller!.reload();\n                    }\n                  });\n                } else {\n                  _errorMessage = error.description.isNotEmpty\n                      ? error.description\n                      : 'Failed to load page (Error code: ${error.errorCode})';\n                }\n              });\n            }\n          },\n          onNavigationRequest: (NavigationRequest request) {\n            return NavigationDecision.navigate;\n          },\n        ),\n      )\n      ..addJavaScriptChannel(\n        'FlutterChannel',\n        onMessageReceived: (JavaScriptMessage message) {\n          // Handle message from JavaScript\n          if (!widget.completer.isCompleted) {\n            widget.completer.complete(message.message);\n            Navigator.of(context).pop();\n          }\n        },\n      );\n\n    // Delay loading to ensure WebView widget is fully built and sized\n    // This helps prevent process termination on macOS\n    // Only load once to prevent multiple load attempts\n    Future.delayed(const Duration(milliseconds: 800), () {\n      if (mounted &amp;&amp; _controller != null &amp;&amp; !_hasLoaded) {\n        _hasLoaded = true;\n        _controller!.loadRequest(Uri.parse('https://flutter.dev'));\n      }\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    if (_controller == null) {\n      return const Center(child: CircularProgressIndicator());\n    }\n\n    return Builder(\n      builder: (context) {\n        // Use LayoutBuilder to ensure WebView has proper constraints before rendering\n        return LayoutBuilder(\n          builder: (context, constraints) {\n            if (constraints.maxWidth &lt;= 0 || constraints.maxHeight &lt;= 0) {\n              return const Center(child: CircularProgressIndicator());\n            }\n            return Container(\n              color: Colors.white,\n              child: Stack(\n                children: [\n                  SizedBox(\n                    width: constraints.maxWidth,\n                    height: constraints.maxHeight,\n                    child: WebViewWidget(controller: _controller!),\n                  ),\n                  if (_isLoading)\n                    Container(\n                      color: Colors.white,\n                      child: const Center(\n                        child: Column(\n                          mainAxisAlignment: MainAxisAlignment.center,\n                          children: [\n                            CircularProgressIndicator(),\n                            SizedBox(height: 16),\n                            Text('Loading flutter.dev...'),\n                          ],\n                        ),\n                      ),\n                    ),\n                  if (_errorMessage != null)\n                    Container(\n                      color: Colors.white,\n                      child: Center(\n                        child: Padding(\n                          padding: const EdgeInsets.all(16.0),\n                          child: Column(\n                            mainAxisAlignment: MainAxisAlignment.center,\n                            children: [\n                              const Icon(\n                                Icons.error_outline,\n                                size: 48,\n                                color: Colors.red,\n                              ),\n                              const SizedBox(height: 16),\n                              Text(\n                                'Error loading page: $_errorMessage',\n                                textAlign: TextAlign.center,\n                              ),\n                              const SizedBox(height: 16),\n                              ElevatedButton(\n                                onPressed: () {\n                                  if (_controller != null) {\n                                    setState(() {\n                                      _isLoading = true;\n                                      _errorMessage = null;\n                                    });\n                                    _controller!.reload();\n                                  }\n                                },\n                                child: const Text('Retry'),\n                              ),\n                            ],\n                          ),\n                        ),\n                      ),\n                    ),\n                ],\n              ),\n            );\n          },\n        );\n      },\n    );\n  }\n}\n\n</code></pre>\n", "tags": ["flutter", "dart", "webview"]}
{"id": "fe576f4b-77c2-4cf0-ae86-deae4257cf09", "text": "Q: What is the fastest way to compute large power of 2 modulo a number A: <p>Many have focused on exponentiation by squaring but omitted one <strong>HUGE</strong> time saver - any pow-mod exponent against a prime modulus can always be reduced to under the modulus itself.</p>\n<p>So let's start with the <code>jacobi()</code> symbol of the base (<code>2</code>) against the modulus (<code>1,000,000,007</code>). Base of 2 is super straight forward without having to do all nonstop symbol inverting.</p>\n<p>When modulus is odd prime, and</p>\n<blockquote>\n<pre class=\"lang-vhd prettyprint-override\"><code>odd and prime modulus \u2261 \u00b1 1 (mod 8) \n\n      1000000007 % 8 = 7 (-1 mod 8)\n</code></pre>\n</blockquote>\n<p>Then it's a quadratic residue. In layman's terms, that just means we expect the the half-height's (<code>(modulus -  1) / 2</code>) cyclicality matching that of the full height (<code>modulus - 1</code>)</p>\n<p>The half-height of this particular modulus is also prime :</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>   1000000007: prime                &lt;\u2014 modulus        \n   1000000006: 2 500000003          &lt;\u2014 totient / &quot;full-height&quot;\n\n    500000005: 5 17 5882353\n    500000004: 2^2 3^2 7 109^2 167\n    500000003: prime                &lt;\u2014 &quot;half-height&quot;\n    500000002: 2 41^2 148721\n\n    500000001: 3 43 983 3943\n    500000000: 2^8 5^9\n    499999999: 691 723589\n    499999998: 2 3 83333333\n\n    499999997: 7 71428571\n    499999996: 2^2 499 250501\n    499999995: 3^2 5 11 73 101 137\n    499999994: 2 13 331 58099\n</code></pre>\n<p>Results attached below confirm all 3 choices yielded the same result.</p>\n<blockquote>\n<p>Long story short - the properly reduced exponent against <strong>this modulus</strong> should never exceed <strong>29-bits</strong></p>\n</blockquote>\n<pre><code>gawk -Mbe 'BEGIN { \n\n      __ = 10^9 + 7\n     ___ = 23^45 * 67^89 - 10   \n                \n     print 2,   ___, -__\n     print 2, --___ %  (__ - 1) + 1,  -__\n     print 2, ++___ $ ((__ - 1) / 2), -__\n\n}' | python3 -c '\n\n  import sys\n\n  sys.set_int_max_str_digits(0)\n\n[ print(pow(int((_ := __.split())[0]), int(_[1]), \n                            int(_[2]))) for __ in sys.stdin ]' \n</code></pre>\n<pre class=\"lang-ml prettyprint-override\"><code>     1  -640215009 # 2^( full exponent of 62865165202171696511682680204947\n                                          12159016932454660359948675593702\n                                          92464435110070687688978243025298\n                                          44719399511310204608195142702102\n                                          20921819009650041707756663471880\n                                          25689089551687445825594172156859\n                                          04465100078343658346803268343611 )\n\n     2  -640215009 # 2^( full exponent % (totient(modulus)   := 1,000,000,006)\n                   # 2^( 350,045,935 )\n\n     3  -640215009 # 2^( full exponent % (totient(modulus)/2 :=   500,000,003)\n                   # 2^( 350,045,935 )\n</code></pre>\n<hr />\n", "tags": ["c++", "c", "algorithm", "optimization", "numbers"]}
