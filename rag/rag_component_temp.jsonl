{"id": "492c049f-7276-4be3-b1de-d328c5999b1e", "text": "Q: Can PowerShell automatically create missing directories when redirecting output? A: \n<p><strong>tl;dr</strong></p>\n<ul>\n<li><p>Use <strong><code>... &gt; (New-Item -Force c:\\missing_dir\\git_status.txt)</code></strong></p>\n</li>\n<li><p>(<code>... | New-Item -Force c:\\missing_dir\\git_status.txt</code> doesn't work as intended if the command represented by <code>...</code> produces <em>more than one output line / object</em>, as is common with external-program invocations such as <code>git status</code>, and the additional effort required to make it work - <code>Out-String</code> or <code>Join-String</code> or <code>-join</code> - isn't worth it: see the bottom section)</p>\n</li>\n</ul>\n<p>Read on for an explanation.</p>\n<hr />\n<ul>\n<li><p>No, <strong><code>&gt;</code>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Redirection\" rel=\"nofollow noreferrer\">redirection operator</a>, can <em>not</em> be configured to create target directories on demand</strong>.</p>\n</li>\n<li><p>However, you can <strong>use the output from a <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.management/new-item\" rel=\"nofollow noreferrer\"><code>New-Item</code></a> call with the <code>-Force</code> switch <em>as the redirection target</em></strong>, by <strong>enclosing the call in <code>(...)</code></strong>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Operators#grouping-operator--\" rel=\"nofollow noreferrer\">grouping operator</a>:</p>\n<ul>\n<li><p><code>New-Item -Force</code> creates target directories on demand and also truncates a preexisting target file, if any (as <code>&gt;</code> alone does).</p>\n</li>\n<li><p>The resulting <a href=\"https://learn.microsoft.com/en-US/dotnet/api/System.IO.FileInfo\" rel=\"nofollow noreferrer\"><code>[System.IO.FileInfo]</code></a> instance representing the newly created or preexisting truncated file is implicitly <em>stringified</em> to serve as the <code>&gt;</code> target, which works as intended, given that the stringification results in the file's <em>full path</em>.</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code># Creates &quot;C:\\missing_dir&quot; if it doesn't already exist before writing\n# to &quot;git_status.txt&quot; there.\ngit status &gt; (New-Item -Force c:\\missing_dir\\git_status.txt)\n</code></pre>\n<p><strong>General considerations with respect to <a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\"><em>character encoding</em></a> relating to output from <em>external programs</em> such as <code>git</code></strong>:</p>\n<ul>\n<li><p>In <a href=\"https://github.com/PowerShell/PowerShell/blob/master/README.md\" rel=\"nofollow noreferrer\"><em>PowerShell (Core) 7</em></a> (the modern, cross-platform, install-on-demand edition), since <em>v7.4</em> (the oldest version still supported as of this writing), an external program's <em>raw byte output</em> is directly saved to the output file (which is in line with the behavior of <code>&gt;</code> in other shells, such as <code>cmd.exe</code> on Windows and <code>bash</code> on Unix-like platforms).</p>\n<ul>\n<li><p>Therefore, it is the external program <em>alone</em> that determines the character encoding of the resulting file, and external programs <em>typically</em> respect the code page of the console window they're running in, which defaults to the legacy system locale's OEM code page, such as <a href=\"https://en.wikipedia.org/wiki/Code_page_437\" rel=\"nofollow noreferrer\"><code>437</code></a> on US-English systems; that said, <strong>an increasing number of high-profile programs default to UTF-8</strong>, such as <code>node.exe</code>, the <a href=\"https://nodejs.org/\" rel=\"nofollow noreferrer\">Node.JS</a> CLI; Python (scripts interpreted by <code>python.exe</code>), as another example, exhibits/ed nonstandard behavior up to <em>v3.14.x</em>, using the legacy system locale's <em>ANSI</em> code page, such as <a href=\"https://en.wikipedia.org/wiki/Windows-1252\" rel=\"nofollow noreferrer\"><code>1252</code></a>, is scheduled to <a href=\"https://peps.python.org/pep-0686/\" rel=\"nofollow noreferrer\">switch to UTF-8 in <em>v3.15+</em></a>.</p>\n</li>\n<li><p>However, note that when piping to <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/out-file\" rel=\"nofollow noreferrer\"><code>Out-File</code></a> in lieu of using <code>&gt;</code>, the decoding and re-encoding cycle described for Windows PowerShell in the next bullet point still applies; thus, you may want to use<br />\n<code>... | Out-File -LiteralPath (New-Item -Force c:\\missing_dir\\git_status.txt)</code> if you explicitly want to <em>transcode</em> external-program output to a different character encoding.</p>\n</li>\n<li><p>With input from <em>PowerShell</em> commands, by contrast, <code>&gt;</code> is, in effect, an alias of <code>Out-File</code>, and creates <em>BOM-less UTF-8</em> files by default, the latter being PowerShell 7's consistent default (whereas in <em>Windows PowerShell</em> the default encodings differ widely, from cmdlet to cmdlet - see the bottom section of <a href=\"https://stackoverflow.com/a/40098904/45375\">this answer</a>).</p>\n</li>\n</ul>\n</li>\n<li><p>In <em>Windows PowerShell</em> (the legacy, ships-with-Windows, Windows-only edition of PowerShell whose latest and <em>final</em> version is 5.1):</p>\n<ul>\n<li><p><code>&gt;</code> creates &quot;Unicode&quot; (<a href=\"https://en.wikipedia.org/wiki/UTF-16#UTF-16LE\" rel=\"nofollow noreferrer\">UTF-16LE</a>) files by default (as does <code>Out-File</code>)...</p>\n</li>\n<li><p>... based on <em>first decoding the external-program output using the encoding stored in <code>[Console]::OutputEncoding</code></em> and then <em>re-encoding the resulting text</em> for writing to the target file.</p>\n<ul>\n<li><p><code>[Console]::OutputEncoding</code> reflects the character encoding corresponding to the legacy system locale's OEM code page, such as <code>437</code> on US-English systems, which, as noted, external programs typically use for encoding their output, especially historically, but with an increasing number of high-profile exceptions where UTF-8 is used.</p>\n</li>\n<li><p>Thus, to avoid misinterpretation of external-program output, <code>[Console]::OutputEncoding</code> must match the actual output encoding used by a given external program, situationally necessitating (temporary) modification of <code>[Console]::OutputEncoding</code>; see <a href=\"https://stackoverflow.com/a/58438716/45375\">this answer</a> for more information.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>While you <strong><em>could</em> pipe output directly to <code>New-Item -Force</code> (<code>... | New-Item -Force ...</code>), there's <em>no good reason to do so</em></strong>:</p>\n<ul>\n<li><p>Fundamentally:</p>\n<ul>\n<li><p>You <strong>additionally need to ensure that only a <em>single</em> object (multiline string) is piped to <code>New-Item -Force</code></strong> - absent that, in effect only the <em>last</em> (stringified) input object is stored in the target file.<sup>[1]</sup></p>\n<ul>\n<li>Any such effort <strong>requires first collecting external-program output <em>in full, in memory</em></strong> instead of <em>streaming</em> the output to the target file.</li>\n</ul>\n</li>\n<li><p>You additionally <strong>must <em>discard</em> <code>New-Item</code>'s output</strong> (a <code>[System.IO.FileInfo]</code> instance, as noted), given that it isn't of interest here and that <code>&gt;</code> (sensibly) never produces success-<a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Output_Streams\" rel=\"nofollow noreferrer\">stream</a> output, necessitating something like <code>$null = ...</code></p>\n</li>\n<li><p>Using the PowerShell pipeline <strong>subjects the input to the character decoding/re-encoding cycle described above</strong> (which, however, in <em>Windows PowerShell</em> fundamentally cannot be avoided, not even with the superior<br />\n<code>&gt; (New-Item -Force ...)</code>  solution.</p>\n</li>\n<li><p>Finally, with respect to <strong><em>output</em> character encoding</strong>:</p>\n<ul>\n<li><p>In <em>both</em> PowerShell editions, due to use of <code>New-Item</code> to write the file, the <strong>output is saved to the target file as <em>BOM-less UTF-8</em></strong>.</p>\n</li>\n<li><p>While creating BOM-less UTF-8 files is consistent with the default behavior of <em>PowerShell (Core) 7</em> (except with use of <code>&gt;</code> on external-program calls in v7.4+, where the external program alone determines the character encoding), it is <em>unusual</em> in <em>Windows PowerShell</em>, which, as noted, creates &quot;Unicode&quot; (UTF-16LE) files with <code>&gt;</code> / <code>Out-File</code>, and otherwise only supports creating UTF-8 files <em>with BOM</em>, via <code>-Encoding UTF8</code> - see <a href=\"https://stackoverflow.com/a/66553739/45375\">this answer</a> for details.</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Given that PowerShell streams external-program output <em>line by line</em> to the pipeline, the <strong>implications with respect to the requisite <em>re-joining</em> of the input to form a <em>single, multiline</em> string are</strong>:</p>\n<ul>\n<li><p>If you were to use <strong><code>Out-String</code></strong> - the syntactically simplest solution - it would use the <em>platform-native</em> newline sequence (<code>&quot;`r`n&quot;</code> (CRLF) on Windows, <code>&quot;`n&quot;</code> (LF) on Unix-like platforms) to &quot;stitch&quot; the output back together to form a multiline string,<sup>[2]</sup> which can result in the target file using <em>different</em> newlines from the original external-program output, however.\nThat said, the same applies to <em>Windows PowerShell</em> even when using <code>&gt;</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Less efficient alternative to the `&gt; (New-Item -Force ...)` solution:\n#  * It is subject to decoding and re-encoding even in PowerShell 7...\n#  * ... and invariably creates BOM-less UTF-8 files in both editions.\n#  * Of necessity it collects all output in memory first.\n#  * `$null = ` suppresses the [System.IO.FileInfo] instance output by \n#     New-Item, which isn't of interest here.\n$null = \n  git status | Out-String | New-Item -Force c:\\missing_dir\\git_status.txt\n</code></pre>\n</li>\n<li><p>If you were to use <strong><code>-join</code></strong>, the <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_Join\" rel=\"nofollow noreferrer\">string joining operator</a>:<sup>[3]</sup></p>\n<pre class=\"lang-bash prettyprint-override\"><code># Expression-based equivalent that has the same limitations.\n# Syntactically more awkward, but allows you to choose the newline format.\n# If you don't care about the presence of a trailing newline, omit\n#   `+ [Environment]::NewLine`\n$null = \n  ((git status) -join [Environment]::NewLine) + [Environment]::NewLine |\n    New-Item -Force c:\\missing_dir\\git_status.txt\n</code></pre>\n</li>\n<li><p>If you were to use the <em>PowerShell (Core) 7-only</em> <strong><a href=\"https://learn.microsoft.com/powershell/module/microsoft.powershell.utility/join-string?view=powershell-7.3&amp;WT.mc_id=ps-gethelp\" rel=\"nofollow noreferrer\"><code>Join-String</code></a></strong> cmdlet:<sup>[3]</sup></p>\n<pre class=\"lang-bash prettyprint-override\"><code># PS 7-only equivalent using `Join-String`, which too allows you to choose\n# the newline format but otherwise has the same limitations.\n# If you don't care about the presence of a trailing newline, omit\n#   `+ [Environment]::NewLine`\n$null = \n  (git status | Join-String -Separator ([Environment]::NewLine)) + \n    [Environment]::NewLine |\n    New-Item -Force c:\\missing_dir\\git_status.txt\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p><sup>[1] Technically, <em>each and every</em> (stringified) input object is written to the target file, <em>in succession</em>, with each write operation <em>replacing the previous one</em> (by rewriting the target file <em>in full</em> each time), so that in effect only the <em>last</em> input object's stringified representation ends up in the file. These - needlessly inefficient - successive write operations are reflected in <code>New-Item</code> outputting a <code>[System.IO.FileInfo]</code> instance <em>for each input object</em>.<br />\nAdditionally, the stringification performed by <code>New-Item</code> is, in essence, simple <code>.ToString()</code> stringification (i.e., .NET's default stringification), whereas <code>&gt;</code>, <code>Out-File</code>, and <code>Out-String</code> use the much richer stringifications provided by PowerShell's <a href=\"https://docs.microsoft.com/en-us/powershell/scripting/developer/format/formatting-file-overview\" rel=\"nofollow noreferrer\">for-display output-formatting system</a></sup></p>\n<p><sup>[2] <code>Out-String</code> <em>automatically and invariably</em> appends a trailing platform-native newline, which happens to be helpful in this case - it ensures that the target file's last line has a trailing newline, as is generally expected on Unix-like platforms - but this behavior is generally questionable - see <a href=\"https://github.com/PowerShell/PowerShell/issues/14444\" rel=\"nofollow noreferrer\">GitHub issue #14444</a>.</sup></p>\n<p><sup>[3] Compared to the <code>Out-String</code> solution (which uses PowerShell's rich <a href=\"https://docs.microsoft.com/en-us/powershell/scripting/developer/format/formatting-file-overview\" rel=\"nofollow noreferrer\">for-display output-formatting system</a> for stringification), the results are only the same with instances of <em>.NET primitive types</em> as input, such as with the always-interpreted-as-strings output from external programs (except, in PowerShell 7, when piping <em>between</em> external program and when using <code>&gt;</code>): both the <code>-join</code> operator and the <code>Join-String</code> cmdlet in essence perform simple <code>.ToString()</code> stringification,\n</sup></p>\n", "tags": ["powershell", "directory", "io-redirection"]}
{"id": "f27cfa90-9eae-4b01-a6d6-0984331c0805", "text": "Q: What is the purpose of the k0, k1, ... k7 registers? A: <p>They're AVX-512 SIMD mask registers, 64 bits each on CPUs with AVX-512BW.<br />\n(Otherwise only 16 bits on Xeon Phi, the only CPUs to have AVX-512F without AVX-512BW.)<br />\nThey don't exist on CPUs without AVX-512.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/AVX-512#Opmask_registers\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/AVX-512#Opmask_registers</a></p>\n<p>Merge-masking instructions like <code>vpaddb ymm0{k1}, ymm1, ymm2</code> keep the old value of YMM0 in elements where the mask register had a <code>0</code> bit.<br />\nZero-masking instructions like <code>vpaddb ymm0{k1}{z}, ymm1, ymm2</code> zero those elements, so no input dependency on the old value of <code>ymm0</code>.</p>\n<p><code>k0</code> isn't usable for actual masking of other operations (its register-number means no masking in that context).  It is usable as a destination or as a normal source for instructions like <code>kxnor k1, k0, k0</code> to set <code>k1</code> to all-ones (e.g. before using it as a scatter or gather mask), or like <code>vpcmpltd k0, zmm0, zmm1</code> / <code>vpmovm2d zmm2, k0</code> (to emulate SSE2/AVX2-style compare-into-vector, which you'd normally try to avoid with AVX-512.  Or if working with 128 or 256-bit vectors, just use the AVX2 instruction unless you need e.g. unsigned-less or greater compare which only AVX-512 has.)</p>\n<hr />\n<p>For more details and example uses, see</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/54497141/when-using-a-mask-register-with-avx-512-load-and-stores-is-a-fault-raised-for-i\">When using a mask register with AVX-512 load and stores, is a fault raised for invalid accesses to masked out elements?</a> - masked loads/stores do indeed suppress faults for masked elements (where the corresponding <code>k</code> bit is 0).</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/66493835/what-is-the-correct-way-to-go-from-avx-sse-masks-to-avx512-masks\">What is the &quot;correct&quot; way to go from avx/sse masks to avx512 masks?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/47481762/avx-512-and-branching\">AVX-512 and Branching</a> (doing stuff based on per-element conditions, which actually needs to be branchless to vectorize well.  Masking built into other instructions makes that even more efficient than doing it manually the SSE/AVX way.)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/78381212/how-to-generate-an-avx-512-mask-based-on-multiple-comparisons-of-fp-values-in-co\">How to generate an AVX-512 mask based on multiple comparisons of FP values in corresponding elements of vectors?</a> - you can combine multiple conditions with masked compare-into-mask.</p>\n</li>\n<li><p>Fun fact: Intel renames <code>k</code> mask registers using the same register file as x87/MMX registers.  <a href=\"https://travisdowns.github.io/blog/2020/05/26/kreg2.html\" rel=\"nofollow noreferrer\">https://travisdowns.github.io/blog/2020/05/26/kreg2.html</a></p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/15017659/how-to-read-the-intel-opcode-notation\">How to read the Intel Opcode notation</a></p>\n</li>\n<li><p><a href=\"https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html\" rel=\"nofollow noreferrer\">https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html</a> - Intel documentation for x86-64 includes a description of all registers, for next time you wonder about some new kind of register like <code>bnd0</code> to <code>bnd3</code> on a CPU with <a href=\"https://en.wikipedia.org/wiki/Intel_MPX\" rel=\"nofollow noreferrer\">MPX</a>.  (e.g. Skylake.  Dropped from later CPUs, but IDK if debuggers and kernels will drop support for it or not.)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/tags/x86/info\">https://stackoverflow.com/tags/x86/info</a> - the tag wiki has lots of links to guides and docs in general, definitely worth checking out as a beginner.</p>\n</li>\n</ul>\n<p>Also, a web search for &quot;x86 register k0&quot; finds several pages that would point you in the right direction toward AVX-512:</p>\n<ul>\n<li><a href=\"https://wiki.osdev.org/CPU_Registers_x86\" rel=\"nofollow noreferrer\">https://wiki.osdev.org/CPU_Registers_x86</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/X86#Miscellaneous/special_purpose\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/X86#Miscellaneous/special_purpose</a></li>\n</ul>\n", "tags": ["assembly", "gdb", "x86-64", "cpu-registers", "avx512"]}
{"id": "e73e5768-c921-45b4-ba8f-ce817351f4db", "text": "Q: Reading a serial event with the winapi.h in MFC A: <p>I find separating UI and background tasks makes the application easier to implement and maintain, and also a lot more clear. All background tasks should go to a worker thread, communicating with the UI one asynchronously. It's not much work actually. Take a look at my posts <a href=\"https://stackoverflow.com/questions/75110448/allow-start-only-one-thread\"><strong>here</strong></a> and <a href=\"https://stackoverflow.com/questions/78945279/handle-async-callback-in-mfc-gui-application-running-in-main-thread-from-a-worke\"><strong>here</strong></a>. The first post is quite close to what you are making. It also contains tips about the UI and worker threads interaction. The worker thread posts a user-defined message to report to the UI thread (also mentioned by @Mitch above). The sample code assumes the app contains a <code>CView</code>-derived window, but it can easily be changed to work with a <code>CDialog</code>-derived one.</p>\n<p>A side-note, if you haven't already put much work into your application, consider creating a new project with the Wizard, containing a SDI <code>CFormView</code>-derived view (it's basically a dialog placed on the frame-window) <strong>without a document class</strong>, instead of a dialog-based application. Many developers choose the latter, because they just want a simple application with a &quot;main form&quot;, like in VB or Delphi. However this app type lacks many features the MFC framework provides, like menus, toolbar(s), status-bar, properties windows etc etc, and most importantly the UI-update mechanism (<code>ON_COMMAND</code>/<code>ON_UPDATE_COMMAND_UI</code> handlers), all easily created by the Wizard.</p>\n", "tags": ["c++", "winapi", "mfc", "serial-port"]}
{"id": "1ccea4d7-6812-41ed-a4e2-29d38e9d182f", "text": "Q: Confused about implementing degree() and incident_edges() for topological sort in Python A: <p>This follows Kahn's Algorithm (BFS-Based).</p>\n<p>First of all, according to the textbook, as per the Graph object, you are not supposed to create the <code>outgoing</code> and <code>ingoing</code> dictionaries, but instead store <strong>pairs of edges</strong> as it is.<br />\nHOWEVER, it is easier to modify your current code by replacing <code>e</code> with <code>v</code> , so it becomes <code>for v in g.incident_edges(u):</code> , and completely removing <code>v = e.opposite(u)</code> . (It also makes more sense to call <code>incident_edges</code> something like <code>neighbor_vertices</code> if you follow this.)</p>\n<p>Also, I will reply the questions based on your <strong>current code</strong>.</p>\n<p>1. I don't know where you got the idea of <code>incoming</code> from, but considering how it is <code>False</code> in the textbook, it suggests that it follows this (scroll to bottommost) &gt; <a href=\"https://csiflabs.cs.ucdavis.edu/%5C%7Etyfeng/ecs34/C++/graphs.html\" rel=\"nofollow noreferrer\">https://csiflabs.cs.ucdavis.edu/%5C~tyfeng/ecs34/C++/graphs.html</a> which means that it's instead meant to be <code>outgoing</code> , so when it is <code>False</code> it reports the number of incoming edges. So, something like:</p>\n<pre><code>def degree(self, u, out): # remember 'outgoing' variable already exists, so calling it 'out' here.\n    if (out):\n        return len(self.outgoing[u])\n    return len(self.incoming[u])\n</code></pre>\n<p>2. <code>incident_edges</code> (or <code>neighbor_vertices</code> I suggest) will be like:</p>\n<pre><code>def incident_edges(self, u):\n        return self.outgoing[u]\n</code></pre>\n<p>If you want to follow the textbook, you need to loop through all the edges, then return the edges that start with <code>u</code> .</p>\n<p>3. Your understanding of<code>Edge.opposite(self, u)</code> is correct, it just doesn't make sense when you already have <code>incoming</code> and <code>outgoing</code> like that. According to your textbook, if there's an edge <code>e</code> =<code>(&quot;Wash Rice&quot;, &quot;Soak Rice&quot;)</code> then <code>e.opposite(&quot;Soak Rice&quot;)</code> returns <code>&quot;Wash Rice&quot;</code> and vice versa.</p>\n<p>4. By running the implementation of the algorithm at <a href=\"https://www.geeksforgeeks.org/dsa/topological-sorting-indegree-based-solution/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/dsa/topological-sorting-indegree-based-solution/</a> , yes, it returns an incomplete list. Try in that website with fx:</p>\n<pre><code>addEdge(adj, 0, 1)\naddEdge(adj, 2, 1)\naddEdge(adj, 2, 3)\naddEdge(adj, 4, 5)\naddEdge(adj, 1, 5)\naddEdge(adj, 5, 2)\n</code></pre>\n<p>It only prints <code>0 4</code> .</p>\n<p>Hope these make sense, otherwise you are welcome to ask for further clarification :)</p>\n", "tags": ["python", "data-structures", "directed-acyclic-graphs"]}
{"id": "2b959135-9c43-43ea-a7cc-8f255923ed56", "text": "Q: 9182847829192847288191v A: <p><a href=\"https://stackoverflow.com/questions/72561063/tampermonkey-script-to-check-for-a-button-and-click-it/72562394#72562394\">This SO answer</a> <em>(about waiting for the page to be fully rendered before running your script)</em> might help.</p>\n<p><a href=\"https://stackoverflow.com/a/74184173/1447509\">Here is another</a> (very simple example) to review - it shows how to inject a DIV onto a page. Very simple.</p>\n<p>Also, look at <strong>all the links</strong> in <a href=\"https://stackoverflow.com/a/53161629/1447509\">this SO answer</a>, for ideas and inspiration.</p>\n<p>In particular, look at the code in <a href=\"https://github.com/cssyphus/TamperMonkeyUserscripts/blob/main/ImproveW3SchoolsCSSColors/userscript.js\" rel=\"nofollow noreferrer\">this script</a> -- study it line by line -- it's not as difficult as it looks at first. Look at how the buttons get injected onto the existing web page, and then how they are connected to functions to do stuff.</p>\n", "tags": ["tampermonkey"]}
{"id": "b61592ab-291a-4ad6-b3f5-33b26e3df227", "text": "Q: See Do posts have to be in English on Stack Exchange? A: <p>Stack Overflow \u0e40\u0e1b\u0e47\u0e19\u0e40\u0e27\u0e47\u0e1a\u0e44\u0e0b\u0e15\u0e4c\u0e42\u0e0b\u0e40\u0e0a\u0e35\u0e22\u0e25\u0e21\u0e35\u0e40\u0e14\u0e35\u0e22\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48? \u0e16\u0e49\u0e32\u0e43\u0e0a\u0e48 \u0e15\u0e2d\u0e19\u0e19\u0e35\u0e49\u0e1e\u0e27\u0e01\u0e40\u0e02\u0e32\u0e21\u0e35\u0e2b\u0e19\u0e49\u0e32\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e41\u0e1a\u0e19...\n27\n\u0e1b\u0e31\u0e08\u0e08\u0e38\u0e1a\u0e31\u0e19\u0e21\u0e35\u0e41\u0e19\u0e27\u0e17\u0e32\u0e07\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23\u0e43\u0e19\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e01\u0e31\u0e1a\u0e04\u0e33\u0e15\u0e2d\u0e1a\u0e17\u0e35\u0e48\u0e40\u0e1b\u0e47\u0e19\u0e2d\u0e31\u0e19\u0e15\u0e23\u0e32\u0e22\u0e41\u0e15\u0e48\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a\u0e04\u0e30\u0e41\u0e19\u0e19\u0e42\u0e2b\u0e27\u0e15\u0e2a\u0e39\u0e07? \u0e43\u0e19...</p>\n<p>\u0e2d\u0e35\u0e40\u0e21\u0e25https://twitter.com/share?url=https%3a%2f%2fstackoverflow.com%2fq%2f79848087%2f31830716%3fstw%3d2</p>\n<p>\u0e40\u0e1f\u0e0b\u0e1a\u0e38\u0e4a</p>\n", "tags": ["javascript", "python", "html"]}
{"id": "03cc67c0-61b6-4368-9aa0-1d778f456da4", "text": "Q: How to apply bounds on a variable when performing optimisation in Pytorch? A: <p>I meet the same problem with you.\nI want to apply bounds on a variable in PyTorch, too.\nAnd I solved this problem by the below Way3.</p>\n<p>Your example is a little compliex but I am still learning English.\nSo I give a simpler example below.</p>\n<p>For example, there is a trainable variable <code>v</code>, its bounds is (-1, 1)</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>v = torch.tensor((0.5, \uff09, require_grad=True)\nv_loss = xxxx\noptimizer.zero_grad()\nv_loss.backward()\noptimizer.step()\n</code></pre>\n<p>Way1. RuntimeError: a leaf Variable that requires grad has been used in an in-place operation.</p>\n<pre class=\"lang-py prettyprint-override\"><code>v.clamp_(-1, 1)             \n</code></pre>\n<p>Way2. RuntimeError: Trying to backward through the graph a second time, but the buffers have already been freed.</p>\n<pre class=\"lang-py prettyprint-override\"><code>v = torch.clamp(v, -1, +1)  # equal to v = v.clamp(-1, +1)  \n</code></pre>\n<p>Way3. <strong>NotError</strong>. I solved this problem in Way3.</p>\n<pre class=\"lang-py prettyprint-override\"><code>with torch.no_grad():\n    v[:] = v.clamp(-1, +1)  # You must use v[:]=xxx instead of v=xxx\n</code></pre>\n", "tags": ["optimization", "pytorch", "clamp", "non-convex"]}
