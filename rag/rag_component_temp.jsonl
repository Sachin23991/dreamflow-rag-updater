{"id": "fc37463d-199a-4c4d-9863-07a40d28524e", "text": "Q: String Rotation in Java A: <p>How about this method?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isRotated(String s1, String s2) {\n    if (s1 == null || s2 == null) {\n        return false;\n    }\n    if (s1.length() != s2.length()) {\n        return false;\n    }\n    int leftIndex = 0, rightIndex = s2.length() - 1;\n    while (leftIndex &lt; s1.length()) {\n        if (s1.charAt(leftIndex++) != s2.charAt(rightIndex--)) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n", "tags": ["java", "string"]}
{"id": "340701e6-3442-4b77-9b6e-7372187b08e6", "text": "Q: Can anyone help me with the playerctl output? A: <p>For any one who comes after me:</p>\n<p>I found a caveman solution in:</p>\n<pre><code>script -q -c &quot;playerctl -p \\&lt;whatever_player\\&gt; status&quot; -a ./some_file.txt\n\nstatus=$(cat ./some_file.txt | head -n 2 | tail -n 1)\n\nrm ./some_file.txt\n\nusable_status=$(echo $status | cut -c 1-16)\n</code></pre>\n<p>and this is all for if I know the output of &quot;playerctl status&quot; will be &quot;No players found&quot;</p>\n<p>For some reason the string glitches out if you don't &quot;cut&quot; the string</p>\n<p>I am pretty sure playerctl only ever outputs to console.</p>\n<p>Maybe someone has more knowledge to handle all this but something is up with the backend.</p>\n", "tags": ["linux", "bash"]}
{"id": "af39e143-767e-4d40-aa42-6d3b1a2f973e", "text": "Q: How to make a fully dynamic prepared statement using mysqli API? A: <p>An excellent question. And thank you for moving to prepared statements. It seems that after all those years of struggle, the idea finally is starting to take over.</p>\n<p><em>Disclaimer: there will be links to my own site because I am helping people with PHP for 20+ years and got an obsession with writing articles about most common issues.</em></p>\n<p>Yes, it's perfectly possible. Check out my article, <a href=\"https://phpdelusions.net/mysqli_examples/search_filter\" rel=\"nofollow noreferrer\">How to create a search filter for mysqli</a> for the fully functional example.</p>\n<p>For the <code>WHERE</code> part, all you need is to create two separate arrays - one containing query conditions with placeholders and one containing actual values for these placeholders, i.e:</p>\n<h3><code>WHERE</code> clause</h3>\n<pre><code>$conditions = [];\n$parameters = [];\n\nif (!empty($_GET[&quot;content&quot;])) {\n    $conditions[] = 'content LIKE ?';\n    $parameters[] = '%'.$_GET['content '].&quot;%&quot;;\n}\n</code></pre>\n<p>and so on, for all search conditions.</p>\n<p>Then you could <code>implode</code>  all the conditions using <code>AND</code> string as a glue, and get a first-class <code>WHERE</code> clause:</p>\n<pre><code>if ($conditions)\n{\n    $where .= &quot; WHERE &quot;.implode(&quot; AND &quot;, $conditions);\n}\n</code></pre>\n<p>The routine is the same for all search conditions, but it will be a bit different for the  <code>IN()</code> clause.</p>\n<h3><code>IN()</code> clause</h3>\n<p>is a bit different as you will need more placeholders and more values to be added:</p>\n<pre><code>if (!empty($_GET[&quot;opID&quot;])) {\n    $in  = str_repeat('?,', count($array) - 1) . '?';\n    $conditions[] = &quot;opID IN ($in)&quot;;\n    $parameters = array_merge($parameters, $_GET[&quot;opID&quot;]);\n}\n</code></pre>\n<p>this code will add as many <code>?</code> placeholders to the <code>IN()</code> clause as many elements in the <code>$_GET[&quot;opID&quot;]</code> and will add all those values to the <code>$parameters</code> array. The explanation can be found in the adjacent article in the same section on my site.</p>\n<p>After you are done with <code>WHERE</code> clause, you can move to the rest of your query</p>\n<h3><code>ORDER BY</code> clause</h3>\n<p>You cannot parameterize the order by clause, because field names and SQL keywords cannot be represented by a placeholder. So you will need another approach called whitelisting. First define a white list with allowed values</p>\n<pre><code>$sortColumns = [&quot;title&quot;,&quot;content&quot;,&quot;priority&quot;]; // add your own\n</code></pre>\n<p>and then check input values against them</p>\n<pre><code>if (!in_array($_GET[&quot;column&quot;], $sortColumns)) { \n    throw new RuntimeException(&quot;Invalid order by value&quot;); \n}\n</code></pre>\n<p>The actual action may vary but in any case it should make sure that no invalud value makes it in the query.</p>\n<h3><code>LIMIT</code> clause</h3>\n<p><code>LIMIT</code> values are perfectly parameterized so you can just add them to the <code>$parameters</code> array:</p>\n<pre><code>$limit = &quot;LIMIT ?, ?&quot;;\n$parameters[] = $offset;\n$parameters[] = $recordsPerPage;\n</code></pre>\n<h3>The final assembly</h3>\n<p>In the end, your query will be something like this</p>\n<pre><code>$sql = &quot;SELECT id, title, content, priority, date, delivery \n        FROM tasks INNER JOIN ... $where ORDER BY `$orderField` $order $limit&quot;; \n</code></pre>\n<p>And it can be executed using the following code</p>\n<pre><code>$stmt = $mysqli-&gt;prepare($sql);\n$stmt-&gt;bind_param(str_repeat(&quot;s&quot;, count($parameters)), ...$parameters);\n$stmt-&gt;execute();\n$data = $stmt-&gt;get_result()-&gt;fetch_all(MYSQLI_ASSOC);\n</code></pre>\n<p>where <code>$data</code> is a conventional array contains all the rows returned by the query.</p>\n<p>Note that I am using $_GET array because GET method is preferred (and even prescribed by HTTP standard) for search functionality.</p>\n", "tags": ["php", "mysqli", "prepared-statement"]}
{"id": "5a341210-3966-48f5-85de-fceb281d6c8a", "text": "Q: Binary serialization of floating point data containing NaNs - is normalization required? A: <p>There is no single standard quiet NaN. There are many possible quiet NaNs, and many possible signaling NaNs.</p>\n<p>Most hardware implements the quiet/signaling distinction such that any NaN where the most-significant bit of the significand is 1 is quiet, and any NaN where that bit is 0 is a signaling NaN. IEEE 754-2019 recommends this behavior, but it's only a &quot;should&quot; rather than a &quot;shall&quot; - it's not required.</p>\n<p>Some old hardware behaves differently, with 1 for signaling and 0 for quiet. If you need to ensure that quiet NaNs stay quiet and signaling NaNs stay signaling when crossing between that hardware and other hardware, a normalized NaN serialization will not be enough. Loading a serialized bit pattern that represents a quiet NaN on other hardware will produce a signaling NaN on this hardware.</p>\n<p>Your code on such platforms will need to adjust the representation both when serializing and deserializing NaNs (and be careful not to accidentally produce an infinity - just flipping the bit might produce an infinity).</p>\n", "tags": ["c++", "nan", "ieee-754"]}
{"id": "4a71f34d-9612-4971-a644-3c7bb83d3ed3", "text": "Q: Remove row with value x only if column contains both value x and y, by group A: <p>oh! Thanks for taking the time to explain. Really, I should have paid a bit more attention! Yeah, I noted the bit with the threaded comments, that is also confusing! Well, I guess it's a sign I'm getting old :)</p>\n", "tags": ["r", "dplyr"]}
{"id": "2afa8f60-686a-492a-92a0-64b3706e9532", "text": "Q: Apply patches from recipe when working with bitbake -c devshell &lt;recipe&gt; A: <p>I managed to manually apply the patches from inside the devshell:</p>\n<ul>\n<li><code>cd ../..</code> to get into <code>WORKDIR</code>, where the patches are located</li>\n<li>Then apply the patches, e.g. <code>git apply *patch</code></li>\n</ul>\n<p>Not very elegant, but it works. For anything more complicated I stick to<a href=\"https://stackoverflow.com/a/78860648/21826195\"> devtool</a> anyway.</p>\n", "tags": ["yocto", "bitbake"]}
