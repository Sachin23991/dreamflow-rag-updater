{"id": "728c06c1-0981-49ad-8b18-316fbde2bfb2", "text": "Q: Get the first element of an array A: <blockquote>\n<p><strong>Community addition</strong>: Since this answer was written, new functions have been added to PHP, suggested in respective answers: <a href=\"https://stackoverflow.com/questions/1921421/get-the-first-element-of-an-array#52319154\">array_key_first()</a> (PHP 7.3+) and, finally, <a href=\"https://stackoverflow.com/questions/1921421/get-the-first-element-of-an-array#79849624\">array_first()</a> (PHP 8.5+).</p>\n</blockquote>\n<p>Original answer, but costly (O(n)):</p>\n<pre><code>array_shift(array_values($array));\n</code></pre>\n<p>In O(1):</p>\n<pre><code>array_pop(array_reverse($array));\n</code></pre>\n<p><strong>Other use cases, etc...</strong></p>\n<p>If modifying (in the sense of resetting array pointers) of <code>$array</code> is not a problem, you might use:</p>\n<pre><code>reset($array);\n</code></pre>\n<p>This should be theoretically more efficient, if a array &quot;copy&quot; is needed:</p>\n<pre><code>array_shift(array_slice($array, 0, 1));\n</code></pre>\n<p>With PHP 5.4+ (but might cause an index error if empty):</p>\n<pre><code>array_values($array)[0];\n</code></pre>\n", "tags": ["php", "arrays"]}
{"id": "06270344-fa50-48d9-aded-d0061cfa6071", "text": "Q: Different PRF output when using platform or cross-platform authentication attachment A: <p>It is not expected; the PRF output should be consistent. I'll see if I can repo this.</p>\n", "tags": ["javascript", "ios", "passkey", "macos-sequoia"]}
{"id": "71c1c98e-4027-4e0c-93f2-52eed22ff3c6", "text": "Q: How to use filter, map, and reduce in Python 3 A: <p><code>functools.reduce</code> is also useful for <strong>drilling deep</strong> into nested-keys data structures:</p>\n<pre><code>from functools import reduce\nfrom operator import getitem\n\n# ...\n\nmegayaml = defaultdict(lambda: {})\n\nfor datum in someInput:\n    deepK = datum['Key'].split('/')\n    value = b64decode(datum['Value'])\n     \n    start = megayaml[f&quot;{some}-{complicated}-{toplevel}-{key}.irrelevant&quot;]\n\n    parents, leaf = deepK[:-1], deepK[-1]\n    bottom = reduce(getitem, parents, start)\n    bottom[leaf] = value\n</code></pre>\n<p>The <code>operator.getitem</code> that I imported is, of course, morally equivalent to <code>lambda drill, step: drill[step]</code>. In combination with <code>collections.defaultdict</code>, this snippet allows me to &quot;unflatten&quot; a tree, reconstructing it from a tabular dump.</p>\n<p>Yes Guido, it's easy to say <em>&quot;reduce can always be rewritten as a for-loop&quot;</em> \u2014 except when you're already several loops deep, and it really isn't (because the writer is running short of fresh variable names). Then <code>reduce(getitem, \u2026)</code> is <em>much</em> simpler.</p>\n<hr />\n<p>As for the laziness of map &amp; filter results, there's a trivial idiom:</p>\n<pre><code>data = filter(\u2026)\ndata = map(\u2026, data)\ndata = list(data) # force lazy list\n</code></pre>\n", "tags": ["python", "python-3.x", "filter", "functional-programming", "reduce"]}
{"id": "c8bacdd6-03fe-4a08-8451-c93239410b5a", "text": "Q: Jest cannot test an isolated module in a multi-module npm architecture A: <p>Jest can look in multiple <code>node_modules</code> folders\u2014you just have to tell it where.</p>\n<p><strong>Quick fix with <code>modulePaths</code>:</strong></p>\n<pre><code>// jest.config.js\nmodule.exports = {\n  modulePaths: [\n    '&lt;rootDir&gt;/node_modules',\n    '&lt;rootDir&gt;/../../node_modules',  // root-level deps\n  ],\n};\n</code></pre>\n<p><strong>Or map the packages directly:</strong></p>\n<pre><code>moduleNameMapper: {\n  '^@openimis/fe-core$': '&lt;rootDir&gt;/../fe-core/src',\n},\n</code></pre>\n<p><strong>Or just mock them</strong> if you don't need them to actually work in your tests:</p>\n<pre><code>moduleNameMapper: {\n  '^@openimis/fe-insuree$': '&lt;rootDir&gt;/__mocks__/fe-insuree.js',\n},\n</code></pre>\n<p>If this is a recurring pain, look into npm/yarn workspaces, they hoist deps to a shared root, so Jest finds everything without extra config.</p>\n", "tags": ["reactjs", "jestjs", "react-testing-library"]}
{"id": "12973061-fc04-46b3-9cac-e8200879b7be", "text": "Q: Add attachment to email with VBA A: <p>According to the <a href=\"https://kb.mozillazine.org/Command_line_arguments_-_Thunderbird\" rel=\"nofollow noreferrer\">documentation</a>, you can add an attachment with the <code>attachment=</code> keyword.</p>\n<p>The filename of the attachment is the result of the file dialog (<code>.SelectedItems(1)</code>), however, your code that creates the mail command is outside of the scope (the <code>With</code>-statement), so <code>.SelectedItems(1)</code> is no longer available. You could move the whole code into the <code>With</code>-Block. Or simply save the filename into a variable.</p>\n<p>Additionally, you need make up your mind what should happen when the user left the file dialog without specifying a filename - do you want to send the mail without attachment or do you want to leave the routine?</p>\n<p>Untested, as I don't have Thunderbird available:</p>\n<pre><code>Dim exportFilename As String\nWith filesave\n    .Title = &quot;Save as PDF&quot;\n    .InitialFileName = PDFfileName\n    formatIndex = 0\n    For i = 1 To .Filters.Count\n        If InStr(1, .Filters(i).Extensions, &quot;pdf&quot;, vbTextCompare) &gt; 0 Then formatIndex = i\n    Next\n    If formatIndex &gt; 0 Then .FilterIndex = formatIndex\n    If .Show Then\n        exportFilename = .SelectedItems(1)\n        rng.ExportAsFixedFormat _\n            Type:=xlTypePDF, _\n            Filename:=exportFilename, _\n            OpenAfterPublish:=False, _\n            IncludeDocProperties:=True, _\n            IgnorePrintAreas:=True, _\n            from:=f, _\n            to:=t, _\n            Quality:=xlQualityStandard\n    Else\n        '  Exit Sub   '&lt;-- Activate this statement if you don't want to send a mail without attachment.\n    End If\nEnd With\n\n(...)\n\nthund = &quot;C:\\Program Files\\Mozilla Thunderbird\\thunderbird.exe&quot; &amp; _\n        &quot; -compose &quot; &amp; &quot;&quot;&quot;&quot; &amp; _\n        &quot;to='&quot; &amp; email &amp; &quot;',&quot; &amp; _\n        &quot;subject='&quot; &amp; subj &amp; &quot;',&quot; &amp; _\n        &quot;body='&quot; &amp; body &amp; &quot;'&quot; &amp; _\n        IIf(exportFilename = &quot;&quot;, &quot;&quot;, &quot;,attachment='&quot; &amp; exportFilename &amp; &quot;'&quot;) &amp; _\n        &quot;&quot;&quot;&quot;\n</code></pre>\n", "tags": ["excel", "vba", "email", "pdf", "email-attachments"]}
{"id": "34260585-89b6-438d-81ef-509a7858215c", "text": "Q: Best sites to gather cheat-sheets/notes A: <pre><code>import os\n\nfrom dotenv import load_dotenv\nload_dotenv()\n\nENV = &quot;test&quot;\nLLM_API_APP_ID = os.environ[&quot;LLM_API_APP_ID&quot;]\nGAAS_API_APP_ID = os.environ[&quot;GAAS_API_APP_ID&quot;]\nCLIENT_ID = os.environ[&quot;CLIENT_ID&quot;]\nCLIENT_SECRET = os.environ[&quot;CLIENT_SECRET&quot;]\nAZURE_TENANT_ID = os.environ[&quot;AZURE_TENANT_ID&quot;]\nUSE_CASE_ID = os.environ[&quot;USE_CASE_ID&quot;]\nSOLMA_ID = os.environ[&quot;SOLMA_ID&quot;]\n\nQUERY_RESOURCE = &quot;generate&quot;\nFEEDBACK_RESOURCE = &quot;feedback&quot;\nUSE_CASE=&quot;LLMTestCaseGenerator&quot;\nAZURE_AUTHORITY = f&quot;https://login.microsoftonline.com/{AZURE_TENANT_ID}&quot;\nAPI_BASE_URL = &quot;&quot;\nMODEL_ID= &quot;&quot;\nSA_MODEL_ID = &quot;openai.gpt-4o&quot;\nANTHROPIC_VERSION = &quot;bedrock-2023-05-31&quot;\nPATH_TO_PROMPT=&quot;aws.bedrock.invoke.body.messages[*].content[*].text&quot;\n\n</code></pre>\n", "tags": ["python", "c++", "git", "machine-learning"]}
{"id": "c859580f-8bbf-496d-90d8-501c719d1d1e", "text": "Q: Camera rotation on X axis with React Three Fiber A: <p>I'm not familiar with react-three syntax. But I can try to help you with the direction of solving the problem. In order for the camera to look at the object from above, you need to set its height by 'position.y' above the object. And set the camera target (that is, where the camera looks) to the object. For this, the camera target vector must match the position of your object's vector.</p>\n", "tags": ["three.js", "camera", "react-three-fiber"]}
