{"id": "3ad5d03b-7e50-4db9-9f8f-b79d87f8100d", "text": "Q: how to calculate mean value of each column within range of quantile? A: <p>use <code>rank</code> with <code>pct</code></p>\n<pre><code>out = df[df.rank(pct=True).ge(0.2) &amp; df.rank(pct=True).le(0.8)].mean()\n</code></pre>\n<p>out:</p>\n<pre><code>A     12.444444\nB    110.000000\ndtype: float64\n</code></pre>\n", "tags": ["python", "pandas", "dataframe"]}
{"id": "d8d9f91f-a35a-4d92-8035-45882c8d1e54", "text": "Q: xCode install older iOS SDK A: <p>Go to Xcode-&gt;Preferences-&gt;Downloads-&gt;install Simulators to test all iOS versions.</p>\n<p>For setting your application minimum iOS version, go to Targets-&gt;Summary-&gt;Deployment Target-&gt;Set to 5.0</p>\n", "tags": ["ios", "xcode", "sdk"]}
{"id": "c541260d-9e88-4378-99c8-e011c7d9bcb6", "text": "Q: Firebase Storage IAM Permissions A: <p>In addition to above, please consider these:</p>\n<ol>\n<li><p>Enter the request param's bucket value in this format: &quot;<code>projects/Project_ID/buckets/Project_ID.appspot.com</code>&quot;</p>\n</li>\n<li><p>Do not enter anything for Request Body: leave it <code>{}</code> as is.</p>\n</li>\n<li><p>Hit <strong>Execute</strong>, and you will see the response below, and the error in the <strong>Firebase &gt; Storage</strong> section disappears immediately.</p>\n</li>\n</ol>\n<p><a href=\"https://i.sstatic.net/l4ZdvB9F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/l4ZdvB9F.png\" alt=\"Firebase storage error\" title=\"Firebase Storage Relink Issue\" /></a></p>\n", "tags": ["flutter", "firebase-storage", "firebase-console"]}
{"id": "297a8890-c7dc-4686-9450-5b686bfc33c2", "text": "Q: Customise an Image/Avatar by chainging options (e.g. Shape, Colour) A: <p>This is how I did it in the end.</p>\n\n<p><strong>1) Create a separate CSS classes for each asset.</strong> </p>\n\n<p>Concatenate classes for assets that are made up of multiple variables. \nCreate a <code>.input</code> parent class to display image assets for the selection form.\nCreate a <code>.preview</code> child class to display image assets on the finished avatar</p>\n\n<p>e.g. </p>\n\n<pre><code>.skin-brown .preview .preview-body {\nbackground-image(&lt;&lt;image-asset&gt;&gt;);\n}\n\n.input .input-skin-brown {\nbackground-image(&lt;&lt;image-asset&gt;&gt;);\n}\n\n.input .input-hair-style-1 {\nbackground-image(&lt;&lt;image-asset&gt;&gt;);\n}\n\n\n.hair-style-1.hair-colour-black .preview .preview-hair {\nbackground-image(&lt;&lt;image-asset&gt;&gt;);\n}\n</code></pre>\n\n<p><strong>2) Create HTML.</strong> Assign default asset options to the wrapper element. </p>\n\n<p>e.g. </p>\n\n<pre><code>&lt;div id=\"wrapper\" class=\"hair-style-1 hair-colour-black skin-brown\"&gt;\n\n&lt;div class=\"inputs\"&gt;\nPut your input FORM here. Use a HTML form element.\n&lt;/div&gt;\n\n\n&lt;div class=\"preview\"&gt;\nThe finished avatar goes here.\n&lt;div class=\"preview-hair\"&gt;&lt;/div&gt;\n&lt;div class=\"preview-eyes\"&gt;&lt;/div&gt;\n&lt;div class=\"preview-body\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>3) Use Jquery to manipulate the classes on the wrapper when the options in the input form have been clicked.</strong> </p>\n\n<p>e.g if user clicks on hair-style-2, the hair-style-1 class in the wrapper will be changed to hair-style-2</p>\n\n<p>I have a separate question about this:\n<a href=\"https://stackoverflow.com/questions/12641910/jquery-swap-classes-based-on-class-position\">jQuery: Swap Classes based on Class position</a></p>\n\n<p>That's essentially all there is to it. Once you have the css classes written and the Jquery code to switch the classes working, it is actually very straightforward. \nBecause you a storing all the inputs as a form, you can send the values to another process when the user clicks submit. </p>\n\n<p><strong>Tips:</strong></p>\n\n<p><strong>1) Use SASS/SCSS to write the css.</strong> \nYou can create an array and loop through it in sass which makes it easy to maintain the css. I have a question about this here:\n<a href=\"https://stackoverflow.com/questions/12645962/sass-using-two-each-lists-in-scss\">Sass: Using two @each lists in SCSS</a>\n<a href=\"https://stackoverflow.com/questions/12825039/css-sass-using-each-based-mixins-to-generate-multiple-backgrounds\">CSS - SASS: Using @each based mixins to generate multiple backgrounds</a></p>\n\n<p><strong>2) Avoid using a CSS sprite.</strong> \nAlthough sprites help greatly with load times, I think you will go crazy trying to maintain it (depending on the assets that are involved). There are tools to maintain it for you, but because this is an edge case, I don't think the tools work that well. </p>\n\n<p><strong>3) Load Speeds are an issue</strong>\nWhen the user clicks on an avatar element, there is a short delay while the CSS loads. This is a problem, as the user thinks their click hasn't registered.\nTo get around this, create a hidden div, which uses <code>display:none</code>. Then use the CSS3 multiple background property to attach every asset to this DIV (as a background). \nThis way, all your assets will load at the start, so there won't be a delay when the user clicks. Again, use SASS loops and arrays for this, as the array will automatically add all your assets to the hidden DIV. </p>\n\n<p><strong>4) Think very carefully about class and asset names.</strong> \nI originally went for friendly names (e.g. haircolourblack, hairstylebob) as I thought it would be easier to make sense of the code. However, in hindsight, I wish I had gone for numbered names (haircolour1, hairstyle1) as things can get tricky if your assets change (Plus using numbers make it easy to maintain code against multiple avatars). Again, use SASS arrays to cut down on the maintenance of this. </p>\n\n<p><strong>5) Use Class prefixes</strong> \n(e.g. <code>.preview .preview-eye</code> instead of <code>.preview .eye</code> or <code>.preview .preview-hair-style</code> instead of <code>.preview .hair</code>  ). The reason for this is that a lot of the names are very generic and will probably be used in multiple places on the page (e.g. for both .preview and .input sections). If you use prefixes, it is easier to target specific classes. Plus you can use <code>[class*=\"preview-\"]</code> or <code>[class*=\"input-\"]</code>  to target all members of a prefix, without having to litter your code with lots of shared classes (e.g. <code>[class*=\"-hair-\"]</code> will get all hair elements without needing a separate hair class applied to each hair element. </p>\n\n<p><strong>6) Consider SVG</strong>\nIf you use SVG for your image assets, you can keep the files small and they will scale up to any size. Be sure to note SVG browser compatibility (<a href=\"http://caniuse.com/svg\" rel=\"nofollow noreferrer\">http://caniuse.com/svg</a>)</p>\n\n<p><strong>7) Consider CSS background size</strong>\nYou can also use <code>background-size: contain</code> to scale image assets, which can make it easy to reuse the same image for both .preview and .input instances. However, it also has compatibility issues. </p>\n\n<p>It does seem like a daunting project, mainly because there aren't any resources on how to build it. But if you break it down, it's actually quite easy. It's mainly the code maintenance that is an issue, so be sure to plan!</p>\n", "tags": ["javascript", "jquery", "avatar"]}
{"id": "291cc3bd-caad-4437-9803-3410e8382a1b", "text": "Q: Sobel filter kernel of large size A: <h1>Sobel Kernel of any size using Gaussian (and derivative of gaussian)</h1>\n<p><a href=\"https://www.desmos.com/3d/frcffy13pl\" rel=\"nofollow noreferrer\">https://www.desmos.com/3d/frcffy13pl</a></p>\n<p>A bit old topic... Anyway:</p>\n<p>I invented this method, namely the use of Gaussians.</p>\n<p>In my example, the kernel ranges from -1 to 1, but it can be interpolated with any (large) Radius. (Better for Radii\u200b\u200b&gt;=4)</p>\n<p>For example, if I want a Radius of 5,</p>\n<p>The value of X for the pixel position</p>\n<p>1 will be scaled and will correspond to the value 1/5 (which ranges from -1 to 1) of the formula given below.</p>\n<p>2 will be 2/5</p>\n<p>3 will be 3/5</p>\n<p>4 will be 4/5</p>\n<p>5 will be 5/5</p>\n<p>The main formula is the first one in this graph.</p>\n<p><a href=\"https://www.desmos.com/3d/frcffy13pl\" rel=\"nofollow noreferrer\">https://www.desmos.com/3d/frcffy13pl</a></p>\n<p>The beauty is that it is also separable as follows:</p>\n<pre><code>kX = 2 * A * EXP( -(A*X)^2 ) * X\n\nkY = EXP ( -(A*Y)^2 )\n</code></pre>\n<p>The kX is basically the derivative of Gaussian kY</p>\n<p>A = in simple terms represents how narrow or wide the curve shapes are.<br />\n(to me about 2.5 - 2.7 is a good value)</p>\n<p>So you can create two 1-dimensional (1D) kernels.</p>\n<p>And perform the convolution with separability:</p>\n<p>Convolve using the first kernel (KX) in the X direction</p>\n<p>and</p>\n<p>then convolve using the second kernel (KY) in the Y direction using the results of the first convolution as input.</p>\n<p>At this point, we obtain the Delta X of the image.</p>\n<p>To obtain the Delta Y:</p>\n<p>Convolve using the first kernel (KX) in the Y direction (this time)</p>\n<p>and</p>\n<p>then convolve using the second kernel (KY) in the X direction (this time), using the results of the first convolution as input.</p>\n<p>An important thing to add:</p>\n<p>The 1D kernels must be normalized (i.e., the sum of all values \u200b\u200bmust be 1).</p>\n<p>For the KY kernel, (that is nothing but a gaussian) simply add all the values.</p>\n<p>Then, once the sum is obtained, divide all the values \u200b\u200bby this sum. (Now the sum of all values \u200b\u200bequals 1.)</p>\n<p>For the KX kernel in the X direction (whose values \u200b\u200bon the left side of x (x&lt;0) are negative), I will only use the positive values \u200b\u200bon the right for normalization.</p>\n<p>So, I will perform the same procedure, but I will calculate the sum using only the positive values \u200b\u200b(on the right). [If I used all the values, the sum would be 0.]</p>\n<p>I hope this is useful to someone</p>\n<p>A=2.6 B=0.9</p>\n<p>R = 1 : 3x3</p>\n<pre><code>  -42    0   42\n-9917    0 9917\n  -42    0   42\n</code></pre>\n<p>R = 2 : 5x5</p>\n<pre><code>    0  -27    0   27    0\n  -21-1656    0 1656   21\n  -82-6510    0 6510   82\n  -21-1656    0 1656   21\n    0  -27    0   27    0\n</code></pre>\n<p>R = 3 : 7x7</p>\n<pre><code>    0   -3  -15    0   15    3    0\n   -2  -67 -317    0  317   67    2\n  -14 -413-1967    0 1967  413   14\n  -27 -759-3615    0 3615  759   27\n  -14 -413-1967    0 1967  413   14\n   -2  -67 -317    0  317   67    2\n    0   -3  -15    0   15    3    0\n</code></pre>\n<p>R = 4: 9x9</p>\n<pre><code>    0   -1   -5   -8    0    8    5    1    0\n   -1   -9  -51  -91    0   91   51    9    1\n   -4  -51 -283 -502    0  502  283   51    4\n  -10 -143 -789-1402    0 1402  789  143   10\n  -14 -202-1111-1974    0 1974 1111  202   14\n  -10 -143 -789-1402    0 1402  789  143   10\n   -4  -51 -283 -502    0  502  283   51    4\n   -1   -9  -51  -91    0   91   51    9    1\n    0   -1   -5   -8    0    8    5    1    0\n</code></pre>\n<p>R = 8: 17x17</p>\n<pre><code>    0    0    0   -1   -1   -2   -2   -1    0    1    2    2    1    1    0    0    0\n    0    0   -1   -2   -4   -6   -7   -5    0    5    7    6    4    2    1    0    0\n    0   -1   -2   -6  -12  -19  -21  -15    0   15   21   19   12    6    2    1    0\n    0   -2   -6  -15  -31  -49  -55  -38    0   38   55   49   31   15    6    2    0\n   -1   -4  -12  -32  -67 -105 -118  -81    0   81  118  105   67   32   12    4    1\n   -2   -7  -22  -59 -121 -191 -216 -148    0  148  216  191  121   59   22    7    2\n   -2  -10  -34  -90 -186 -293 -331 -227    0  227  331  293  186   90   34   10    2\n   -3  -13  -44 -116 -241 -378 -427 -293    0  293  427  378  241  116   44   13    3\n   -3  -14  -48 -127 -262 -412 -466 -320    0  320  466  412  262  127   48   14    3\n   -3  -13  -44 -116 -241 -378 -427 -293    0  293  427  378  241  116   44   13    3\n   -2  -10  -34  -90 -186 -293 -331 -227    0  227  331  293  186   90   34   10    2\n   -2   -7  -22  -59 -121 -191 -216 -148    0  148  216  191  121   59   22    7    2\n   -1   -4  -12  -32  -67 -105 -118  -81    0   81  118  105   67   32   12    4    1\n    0   -2   -6  -15  -31  -49  -55  -38    0   38   55   49   31   15    6    2    0\n    0   -1   -2   -6  -12  -19  -21  -15    0   15   21   19   12    6    2    1    0\n    0    0   -1   -2   -4   -6   -7   -5    0    5    7    6    4    2    1    0    0\n    0    0    0   -1   -1   -2   -2   -1    0    1    2    2    1    1    0    0    0\n</code></pre>\n", "tags": ["image-processing", "computer-vision", "edge-detection", "sobel"]}
{"id": "c0076d24-5f69-47ba-b567-85cf6c5fe5ec", "text": "Q: Are join and return the inverse of each other? A: <blockquote>\n  <p><code>&gt;&gt;=</code> requires its second argument to have type <code>a-&gt;ma</code>, and if <code>id</code> has type <code>a-&gt; a</code>, how can <code>id</code> be used as the second argument of <code>&gt;&gt;=</code>?</p>\n</blockquote>\n\n<p>No, <code>&gt;&gt;=</code> requires its second argument to have type <code>a -&gt; m b</code>, with <code>b</code> not necessarily equal to <code>a</code>. In the case you mention, we chose <code>a = m b</code> so that</p>\n\n<pre><code>(&gt;&gt;=) :: m (m b) -&gt; (m b -&gt; m b) -&gt; m b\n</code></pre>\n\n<p><code>id</code> can then be passed as the second parameter of type <code>m b -&gt; m b</code>.</p>\n\n<blockquote>\n  <p><code>return</code> has type <code>a -&gt; ma</code>. Are <code>join</code> and <code>return</code> the inverse of each other?</p>\n</blockquote>\n\n<p>Not really, since we do not have <code>join :: m a -&gt; a</code>.</p>\n\n<p>It is true, though, that if we consider the special case <code>a = m b</code>, then</p>\n\n<pre><code>return :: m b -&gt; m (m b)\njoin   :: m (m b) -&gt; m b\n</code></pre>\n\n<p>and we do have <code>join . return = id</code>.</p>\n\n<p>Even in that special case, we still do not have <code>return . join = id</code>, e.g. in the list monad:</p>\n\n<pre><code>return (join [[1],[2]]) = return [1,2] = [[1,2]]\n</code></pre>\n", "tags": ["haskell", "monads"]}
{"id": "eccf1b1c-7111-442e-903f-2c380d33fe7e", "text": "Q: What does this law of applicative mean? A: <p>Stating the law again for ease of reference (which I have corrected by putting the parenthese in, `(&lt;*>) is left associative so the ones on the LHS of the equality are necessary):</p>\n\n<pre><code>x &lt;*&gt; (y &lt;*&gt; z) = ( pure (.) &lt;*&gt; x &lt;*&gt; y) &lt;*&gt; z\n</code></pre>\n\n<p>let's start with your first question:</p>\n\n<pre><code>On the right hand side of the law,\n\ndoes pure (.) have type f((b   -&gt;  c)  -&gt;  (a  -&gt;  b)  -&gt;  (a  -&gt;  c))?\n</code></pre>\n\n<p>Yes it does. <code>(.)</code> has type <code>(b -&gt; c) -&gt; (a -&gt; b) -&gt; (a -&gt; c)</code>, so <code>pure (.)</code> must have type \"<code>f</code> of that\".</p>\n\n<p>We can use this to determine the types of the other identifiers here. In the expression <code>m &lt;*&gt; n</code>, <code>m</code> and <code>n</code> have the general types <code>f (a -&gt; b)</code> and <code>f a</code>. So if we take <code>m</code> as <code>(.)</code>, which has the type shown above, we see that <code>n</code> - which corresponds to <code>x</code> on the RHS of the equality - must have type <code>f (b -&gt; c)</code>. And then <code>pure (.) &lt;*&gt; x</code> will have type <code>f ((a -&gt; b) -&gt; (a -&gt; c))</code>, which by the same reasoning means <code>y</code> will have type <code>f (a -&gt; b)</code>. This produces a type of <code>f (a -&gt; c)</code> for <code>( pure (.) &lt;*&gt; x &lt;*&gt; y)</code> and of <code>f a</code> for <code>z</code> - and thus an overall result type, for the whole RHS (and therefore also the whole LHS) of <code>f c</code>.</p>\n\n<p>So to summarise, just from analysing the RHS, we see that:</p>\n\n<ul>\n<li><code>x :: f (b -&gt; c)</code></li>\n<li><code>y :: f (a -&gt; b)</code></li>\n<li><code>z :: f a</code></li>\n</ul>\n\n<p>It's now easy to check that these work out on the LHS too - <code>y &lt;*&gt; z</code> will have type <code>f b</code>, so <code>x &lt;*&gt; (y &lt;*&gt; z)</code> will have type <code>f c</code>.</p>\n\n<p>I note that there's nothing clever involved in the above, it's just simple type algebra, which can be carried out without any advanced understanding.</p>\n", "tags": ["haskell", "applicative"]}
{"id": "a98c5677-be59-4ff3-a6d2-35321baf7d59", "text": "Q: Calendar functionality A: <h2>tl;dr</h2>\n<p>Use <em>java.time</em> classes in Java 8+ rather than the terribly-flawed legacy date-time classes.</p>\n<pre><code>LocalDate               // Represents a date, year-month-day.\n.parse( &quot;2016-01-01&quot; )  // Returns a `LocalDate` using sane 1-12 month numbers.\n.toString()             // Generate text with 1-12 month numbers.\n</code></pre>\n<h2><em>java.time</em></h2>\n<p>The <a href=\"https://stackoverflow.com/a/40261310/642706\">Answer by Jordi Castilla</a> is correct and smart.</p>\n<p>Let me add an alternative, using the modern <em>java.time</em> classes built into Java 8+ that supplants the legacy date-time classes.</p>\n<p>For date-only value, use <code>LocalDate</code> class.</p>\n<p>Your input string <code>&quot;2016-01-01&quot;</code> happens to comply with the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a>. The <em>java.time</em> classes use that standard by format when parsing/generating text. So no need to specify a formatting pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate date = LocalDate.parse( &quot;2016-01-01&quot; ) ;\n</code></pre>\n<h3>Sane numbering</h3>\n<p>In contrast to the legacy classes, the <em>java.time</em> classes use sane numbering. So months are 1-12 for January-December.</p>\n<p>So text generated by default in ISO 8601 format will be the same as your input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String output = date.toString() ;  // 2016-01-01 for January 1st.\n</code></pre>\n", "tags": ["java"]}
