{"id": "46350fb5-adad-4cca-966f-cb132bddfccf", "text": "Q: Regular expression not catching case labels in file A: <p>The <code>matches</code> method returns true only if the <em>whole</em> string matches the regular expression.</p>\n<p>If you want to print all the lines where a match is found, you can use <code>findFirstIn</code> as in the following example:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.util.matching.Regex\n\nval input = &quot;&quot;&quot;\nswitch (foo) {\n  case SRC_UNKNOWN:      return new PortInfo(nGetPortName(getID(), portIndex), true);\n  case SRC_MICROPHONE:   return Port.Info.MICROPHONE;\n  case SRC_LINE_IN:      return Port.Info.LINE_IN;\n  case SRC_COMPACT_DISC: return Port.Info.COMPACT_DISC;\n  default:               return null;\n}\n&quot;&quot;&quot;\n\nval casePattern: Regex = &quot;&quot;&quot;case [^:]+&quot;&quot;&quot;.r\n\nfor line &lt;- input.split(&quot;\\n&quot;) do {\n  if casePattern.findFirstIn(line).isDefined then println(line)\n}\n</code></pre>\n<p>This code prints</p>\n<pre><code>  case SRC_UNKNOWN:      return new PortInfo(nGetPortName(getID(), portIndex), true);\n  case SRC_MICROPHONE:   return Port.Info.MICROPHONE;\n  case SRC_LINE_IN:      return Port.Info.LINE_IN;\n  case SRC_COMPACT_DISC: return Port.Info.COMPACT_DISC;\n</code></pre>\n<p>You can find the documentation of <code>findFirstIn</code> <a href=\"https://www.scala-lang.org/api/current/scala/util/matching/Regex.html#findFirstIn-fffffe48\" rel=\"nofollow noreferrer\">here on the official Scala documentation</a> and play around with this code <a href=\"https://scastie.scala-lang.org/eI49Ops3RcujgMOzpmpMIg\" rel=\"nofollow noreferrer\">here on Scastie</a>.</p>\n", "tags": ["scala"]}
{"id": "993248c8-3354-4110-9c7f-e6327595aab2", "text": "Q: Filter grouped data by condition defined by changes in column values using R A: <p>the approach is similar to @one using <code>data.table</code></p>\n<pre><code>library(data.table)\nid &lt;- c(1,1,1,2,2,3,3,4,4,4,4,4,4)\nx &lt;- c(2,2,0,0,0,1,2,1,1,1,0,2,1)\ndf &lt;- data.frame(id, x)\nsetDT(df)[, .SD[rleid(x) == 1], by = id]\n\n      id     x\n   &lt;num&gt; &lt;num&gt;\n1:     1     2\n2:     1     2\n3:     2     0\n4:     2     0\n5:     3     1\n6:     4     1\n7:     4     1\n8:     4     1\n</code></pre>\n", "tags": ["r", "dataframe", "dplyr", "filter", "data.table"]}
{"id": "857a2db6-a465-445a-a5cc-6152305315d1", "text": "Q: Why does floating-point std::to_chars not have a default argument? A: <p>The example of different outputs:</p>\n<pre><code>#include &lt;charconv&gt;\n#include &lt;iostream&gt;\n#include &lt;string_view&gt;\n\nint main() {\n  char buf[10]{};\n  auto rv = std::to_chars(buf, buf + 10, 100000.0);\n  if (rv.ec == std::errc{})\n    std::cout &lt;&lt; std::string_view(buf, rv.ptr - buf) &lt;&lt; &quot;\\n&quot;;\n  rv = std::to_chars(buf, buf + 10, 100000.0, std::chars_format::general);\n  if (rv.ec == std::errc{})\n    std::cout &lt;&lt; std::string_view(buf, rv.ptr - buf) &lt;&lt; &quot;\\n&quot;;\n}\n// Output:\n// 1e+05\n// 100000\n</code></pre>\n<p><code>g</code> makes a choice of <code>f</code> or <code>e</code> by <code>g</code> based on precision.\nThe 3-args <code>to_chars</code> makes a choice of <code>f</code> or <code>e</code> by a minimal result length.</p>\n<hr />\n<p>Note, <code>1e+05</code> is not minimal as <code>1e5</code>. There is the paper <a href=\"https://isocpp.org/files/papers/P3505R3.html\" rel=\"nofollow noreferrer\">P3505R3</a> for fixing the counterintuitive default <code>to_chars</code> behavior, not really minimal (depending on a locale) and not like <code>g</code>.</p>\n", "tags": ["c++", "c++17", "language-lawyer", "stringify"]}
{"id": "d448dec9-fbdd-43da-aa5f-a8cbaedcd923", "text": "Q: Can AbortController be used with Fetch Post requests without automatically triggering a close event? A: <p><code>AbortController.abort()</code> <strong>terminates the client\u2019s HTTP stream</strong>. When that happens, Node/Express sees the socket close. That is expected behavior for <strong>all</strong> HTTP methods, including POST.</p>\n<p>However:</p>\n<pre><code>req.on('close', ...)\n</code></pre>\n<p>is <strong>not</strong> a reliable signal for \u201cclient aborted\u201d.</p>\n<p><code>close</code> fires when:</p>\n<ul>\n<li><p>the connection is closed <strong>or</strong></p>\n</li>\n<li><p>the request has fully completed</p>\n</li>\n<li><p>middleware (like <code>body-parser</code>) finishes consuming the body</p>\n</li>\n</ul>\n<p>So with <code>bodyParser.json()</code>, <code>close</code> can fire even when the client did <strong>not</strong> abort.</p>\n<hr />\n<h3>The correct event to listen for</h3>\n<p>Use <strong><code>aborted</code></strong>, not <code>close</code>:</p>\n<pre><code>req.on('aborted', () =&gt; {\n  console.log('client aborted request');\n});\n</code></pre>\n<p><code>aborted</code> only fires when the client terminates the request before completion.</p>\n<hr />\n<h3>Corrected Express example</h3>\n<pre><code>router.post('/test', jsonParser, async (req, res) =&gt; {\n  let aborted = false;\n\n  req.on('aborted', () =&gt; {\n    aborted = true;\n    console.log('client aborted');\n  });\n\n  await delay();\n\n  if (aborted) {\n    return;\n  }\n\n  res.send();\n});\n</code></pre>\n", "tags": ["javascript", "node.js", "express", "fetch-api", "abortcontroller"]}
{"id": "a72c834b-7c24-4113-822d-7bd63e268893", "text": "Q: Why does the child theme CSS not override the parent theme header styles? A: <p>The child theme CSS loads correctly, but the parent theme\u2019s header styles are more specific (or use !important). Increase selector specificity or override with !important.</p>\n<p>The parent theme uses more specific selectors, so header {} in the child theme loses.\n\u2192 Increase specificity in the child theme:</p>\n<p><code>.site-header, header.site-header { background-color: blue; }</code></p>\n", "tags": ["css", "wordpress", "wordpress-theming", "child-theming"]}
{"id": "3ab46f79-6c0d-4239-8424-85f6156d4d72", "text": "Q: Files uploaded to Autodesk Construction Cloud (ACC) via Autodesk Platform Services (APS) not processed to viewer A: <p>Seems like a file translation issue. The only way to check for the issue is to provide the file urn if possible via private dm. Alternative is to log the issue via <a href=\"https://adn.autodesk.io/\" rel=\"nofollow noreferrer\">https://adn.autodesk.io/</a></p>\n", "tags": ["autodesk-forge", "autodesk-viewer", "autodesk", "autodesk-bim360", "autodesk-construction-cloud"]}
