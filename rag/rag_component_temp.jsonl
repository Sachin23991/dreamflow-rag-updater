{"id": "10430f78-f195-4b26-b617-84fa406b5d43", "text": "Q: How do I run npx bddgen? A: <p>That error usually shows up because <strong><code>bddgen</code> imports your step files in a context where Cucumber isn\u2019t actually running</strong>. When your step definitions are imported, they immediately execute lines like <code>Given(...)</code>, <code>When(...)</code>, etc. That works when you run <code>cucumber-js</code> because Cucumber is bootstrapped properly. But during <code>bddgen</code>, Cucumber isn\u2019t \u201cactive,\u201d so Cucumber throws:</p>\n<blockquote>\n<p>\u201cYou\u2019re calling Given on an instance of Cucumber that isn't running (status: PENDING).\u201d</p>\n</blockquote>\n<p>So it\u2019s not that your steps are wrong. It\u2019s that <strong>they\u2019re being loaded by a different tool at the wrong time</strong>.</p>\n<h3>The most reliable fix</h3>\n<p>If you\u2019re using <code>playwright-bdd</code>, the cleanest approach is to define steps using <strong>Playwright-BDD\u2019s step API</strong>, not <code>Given/When/Then</code> directly from <code>@cucumber/cucumber</code>.</p>\n<p>Example:</p>\n<pre><code>import { createBdd } from 'playwright-bdd';\nconst { Given, When, Then } = createBdd();\n\nGiven('...', async ({ page }) =&gt; {\n  // ...\n});\n</code></pre>\n<p>That way, <code>bddgen</code> can safely load and register steps the way it expects.</p>\n<h3>If you want to keep your current step style</h3>\n<p>Then the other common fix is <strong>version alignment</strong>. Some versions of <code>@cucumber/cucumber</code> (especially newer ones) can trigger this \u201cpending\u201d guard when tools import step files outside of a running session. In practice, people often fix it by using a Cucumber version that matches what <code>playwright-bdd</code> supports best.</p>\n<h3>A couple quick sanity checks</h3>\n<p>These help rule out \u201ctwo cucumbers\u201d and install weirdness:</p>\n<pre><code>rm -rf node_modules package-lock.json\nnpm install\n</code></pre>\n<p>Also, you\u2019re on <strong>Node 24</strong>. Even if it isn\u2019t the root cause, many testing toolchains behave more predictably on <strong>Node 20/22 LTS</strong>.</p>\n<hr />\n<p>If you paste the top of your step file (the imports + the first <code>Given(...)</code> call), I can tell you exactly what to change with the smallest diff.</p>\n", "tags": ["typescript", "cucumber", "playwright"]}
{"id": "68477447-9130-444f-94b1-2f0ec2640d43", "text": "Q: Rust: unpack tuple in place (like *args in Python) A: <p>Better yet, directly <code>impl From&lt;Image&gt; for Dimensions`, and</code></p>\n", "tags": ["rust", "syntax"]}
{"id": "c987661e-a02a-4cbb-9db6-cdecd2608d87", "text": "Q: Can&#39;t resolve merge conflict with git submodule folder A: <p>This answer gives you a MWE to play with, and show how to resolve that MWE, with a note on what to do if the submodule is not initialized.</p>\n<h1>MWE Setup</h1>\n<p>Create a top-level repository:</p>\n<pre><code>mkdir top_level_repo\ncd top_level_repo\ngit init\n\necho &quot;# Top level&quot; &gt; README.md\ngit add README.md\ngit commit -m &quot;First commit&quot;\n</code></pre>\n<p>Create a library:</p>\n<pre><code>mkdir ../library\ncd $_\ngit init\necho &quot;# Library&quot; &gt; README.md\ngit add README.md\ngit commit -m &quot;First commit (library)&quot;\n</code></pre>\n<p>Add the library as a submodule of the top level repo:</p>\n<pre><code>cd ../top_level_repo\n#git config --global protocol.file.allow always  # optional, see https://stackoverflow.com/a/76108559/5267751\ngit submodule add ../library library\ngit commit -m &quot;Add library submodule&quot;\n</code></pre>\n<p>Make a first branch that modifies the sublibrary:</p>\n<pre><code>git checkout -b first-branch\ncd library\necho hello &gt; hello.md\ngit add hello.md\ngit commit -m &quot;first-branch: Add hello.md&quot;  # this modifies `main` branch of `library`, but doesn't matter\ncd ..\ngit commit -am &quot;Update library submodule to add hello.md&quot;\n</code></pre>\n<p>Make a second branch that modifies the sublibrary:</p>\n<pre><code>git checkout main\ngit submodule update --init --recursive\ncd library\necho world &gt; world.md\ngit add world.md\ngit commit -m &quot;second-branch: Add world.md&quot;  # this modifies `detached HEAD`\ncd ..\ngit commit -am &quot;Update library submodule to add world.md&quot;\n</code></pre>\n<p>Now merge them:</p>\n<pre><code>git merge first-branch\n</code></pre>\n<p>And you see, as expected:</p>\n<pre><code>Failed to merge submodule library\nCONFLICT (submodule): Merge conflict in library\nAutomatic merge failed; fix conflicts and then commit the result.\n</code></pre>\n<h1>MWE Inspection</h1>\n<p>Inspecting the repository status:</p>\n<pre><code>[top_level_repo]$ git status\nOn branch main\nYou have unmerged paths.\n  (fix conflicts and run &quot;git commit&quot;)\n  (use &quot;git merge --abort&quot; to abort the merge)\n\nUnmerged paths:\n  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)\n        both modified:   library\n\nno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)\n\n[top_level_repo]$ git diff library\ndiff --cc library\nindex 7014e11,347ce1b..0000000\n--- a/library\n+++ b/library\n</code></pre>\n<p>This informs you one of the two branches is <code>7014e11</code>, and the other is <code>347ce1b</code>.</p>\n<h1>MWE Resolution</h1>\n<p>Create a new commit that merges these two:</p>\n<pre><code>cd library\ngit checkout 7014e11\ngit merge 347ce1b\ncd ..\ngit add library\n</code></pre>\n<p>Inspect:</p>\n<pre><code>[top_level_repo]$ git status\nOn branch main\nAll conflicts fixed but you are still merging.\n  (use &quot;git commit&quot; to conclude merge)\n\nChanges to be committed:\n        modified:   library\n\n[top_level_repo]$ git diff --cached library\ndiff --git a/library b/library\nindex 7014e11..8972d7c 160000\n--- a/library\n+++ b/library\n@@ -1 +1 @@\n-Subproject commit 7014e1116cd7f91e1712bcb04a1b397067e8f366\n+Subproject commit 8972d7c8e5a8fa5bbe5f0c3f845792d0ceee4011\n</code></pre>\n<p>And finally, commit:</p>\n<pre><code>[top_level_repo]$ git commit\n[main a38de75] Merge branch 'first-branch'\n</code></pre>\n<h1>Caveat: what if the submodule is not initialized?</h1>\n<p>Suppose you're at this state:</p>\n<pre><code>[top_level_repo]$ git log\ncommit cb986b08eba6ad1ae64cb1abd41ab0691cc752fd (HEAD -&gt; main)\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    Update library submodule to add world.md\n\ncommit 0f2734a255aecfff43cb618dc737394995beb7e3\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    Add library submodule\n\ncommit bd574f40e75ac0b76dc68d8dc74b9bc62e9c2042\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    First commit\n\n[top_level_repo]$ git log first-branch\ncommit fd650542e9edc506d334bdb68b583e5cd5304fbe (first-branch)\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    Update library submodule to add hello.md\n\ncommit 0f2734a255aecfff43cb618dc737394995beb7e3\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    Add library submodule\n\ncommit bd574f40e75ac0b76dc68d8dc74b9bc62e9c2042\nAuthor: you &lt;you@example.com&gt;\nDate:   Mon Dec 22 12:34:56 2025 +0000\n\n    First commit\n</code></pre>\n<p>Now you <code>git clone</code> a fresh repository, but didn't check out the submodule yet:</p>\n<pre><code>cd ..\ngit clone ./top_level_repo top_level_repo_clone\ncd top_level_repo_clone\n</code></pre>\n<p>Since you didn't pass <code>--recurse-submodules</code>, <code>library</code> is empty:</p>\n<pre><code>[top_level_repo_clone]$ ls -a library\n.  ..\n</code></pre>\n<p>You try to perform the merge:</p>\n<pre><code>[top_level_repo_clone]$ git checkout main\nAlready on 'main'\nYour branch is up to date with 'origin/main'.\n\n[top_level_repo_clone]$ git merge origin/first-branch\nFailed to merge submodule library (not checked out)\nCONFLICT (submodule): Merge conflict in library\nAutomatic merge failed; fix conflicts and then commit the result.\n\n[top_level_repo_clone]$ git diff library\ndiff --cc library\nindex 7014e11,347ce1b..0000000\n--- a/library\n+++ b/library\n@@@ -1,1 -1,1 +1,1 @@@\n- Subproject commit 7014e1116cd7f91e1712bcb04a1b397067e8f366\n -Subproject commit 347ce1be39589f549e2948eb95c659bb60f8ce8b\n++Subproject commit 0000000000000000000000000000000000000000\n</code></pre>\n<p>But you can't just go into <code>./library</code> and checkout a commit:</p>\n<pre><code>[top_level_repo_clone]$ git submodule update --init --recursive\nSubmodule 'library' (/tmp/./library) registered for path 'library'\nSkipping unmerged submodule library\n\n[top_level_repo_clone]$ cd library\n\n[library]$ git checkout 347ce1be39589f549e2948eb95c659bb60f8ce8b\nfatal: reference is not a tree: 347ce1be39589f549e2948eb95c659bb60f8ce8b\n\n[library]$ git checkout @\nlibrary: needs merge\nerror: you need to resolve your current index first\n</code></pre>\n<p>You can still <a href=\"https://stackoverflow.com/a/54238999/5267751\">use <code>git ls-tree</code></a> to see which commit <code>library</code> points to at each of the parent branches:</p>\n<pre><code>[top_level_repo_clone]$ git ls-tree main .\n100644 blob 6c8710f0cfa0ed4ee18fb0e7c97e2da79cb8552c    .gitmodules\n100644 blob 5ce2e23ee68fa8165471658d93d40a09c66e4244    README.md\n160000 commit 7014e1116cd7f91e1712bcb04a1b397067e8f366  library\n\n[top_level_repo_clone]$ git ls-tree origin/first-branch .\n100644 blob 6c8710f0cfa0ed4ee18fb0e7c97e2da79cb8552c    .gitmodules\n100644 blob 5ce2e23ee68fa8165471658d93d40a09c66e4244    README.md\n160000 commit 347ce1be39589f549e2948eb95c659bb60f8ce8b  library\n</code></pre>\n<p>Possible things to do next:</p>\n<ul>\n<li><p>One way out of this is to use <code>git update-index</code>:</p>\n<pre><code>[library]$ cd ..\n[top_level_repo_clone]$ git update-index --cacheinfo 160000 347ce1be39589f549e2948eb95c659bb60f8ce8b library  # note that ./library or library/ will fail\n</code></pre>\n</li>\n<li><p>Of course there's also the way of just abort the merge/rebase/cherry-pick/whatever, then <code>git submodule update --init --recursive</code>, then try again.</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/78029142/5267751\">This answer</a> suggests doing a <code>git clone &lt;submodule repository URL&gt; &lt;directory&gt;</code>, but I haven't tested that.</p>\n</li>\n</ul>\n", "tags": ["git", "git-merge", "git-submodules", "git-merge-conflict"]}
{"id": "318add51-8008-4aa6-b76f-6fed43142487", "text": "Q: cropper.js has a fixed container ratio? A: <p>This happens because <strong>Cropper.Js</strong> calculates container dimensions from the parent element's computed size and the canvas scales to fit within that space, creating extra space when image and container aspect ratio differ.</p>\n<p><a href=\"https://github.com/HuyVan3/cropperjs?tab=readme-ov-file#notes\" rel=\"nofollow noreferrer\">Documentation</a> directly says:</p>\n<blockquote>\n<p>The size of the cropper inherits from the size of the image's parent element (wrapper), so be sure to wrap the image with a visible block element</p>\n</blockquote>\n<p>When you set the canvas dimentions dynamically to match uploaded image dimensions, the croppers container does not use those canvas dimensions directly. Instead it reads the <strong>computed CSS dimensions</strong> of the parent wrapper at the initialization time.</p>\n<p>First <strong>Container</strong> <code>.cropper-container</code> inherits from parent wrapper's computed dimensions.</p>\n<p>Then <strong>Canvas</strong> <code>cropper-canvas</code> scales to fit within container based on <code>viewMode</code></p>\n<p>FInally <strong>Crop Box</strong> <code>.cropper-crop-box</code> contained by <code>aspectRatio</code> option.</p>\n<p>So the <strong>200 x 200</strong> result likely occurs because either the parent element has equal <strong>width/height</strong> computed values, or the scaling calculation creates a square bounding box. The <a href=\"https://github.com/HuyVan3/cropperjs?tab=readme-ov-file#mincontainerwidth\" rel=\"nofollow noreferrer\">default</a> container dimensions are <strong>200 x 100</strong>. So may be seeing <strong>200</strong> as the width is expected behavior when no explicit smaller dimension is set.</p>\n<p>The <a href=\"https://github.com/HuyVan3/cropperjs?tab=readme-ov-file#viewmode\" rel=\"nofollow noreferrer\"><strong><code>viewMode</code></strong></a> settings fundamentally changes how the canvas relates to the container.\nWith <code>viewMode:2</code> and a non-square image in a <strong>150 x 200</strong> container, the canvas calculates it size to fit entirely within that space while maintaining the image's native aspect ratio. If you upload <strong>300 x 200</strong> landscape image (3:2 ratio), the canvas will scale to fit the 150px width, resulting in a canvas height of only <strong>100px</strong> leaving <strong>100px of extra space</strong> vertically. The container may then expand or display this as empty space.</p>\n<p>For a fixed <strong>150 x 200</strong> container where you want the canvas to fill the entire space, use <code>viewMode: 3</code>. However this means part of the source image may not be visible.</p>\n<p>The <a href=\"https://github.com/HuyVan3/cropperjs?tab=readme-ov-file#aspectratio\" rel=\"nofollow noreferrer\"><strong><code>aspectRatio</code></strong></a> only controls the crop box shape. Not the container dimensions</p>\n<blockquote>\n<p>Define the fixed aspect ratio of the crop box.</p>\n</blockquote>\n<p>The correct approach combines CSS on the parent wrapper with JavaScript options that override defaults:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;cropper-wrapper&quot;&gt;\n  &lt;img id=&quot;crop-image&quot; src=&quot;uploaded-image.jpg&quot;&gt;\n&lt;/div&gt;\n</code></pre>\n<p>and <a href=\"https://github.com/HuyVan3/cropperjs?tab=readme-ov-file#example\" rel=\"nofollow noreferrer\">CSS</a></p>\n<pre class=\"lang-css prettyprint-override\"><code>.cropper-wrapper {\n  width: 150px;\n  height: 200px;\n  overflow: hidden;  /* Critical for clipping any overflow */\n}\n\n.cropper-wrapper img {\n  display: block;    /* Required by Cropper.js */\n  max-width: 100%;   /* Documented as &quot;very important&quot; */\n}\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>$('#crop-image').cropper({\n  viewMode: 3,              // Fill container completely\n  aspectRatio: 2/3,         // Crop box aspect ratio (150/200 = 0.75)\n  minContainerWidth: 150,   // Override default 200\n  minContainerHeight: 200,  // Override default 100\n  autoCropArea: 1,          \n  dragMode: 'move',\n  cropBoxMovable: false,\n  cropBoxResizable: false\n});\n</code></pre>\n<p>Correct implementation would be:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;utf-8&quot;/&gt;\n  &lt;script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n  &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.2/cropper.min.js&quot;&gt;&lt;/script&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.2/cropper.min.css&quot; /&gt;\n  &lt;style&gt;\n    /* The wrapper element controls the cropper's container size.\n       Cropper.js inherits dimensions from this parent, not from the canvas. */\n    .cropper-wrapper {\n      width: 150px;\n      height: 200px;\n      overflow: hidden;  /* Clips any visual overflow from canvas scaling */\n    }\n\n    /* Required by Cropper.js documentation */\n    .cropper-wrapper img {\n      display: block;\n      max-width: 100%;\n    }\n\n    #result img {\n      max-width: 100%;\n      margin-top: 10px;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;p&gt;\n    &lt;input type=&quot;file&quot; id=&quot;fileInput&quot; accept=&quot;image/*&quot; /&gt;\n    &lt;input type=&quot;button&quot; id=&quot;btnCrop&quot; value=&quot;Crop&quot; /&gt;\n    &lt;input type=&quot;button&quot; id=&quot;btnRestore&quot; value=&quot;Restore&quot; /&gt;\n  &lt;/p&gt;\n\n  &lt;!-- The wrapper div is what Cropper.js reads for container dimensions --&gt;\n  &lt;div class=&quot;cropper-wrapper&quot;&gt;\n    &lt;img id=&quot;cropImage&quot; src=&quot;&quot; alt=&quot;Upload an image&quot;&gt;\n  &lt;/div&gt;\n\n  &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;\n\n  &lt;script&gt;\n  $(function() {\n    var $image = $('#cropImage');\n    var $result = $('#result');\n    var cropper = null;\n\n    $('#fileInput').on('change', function() {\n      if (!this.files || !this.files[0]) {\n        alert('No file selected.');\n        return;\n      }\n\n      if (!this.files[0].type.match(/^image\\//)) {\n        alert('Invalid file type. Please select an image.');\n        return;\n      }\n\n      var reader = new FileReader();\n\n      reader.onload = function(evt) {\n        // Destroy any existing cropper instance before reinitializing.\n        // This prevents memory leaks and stale state.\n        if (cropper) {\n          cropper.destroy();\n          cropper = null;\n        }\n\n        // Set the image source. The image element retains its natural dimensions\n        // internally, but the cropper will scale it to fit the container.\n        $image.attr('src', evt.target.result);\n\n        // Initialize cropper after image loads to ensure dimensions are available.\n        $image.one('load', function() {\n          cropper = new Cropper(this, {\n            // viewMode: 3 forces the canvas to FILL the container completely.\n            // This eliminates letterboxing but may hide parts of the source image.\n            // Use viewMode: 2 if you need to see the entire image (letterboxing acceptable).\n            viewMode: 3,\n\n            // aspectRatio controls the crop box shape, matching your 150:200 = 2:3 ratio.\n            aspectRatio: 2 / 3,\n\n            // Override the defaults (200x100) to match your desired container size.\n            // These are minimums, but combined with the CSS wrapper they enforce exact dimensions.\n            minContainerWidth: 150,\n            minContainerHeight: 200,\n            autoCropArea: 1,\n            dragMode: 'move',\n            responsive: true,\n\n            ready: function() {\n              // Verify container dimensions match expectations.\n              var containerData = cropper.getContainerData();\n              console.log('Container dimensions:', containerData);\n              // Should log {width: 150, height: 200}\n            }\n          });\n        });\n      };\n\n      reader.readAsDataURL(this.files[0]);\n    });\n\n    $('#btnCrop').on('click', function() {\n      if (!cropper) {\n        alert('Please upload an image first.');\n        return;\n      }\n\n      // getCroppedCanvas returns the cropped region at its natural resolution.\n      // Optionally pass dimensions to scale the output: { width: 150, height: 200 }\n      var croppedCanvas = cropper.getCroppedCanvas();\n      var croppedImageDataURL = croppedCanvas.toDataURL('image/png');\n\n      $result.empty().append($('&lt;img&gt;').attr('src', croppedImageDataURL));\n    });\n\n    $('#btnRestore').on('click', function() {\n      if (cropper) {\n        cropper.reset();\n      }\n      $result.empty();\n    });\n  });\n  &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n", "tags": ["javascript", "canvas", "cropperjs"]}
{"id": "5213df77-45c3-49f4-9686-12411076569f", "text": "Q: Is there any way for Intellij to bold or highlight directory that has file changes like Eclipse A: <p>On new version of IDE, this settings were moved to:\n<strong>Settings -&gt; Version Control -&gt; Confirmation</strong> and enable &quot;Highlight directories that contain modified files in the Project tree&quot;</p>\n", "tags": ["intellij-idea"]}
{"id": "9a3de752-2a15-4cd5-8542-16b248d01be6", "text": "Q: Custom clone url - Gitlab clone showing an error: The project you were looking for could not be found A: <p>My second user had the same issue. I kicked and re-invited and it worked.</p>\n<p>I reckon gitlab didn't process the role change (Guest-&gt;Dev) properly.</p>\n", "tags": ["git", "gitlab"]}
