{"id": "20eacf19-59c1-4ca8-b7e2-3b1919fa1267", "text": "Q: How do I collage booking date inputs and return as LocalDate format., and validate year/month/day values with a boolean? A: <p>Attempt to <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html#of(int,int,int)\" rel=\"nofollow noreferrer\">instantiate</a> <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>, while catching <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/DateTimeException.html\" rel=\"nofollow noreferrer\"><code>DateTimeException</code></a> for invalid inputs.</p>\n<pre><code>    try {\n        LocalDate datetime = LocalDate.of(year, month, day);\n        System.out.println(datetime); \n    } catch (DateTimeException e) {\n        System.out.println(&quot;Date is invalid: &quot; + e);\n    }\n</code></pre>\n<p>To show that it catches an incorrect date, I tried running this snippet before reading any numbers from the scanner (which of course is not how you will be using it). The output was:</p>\n<blockquote>\n<p>Date is invalid: java.time.DateTimeException: Invalid value for\nMonthOfYear (valid values 1 - 12): 0</p>\n</blockquote>\n<p>After entering 2020 for year, 11 for month and 27 for day of month I got:</p>\n<blockquote>\n<p>2020-11-27</p>\n</blockquote>\n<p><strong>Further suggestions</strong></p>\n<p>You may want to store the date as a <code>LocalDate</code> object in your <code>CarAndBookingDates</code> object. The user may prefer to enter it on one line rather than three numbers at three prompts after each other, for example like <code>27-11-2020</code> or <code>3-12-2020</code>. Then use the two-arg <code>LocalDate.parse(String, DateTimeFormatter)</code> for parsing the string that the user entered.</p>\n<p>I think that <code>CarAndBookingDates</code> could advantageously assume the responsibility of prompting the use before returning any information to the caller. As the class stands now, the caller can forget to call the methods that prompt the user and would then just retrieve the default values.</p>\n", "tags": ["java"]}
{"id": "5d00da63-b0c4-41b7-95d2-0a4175085836", "text": "Q: Table namespace not ready yet, try again later A: <p>These type of errors will occur when it isn't able to find block locations.</p>\n<p>Please check Hbase region server log carefully.</p>\n<p>We faced same issue, and got it fixed with</p>\n<pre><code>hbase hbck -fix \n</code></pre>\n<p>It will find any inconsistencies of hbase and it will fix them. Also, please <a href=\"http://hbase.apache.org/0.94/book/hbck.in.depth.html\" rel=\"nofollow noreferrer\">check this</a> for more details.</p>\n<p>If nothing works for you, the final step is hbase restart.</p>\n", "tags": ["hbase"]}
{"id": "928d84ae-917b-4243-8e13-d56243c5e49a", "text": "Q: How to concatenate columns in previous row in dataframe? A: <p>I will give similar example but not the same as you have. If you want to apply concat on 2 lag columns you can go by 2 steps like below:</p>\n<ol>\n<li>apply lag functions</li>\n<li>then concat.</li>\n</ol>\n<p>You can't apply concat on 2 lag columns at the same time.</p>\n<pre><code>   import org.apache.spark.sql.expressions.Window\n  import org.apache.spark.sql.functions._\n\n  var customers = spark.sparkContext.parallelize(List((&quot;Alice&quot;, &quot;click&quot;,&quot;item_8&quot;, 50),\n    (&quot;Alice&quot;, &quot;view&quot;,&quot;item_2&quot;, 55),\n    (&quot;Alice&quot;, &quot;share&quot;,&quot;item_11&quot;, 100),\n    (&quot;Bob&quot;, &quot;view&quot;,&quot;item_11&quot;, 25),\n    (&quot;Bob&quot;, &quot;share&quot;,&quot;ietm_2&quot;, 50),\n    (&quot;Bob&quot;, &quot;view&quot;, &quot;item_8&quot;,65))).toDF(&quot;name&quot;, &quot;event&quot;, &quot;item&quot;, &quot;time&quot;)\n  customers.show\n\n  val wSpec3 = Window.partitionBy(&quot;name&quot;).orderBy(&quot;time&quot;)\n  customers.withColumn(\n    &quot;prev_event&quot;, lag(col(&quot;event&quot;),1).over(wSpec3)\n  ).withColumn(\n    &quot;prev_item&quot;, lag(col(&quot;item&quot;),1).over(wSpec3)\n  ).withColumn(\n    &quot;prev_time&quot;, lag(col(&quot;time&quot;),1).over(wSpec3)\n  ).withColumn(&quot;newcolumn&quot;, concat( 'prev_event, 'prev_item)).show\n\n</code></pre>\n<p>Result :</p>\n<pre><code>+-----+-----+-------+----+\n| name|event|   item|time|\n+-----+-----+-------+----+\n|Alice|click| item_8|  50|\n|Alice| view| item_2|  55|\n|Alice|share|item_11| 100|\n|  Bob| view|item_11|  25|\n|  Bob|share| ietm_2|  50|\n|  Bob| view| item_8|  65|\n+-----+-----+-------+----+\n\n+-----+-----+-------+----+----------+---------+---------+-----------+\n| name|event|   item|time|prev_event|prev_item|prev_time|  newcolumn|\n+-----+-----+-------+----+----------+---------+---------+-----------+\n|  Bob| view|item_11|  25|      null|     null|     null|       null|\n|  Bob|share| ietm_2|  50|      view|  item_11|       25|viewitem_11|\n|  Bob| view| item_8|  65|     share|   ietm_2|       50|shareietm_2|\n|Alice|click| item_8|  50|      null|     null|     null|       null|\n|Alice| view| item_2|  55|     click|   item_8|       50|clickitem_8|\n|Alice|share|item_11| 100|      view|   item_2|       55| viewitem_2|\n+-----+-----+-------+----+----------+---------+---------+-----------+\n</code></pre>\n", "tags": ["scala", "dataframe", "apache-spark", "functional-programming"]}
{"id": "49bda5bb-f4c8-4670-8797-3780c59d7337", "text": "Q: How to make pointers be four bytes instead of eight A: <blockquote>\n<p>Can I set this flag by code?</p>\n</blockquote>\n<p>No; since jvm -xx options are pointers to jvm at startup, you can't set it through code</p>\n<p>This is an example shell script you can use.</p>\n<pre><code>    #!/usr/bin/env bash\n# Set Spark environment variables for your site in this file. Some useful\n# variables to set are:\n# - MESOS_HOME, to point to your Mesos installation\n# - SCALA_HOME, to point to your Scala installation\n# - SPARK_CLASSPATH, to add elements to Spark's classpath\n# - SPARK_JAVA_OPTS, to add JVM options\n# - SPARK_MEM, to change the amount of memory used per node (this should\n# be in the same format as the JVM's -Xmx option, e.g. 300m or 1g).\n# - SPARK_LIBRARY_PATH, to add extra search paths for native libraries.\nexport SPARK_MEM=&quot;5000m&quot;\nBASEDIR=/root\nexport JAVA_HOME=/usr/lib/jvm/java-6-sun\nexport SCALA_HOME=$BASEDIR/scala-2.8.1.final\nexport MESOS_HOME=$BASEDIR/mesos\nJARS=\nJARS+=$BASEDIR/spark/conf/\nJARS+=:/nfs/spark/alignerscala_2.8.1-1.0.jar\nJARS+=:$SCALA_HOME/lib/scala-library.jar:$SCALA_HOME/lib/scala-compiler.jar\nexport SPARK_CLASSPATH=$JARS\n#export SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=40 -Dspark.cache.class=spark.SerializingCache -Dspark.boundedMemoryCache.memoryFraction=0.50 -XX:+DoEscapeAnalysis -Dspark.task.cpus=1 -XX:NewRatio=7 -XX:+UseCompressedOops -XX:+UseConcMarkSweepGC&quot;\n#export SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=40 -Dspark.cache.class=spark.SerializingCache -Dspark.boundedMemoryCache.memoryFraction=0.50 -XX:+DoEscapeAnalysis -Dspark.task.cpus=1 -XX:+UseCompressedOops&quot;\n#export SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=40 -XX:+DoEscapeAnalysis -Dspark.task.cpus=2 -XX:+UseCompressedOops&quot;\n#export SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=40 -XX:+DoEscapeAnalysis -Dspark.task.cpus=1 -XX:+UseCompressedOops -Dspark.serialization=spark.KryoSerialization -Dspark.cache.class=spark.SerializingCache -Dspark.boundedMemoryCache.memoryFraction=0.8 -Dspark.locality.wait=10000 -Dspark.kryo.registrator=SparseVectorOriginalRegistrator&quot;\nexport SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=4 -XX:+DoEscapeAnalysis -Dspark.task.cpus=1 -XX:+UseCompressedOops -Dspark.boundedMemoryCache.memoryFraction=0.8 -Dspark.locality.wait=10000&quot;\n#export SPARK_JAVA_OPTS=&quot;-Dspark.default.parallelism=40 -XX:+DoEscapeAnalysis -Dspark.task.cpus=2 -XX:+UseCompressedOops -Dspark.serialization=spark.KryoSerialization -Dspark.locality.wait=10000&quot;\n</code></pre>\n", "tags": ["apache-spark", "jvm"]}
{"id": "69f4a52d-badc-4b15-9066-237a60dde2d5", "text": "Q: How to clone a large git repo over slow/unreliable connection in a fully automatic/generic manner? A: <p>Git does not support resumable <code>git clone</code> directly. However, you can approximate resumable behavior using <strong>partial clones + sparse checkout</strong>.</p>\n<h4>Step 1: Clone metadata only</h4>\n<pre class=\"lang-bash prettyprint-override\"><code>git clone --filter=blob:none --no-checkout &lt;URL&gt;\n</code></pre>\n<p>This downloads all repository metadata but no file contents.</p>\n<hr />\n<h4>Step 2: Generate the list of missing files</h4>\n<pre class=\"lang-bash prettyprint-override\"><code>git reset\ngit ls-files --deleted &gt; filelist.txt\n</code></pre>\n<hr />\n<h4>Step 3: Fetch blobs in batches using sparse checkout</h4>\n<p><code>sparse-checkout add</code> implicitly fetches required blobs. By feeding it subsets of paths, you can download files incrementally.</p>\n<p>Workflow:</p>\n<ol>\n<li><p>Split <code>filelist.txt</code> into batches</p>\n</li>\n<li><p>Initialize sparse checkout:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>git sparse-checkout init --no-cone\n</code></pre>\n</li>\n<li><p>For each batch:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>git sparse-checkout add --stdin &lt; batch.txt\n</code></pre>\n</li>\n<li><p>Retry failed batches</p>\n</li>\n<li><p>Disable sparse checkout when complete:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>git sparse-checkout disable\n</code></pre>\n</li>\n</ol>\n<p>Each successfully fetched blob is cached locally, making the process resumable.</p>\n<hr />\n<h4>Notes</h4>\n<ul>\n<li>This is a workaround, not official Git functionality.</li>\n<li>Particularly useful on unstable connections or very large repositories.</li>\n<li>Works on Windows and other platforms (the script would need to be adapted).</li>\n</ul>\n<hr />\n<hr />\n<pre class=\"lang-none prettyprint-override\"><code>@echo off\n\nset &quot;BATCH_SIZE=50&quot;\nset &quot;MAX_RETRY=3&quot;\nset &quot;USER=pchemguy&quot;\nset &quot;REPO=FGVC_Aircraft_dataset&quot;\nset &quot;URL=https://github.com/%USER%/%REPO%.git&quot;\n\nset &quot;ROOT=%~dp0&quot;\nset &quot;ROOT=%ROOT:~0,-1%&quot;\nset &quot;ROOT=%ROOT:\\=/%&quot;\n\nif not exist &quot;%ROOT%/%REPO%/.git/config&quot; (git clone --filter=blob:none --no-checkout %URL%)\ncd /d &quot;%ROOT%/%REPO%&quot;\ngit reset &gt;nul\nif not exist &quot;%ROOT%/filelist.txt&quot; (git ls-files --deleted &gt;&quot;%ROOT%/filelist.txt&quot;)\nif not exist &quot;%ROOT%/%REPO%_batches&quot; (mkdir &quot;%ROOT%/%REPO%_batches&quot;)\n\nset &quot;LINE_COUNT=0&quot;\nset &quot;FILE_COUNT=100&quot;\n\nif exist &quot;%ROOT%/%REPO%_batches/_batches_created_flag&quot; (goto :SKIP_BATCHING)\n\nfor /f &quot;usebackq tokens=*&quot; %%L in (&quot;%ROOT%/filelist.txt&quot;) do (\n    echo %%L&gt;&gt;&quot;%ROOT%/%REPO%_batches/batch!FILE_COUNT!.txt&quot;\n    set /a &quot;LINE_COUNT+=1&quot;\n    set /a &quot;LINE_COUNT%%=%BATCH_SIZE%&quot;\n    if !LINE_COUNT!==0 (set /a &quot;FILE_COUNT+=1&quot;)\n)\necho. &gt;&quot;%ROOT%/%REPO%_batches/_batches_created_flag&quot;\n\n:SKIP_BATCHING\n\ngit sparse-checkout init --no-cone\n\necho Starting batch checkout. Attempts left: %MAX_RETRY%.\n\n:RETRY_BATCH_CHECKOUT\n\nset &quot;TOTAL_ERRORS=0&quot;\nfor %%B in (%ROOT%/%REPO%_batches/batch*.txt) do (\n    set &quot;EXIT_STATUS=1&quot;\n    set &quot;NEXT_BATCH=%ROOT%/%REPO%_batches/%%~nxB&quot;\n    echo --- Processing &quot;%ROOT%/%REPO%_batches/%%~nxB&quot; ---\n    call git sparse-checkout add --stdin &lt; &quot;!NEXT_BATCH!&quot;\n    set &quot;EXIT_STATUS=!ERRORLEVEL!&quot;\n    set /a &quot;TOTAL_ERRORS+=!EXIT_STATUS!&quot;\n    if !EXIT_STATUS!==0 (\n        del /Q &quot;!NEXT_BATCH:/=\\!&quot;\n    )\n)\nset /a &quot;MAX_RETRY-=1&quot;\n\nif exist &quot;%ROOT%/%REPO%_batches/batch*.txt&quot; (\n    echo Some errors have occured...\n    if !MAX_RETRY! gtr 0 (\n        echo Retrying batch checkout. Attempts left: %MAX_RETRY%.\n        goto :RETRY_BATCH_CHECKOUT\n    ) else (\n        echo No more retries left. Aborting...\n        exit /b 1\n    )\n)\n\ncall git sparse-checkout disable\necho Batched checkout is complete.\nrmdir /S /Q &quot;%ROOT%/%REPO%_batches&quot;\n</code></pre>\n", "tags": ["windows", "git", "github", "git-clone"]}
{"id": "dfe43579-c4a1-4a31-93e8-a15dc874798a", "text": "Q: Request: Temporary GPU VM (NVIDIA T4, 30 days) for learning ML A: <p>[Why can't I ask customer service-related questions on Stack Overflow?](<a href=\"https://meta.stackoverflow.com/questions/255745/why-cant-i-ask-customer-service-related-questions-on-stack-overflow/255746#255746\">Why can&#39;t I ask customer service-related questions on Stack Overflow?</a>)</p>\n", "tags": ["google-cloud-platform", "gpu", "google-compute-engine", "google-cloud-iam", "google-apps-for-education"]}
{"id": "7094d99b-7095-4950-a459-f01a8c2964d3", "text": "Q: Is it possible to fix a recursive Python function within a 12-character edit distance? A: <p>The trick to reduce your distance from 13 to 12 is to realize that Python generally allows trailing commas in lists and tuples, and also so at the end of an argument list of a function call. <a href=\"https://peps.python.org/pep-0008/#when-to-use-trailing-commas\" rel=\"nofollow noreferrer\">PEP 8</a> asserts this and explains why you would want to even do that:</p>\n<blockquote>\n<p>when a list of ... arguments ... is expected to be extended over time.</p>\n</blockquote>\n<p>But for your exercise it means you don't have to delete the comma that separates the two function-call arguments, and can just leave it &quot;hanging&quot; there without practical consequence:</p>\n<pre><code>return (0 if l[0] == it else 1+index_of(it,l[1:],))\n</code></pre>\n<p>NB: It escapes me what the usefulness is of such exercises</p>\n", "tags": ["python", "algorithm", "recursion", "levenshtein-distance", "edit-distance"]}
{"id": "7f4097a7-3afd-4505-aeb7-9b3bb3f2a11b", "text": "Q: find day of year from date (and weekday) A: <h2>tl;dr</h2>\n<p>Use <code>java.time</code> classes built into Java 8 and later.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Example day-of-year.\nLocalDate\n.of( 2025 , 1 , 23 )  // 23rd of January \u2026\n.getDayOfYear()       // \u2026 is day-of-year 23. \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Example elapsed days.\nChronoUnit.DAYS.between(\n    LocalDate.of( 2025 , Month.JANUARY , 23 ) ,  // Then.\n    LocalDate.now( ZoneId.of( &quot;Asia/Tokyo&quot; ) )   // Today.\n)\n</code></pre>\n<h2><em>java.time</em></h2>\n<p>In the <em>java.time</em> classes, modern Java has the industry-leading date-time framework. No need to write all that code of yours.</p>\n<h3>Day-of-year</h3>\n<blockquote>\n<p>find the day of year (1-366) of a specific date</p>\n</blockquote>\n<p>To represent a date-only value (year-month-day), use <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> class. To get the day-of-year (1-366), call <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html#getDayOfYear()\" rel=\"nofollow noreferrer\"><code>getDayOfYear</code></a>.</p>\n<pre><code>int dayOfYear = LocalDate.of( 2025 , Month.JANUARY , 23 ).getDayOfYear() ;\n</code></pre>\n<h3>Elapsed days</h3>\n<blockquote>\n<p>compare dates and find the differences in time between them</p>\n</blockquote>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/temporal/ChronoUnit.html#DAYS\" rel=\"nofollow noreferrer\"><code>ChronoUnit.DAYS</code></a> enum object to calculate elapsed days.</p>\n<pre class=\"lang-java prettyprint-override\"><code>long daysElapsed = ChronoUnit.DAYS.between( oneDate , anotherDate ) ;\n</code></pre>\n", "tags": ["java", "android"]}
