{"id": "4e13ba75-ea4e-4507-8b2b-d166b9fca674", "text": "Q: SwiftData shows arbitrary behavior after a few seconds when using two-layer relationship predicate A: <p>I suspect the issues here are two-fold:</p>\n<ol>\n<li><p>You're not explicitly saving the context in your <code>buildFamily()</code> function</p>\n</li>\n<li><p>The SwiftData Predicate may struggle with the two levels hop <code>child.parent?.parent?.persistentModelID</code>, causing valid records to be silently filtered out - and showing only a single record even though multiple match.</p>\n</li>\n</ol>\n<h2>Issue 1</h2>\n<p>The 10-seconds or so delay you noticed is likely due to the <code>modelContext</code> autosaving, probably because you're not explicitly calling <code>try? modelContext.save()</code> in your <code>buildFamily()</code> function (which wasn't provided in your sample code).</p>\n<p>When initially inserted, objects get a temporary id, which then changes to a permanent persisted id when autosaves runs. Since your predicate filters by <code>selectedGrandparent?.persistentModelID</code>, it explains why you're seeing incorrect data - the <code>selectedGrandparent</code>state references a temporary id which is no longer accurate once the context saves.</p>\n<p>So the solution is simply to explicitly save the context after filling the database with the sample data:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>//Fill the database with sample data\n\n// ...\n\n//Explicitly save context\ntry? modelContext.save()\n</code></pre>\n<p>Issue 2</p>\n<p>An alternative, maybe simpler approach for filtering the grandchildren is to apply the filter in the parent and then passing just the filtered ones to <code>FilteredChildrenView</code>:</p>\n<pre><code>//Computed property to return the grandchildren of a selected grandparent or all grandchildren if no selection\nprivate var grandChildren: [Child] {\n    if let selectedGrandparent {\n        // Flatten (grandparent -&gt; parents -&gt; children)\n        return (selectedGrandparent.children ?? [])\n            .flatMap { $0.children ?? [] }\n            .sorted { ($0.name) &lt; ($1.name) }\n    }\n    else {\n        // All grandchildren: flatten across all grandparents\n        return grandparents\n            .flatMap { $0.children ?? [] }\n            .flatMap { $0.children ?? [] }\n            .sorted { ($0.name) &lt; ($1.name) }\n    }\n}\n</code></pre>\n<p>Then your <code>FilteredChildrenView</code> becomes much simpler:</p>\n<pre><code>struct FilteredChildrenView: View {\n\n    // Parameters\n    let children: [Child]\n\n    //Body\n    var body: some View {\n        ForEach(children) { child in\n            Text(child.name)\n        }\n    }\n}\n</code></pre>\n<p>And the call from parent:</p>\n<pre class=\"lang-swift prettyprint-override\"><code>FilteredChildrenView(children: grandChildren)\n</code></pre>\n<p>Here's the complete working code to try:</p>\n<pre><code>import SwiftUI\nimport SwiftData\n\n@Model\nfinal class FamilyGrandparent {\n    var id: UUID = UUID()\n    var name: String = &quot;&quot;\n    @Relationship(deleteRule: .nullify, inverse: \\FamilyParent.parent)\n    var children: [FamilyParent]?\n\n    init(name: String) {\n        self.name = name\n    }\n}\n\n@Model\nfinal class FamilyParent {\n    var id: UUID = UUID()\n    var name: String = &quot;&quot;\n    @Relationship(deleteRule: .nullify, inverse: \\FamilyChild.parent)\n    var children: [FamilyChild]?\n    var parent: FamilyGrandparent?\n\n    init(name: String, parent: FamilyGrandparent? = nil) {\n        self.name = name\n        self.parent = parent\n    }\n}\n\n@Model\nfinal class FamilyChild {\n    var id: UUID = UUID()\n    var name: String = &quot;&quot;\n    var parent: FamilyParent?\n\n    init(name: String, parent: FamilyParent? = nil) {\n        self.name = name\n        self.parent = parent\n    }\n}\n\nstruct GrandParentContentView: View {\n    @Environment(\\.modelContext) private var modelContext\n    @Query(sort: \\FamilyGrandparent.name) private var grandparents: [FamilyGrandparent]\n\n    @State private var selectedGrandparent: FamilyGrandparent? = nil\n\n    //Computed property to return the grandchildren of a selected grandparent or all grandchildren if no selection\n    private var grandChildren: [FamilyChild] {\n        if let selectedGrandparent {\n            // Flatten (grandparent -&gt; parents -&gt; children)\n            return (selectedGrandparent.children ?? [])\n                .flatMap { $0.children ?? [] }\n                .sorted { ($0.name) &lt; ($1.name) }\n        }\n        else {\n            // All grandchildren: flatten across all grandparents\n            return grandparents\n                .flatMap { $0.children ?? [] }\n                .flatMap { $0.children ?? [] }\n                .sorted { ($0.name) &lt; ($1.name) }\n        }\n    }\n\n    //Body\n    var body: some View {\n        List {\n            Button(action: buildFamily) {\n                Text(&quot;Build family&quot;)\n            }\n            .disabled(!grandparents.isEmpty)\n            Button(role: .destructive) {\n                deleteAllData()\n            } label: {\n                Text(&quot;Reset family&quot;)\n            }\n            .disabled(grandparents.isEmpty)\n\n            Picker(&quot;Grandparent&quot;, selection: $selectedGrandparent) {\n                if !grandparents.isEmpty {\n                    Text(&quot;All grandparents&quot;).tag(nil as FamilyGrandparent?)\n                    ForEach(grandparents) { grandparent in\n                        Text(grandparent.name).tag(grandparent)\n                    }\n                }\n                else {\n                    Text(&quot;No grandparents available&quot;).tag(nil as FamilyGrandparent?)\n                }\n            }\n\n            FilteredChildrenView(children: grandChildren)\n        }\n    }\n\n    private func buildFamily() {\n\n        // Create grandparents\n        let grandparentAlice = FamilyGrandparent(name: &quot;Grandma Alice&quot;)\n        let grandparentBob = FamilyGrandparent(name: &quot;Grandpa Bob&quot;)\n\n        // Create parents linked to grandparents\n        let parentCarol = FamilyParent(name: &quot;Carol&quot;, parent: grandparentAlice)\n        let parentDave = FamilyParent(name: &quot;Dave&quot;, parent: grandparentAlice)\n        let parentEve = FamilyParent(name: &quot;Eve&quot;, parent: grandparentBob)\n\n        // Create children linked to parents\n        let childFrank = FamilyChild(name: &quot;Frank&quot;, parent: parentCarol)\n        let childGrace = FamilyChild(name: &quot;Grace&quot;, parent: parentCarol)\n        let childHeidi = FamilyChild(name: &quot;Heidi&quot;, parent: parentDave)\n        let childIvan = FamilyChild(name: &quot;Ivan&quot;, parent: parentEve)\n        let childJudy = FamilyChild(name: &quot;Judy&quot;, parent: parentEve)\n\n        // Insert all into the model context. SwiftData will infer relationships from references.\n        modelContext.insert(grandparentAlice)\n        modelContext.insert(grandparentBob)\n\n        modelContext.insert(parentCarol)\n        modelContext.insert(parentDave)\n        modelContext.insert(parentEve)\n\n        modelContext.insert(childFrank)\n        modelContext.insert(childGrace)\n        modelContext.insert(childHeidi)\n        modelContext.insert(childIvan)\n        modelContext.insert(childJudy)\n\n        try? modelContext.save()\n    }\n\n    private func deleteAllData() {\n        try? modelContext.delete(model: FamilyChild.self)\n        try? modelContext.delete(model: FamilyParent.self)\n        try? modelContext.delete(model: FamilyGrandparent.self)\n        try? modelContext.save()\n        selectedGrandparent = nil\n    }\n}\n\nstruct FilteredChildrenView: View {\n\n    // Parameters\n    let children: [FamilyChild]\n\n    //Body\n    var body: some View {\n        ForEach(children) { child in\n            Text(child.name)\n        }\n    }\n}\n\n#Preview {\n    GrandParentContentView()\n        .modelContainer(for: [FamilyGrandparent.self, FamilyParent.self, FamilyChild.self], inMemory: true)\n}\n</code></pre>\n", "tags": ["swiftdata", "swift-data-relationship"]}
{"id": "5f7405c1-f68b-49f0-a5c5-238345059bc7", "text": "Q: WinSCP Upload files to nested folders permission denied A: <p>The <a href=\"https://winscp.net/eng/docs/library_session_putfiles#remotepath\" rel=\"nofollow noreferrer\"><code>remotePath</code> argument of the <code>Session.PutFiles</code> method</a> is:</p>\n<blockquote>\n<p><strong>Full path</strong> to upload the file to. When uploading multiple files, the filename in the path should be replaced with <a href=\"https://winscp.net/eng/docs/operation_mask\" rel=\"nofollow noreferrer\">operation mask</a> or omitted (<strong>path ends with slash</strong>).</p>\n</blockquote>\n<p>So the <code>remote</code> should be like <code>&quot;/New/&quot;</code>, <code>&quot;/New/New2/&quot;</code>, ... (or <code>&quot;/New/*&quot;</code>...).</p>\n<p>See the official <a href=\"https://winscp.net/eng/docs/library#csharp\" rel=\"nofollow noreferrer\">example for uploading files</a> with WinSCP .NET assembly.</p>\n", "tags": ["vb.net", "ftp", "windows-server", "filezilla", "winscp-net"]}
{"id": "de05d326-2b69-42fa-9a4d-f8183a0d4d62", "text": "Q: Generate all versions of a string with each letter replaced by a wildcard (?) once in bash A: <p><strong>UPDATE 1</strong> : Further enhancing it with auto-sourcing from <code>$0</code> when input is either empty string (<code>&quot;&quot;</code>) or the <code>AWK</code>-null value (both <code>0</code> and <code>&quot;&quot;</code>) - <em><strong>without</strong></em> modifying <code>$0</code> in place.</p>\n<hr />\n<p>so just a few <code>gsub()</code>s in <code>awk</code> and you can do it without any looping, recursion, measurement of string length, pre-duplicated inputs, ternaries, or conditionals :</p>\n<pre class=\"lang-rust prettyprint-override\"><code>echo 'GGCCACAGTGC' | awk '\n\nfunction ____(__, _, ___) {\n\n    (___ = (_)__) || __ = ___ = _$__\n         _ = &quot;.&quot;\n    gsub(_, _, ___)\n    gsub(_, __, __)  # this line is &quot;string-squaring&quot;\n\n    gsub((_)___, &quot;=&amp;&quot;, __)\n    gsub(/=.|.$/, &quot;?&quot;, __)\n    gsub(___,   &quot;&amp;\\n&quot;, __)\n\n    return __\n}\n{ print ____() }'    &lt;\u2014\u2014 note the function call with zero arguments\n</code></pre>\n<ul>\n<li>\n<pre class=\"lang-swift prettyprint-override\"><code>?GCCACAGTGC\nG?CCACAGTGC\nGG?CACAGTGC\nGGC?ACAGTGC\nGGCC?CAGTGC\nGGCCA?AGTGC\nGGCCAC?GTGC\nGGCCACA?TGC\nGGCCACAG?GC\nGGCCACAGT?C\nGGCCACAGTG?\n</code></pre>\n</li>\n</ul>\n", "tags": ["bash", "grep", "wildcard", "fastq"]}
{"id": "089d458f-f3f1-449e-892e-4c37ec482461", "text": "Q: how do I make a &quot;local server&quot; that can receive messages from outside my computer? A: <h2>TL;DR</h2>\n<p>Install <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">Ngrok</a>, do <code>nc -lvp 1234</code> in a terminal. Open up another terminal, do <code>ngrok tcp 1234</code>. It'll give you an output that includes something like <code>tcp://5.tcp.eu.ngrok.io:31415 -&gt; localhost:1234</code>.\nNow on the &quot;telnet server&quot;, put <code>5.tcp.eu.ngrok.io</code> as the IP address, and <code>31415</code> as the port number. You'll receive the message on the nc listener.</p>\n<hr />\n<hr />\n<p>Please elaborate more on your question. However, even though I'm not an expert in PWN CTF category, I think the traffic could be received from the server to your machine via <a href=\"https://linuxize.com/post/netcat-nc-command-with-examples/\" rel=\"nofollow noreferrer\">nc</a> and <a href=\"https://ngrok.com/\" rel=\"nofollow noreferrer\">Ngrok</a>. <a href=\"https://drxh3kr.medium.com/using-netcat-with-ngrok-ip-for-receiving-reverse-shell-25ba7a498aab\" rel=\"nofollow noreferrer\">Here</a> is a quick tutorial on how to use nc along with Ngrok, but I'll do my little explanation here.</p>\n<p>What I understood from your question is that you give that &quot;telnet server&quot; the IP and port to your machine (client) and it'd send a message. You can setup a simple nc listener on your machine via this command:</p>\n<pre><code>nc -lvp 1234\n</code></pre>\n<p>This will make your machine receive messages through this port. However, to get to your machine from that &quot;server&quot;, it'd need an IP address. And I assume that the &quot;server&quot; is not in your local network, which is why you have to use Ngrok. After installing ngrok on your machine, do the following command on a new terminal:</p>\n<pre><code>ngrok tcp 1234\n</code></pre>\n<p>This will give you like a public IP address (mostly a domain, not a numeric IP) and a random port. Ngrok will forward all the traffic from the public IP address and port to your local listener (on port 1234 that you've setup).</p>\n<p>The output from ngrok will have something like this:</p>\n<pre><code>tcp://5.tcp.eu.ngrok.io:31415 -&gt; localhost:1234 \n</code></pre>\n<p>On the &quot;server&quot; that you mentioned, put <code>5.tcp.eu.ngrok.io</code> as the IP address and <code>31415</code> as the port. You should receive the message on that nc listener.</p>\n<p>I hope I correctly guessed what you want and this would answer your question. You should ask better questions next time, though!</p>\n", "tags": ["server", "telnet", "ctf"]}
{"id": "626136d9-eea1-4442-8d02-61e9f20e56da", "text": "Q: Title is not showing when uploading a video to TikTok via api A: <p>It seems their API doesn't support that for drafts/inbox still...</p>\n", "tags": ["javascript", "node.js", "tiktok"]}
{"id": "3465a4e3-9d55-4691-bee8-d2498e70e43b", "text": "Q: What is the best practice to write a Spring Boot class which deals with a REST API? A: <p>Before loom project (virtual threads), the actual prefered/recommended way to go was WebClient. The things you need to take into account:</p>\n<ul>\n<li><p>Do i you need a blocking vs non-blocking client?</p>\n</li>\n<li><p>Do you need to support streamming or backpresure?</p>\n</li>\n<li><p>Can I enable virtual threads in the service? (jvm 21 + soring boot v3.2+)</p>\n</li>\n</ul>\n<p>If you can enable vitual threads, then i would go with RestClient since it is less complex to configure and debug, virtual threads will help handling high concirrent scenarios.</p>\n<p>If you should decide between WebClient vs RestClient without virtual threads then think about the extra features for backpressure or streaming (e.g. Server side events or web sockets) you need, and if required then go with WebClient.</p>\n<p>Finally, if no fine grained configuration is required nor in a high concurrent scenarios, go with RestClient.</p>\n<p>About security, definetively use short live tokens. Makes attacker opportunity window small and also helps you by not rotate the acces token.</p>\n", "tags": ["spring-boot", "rest"]}
{"id": "197c4bbc-2284-4c72-a42e-be733b713a50", "text": "Q: How to move a folder package to another package without changing import manually? A: <p>Android Studio makes a difference on moving of packages depending on your appearance configuration. (Disclaimer: I reproduced this with IDEA Ultimate 2025.2.3 which is a sibling product of Android Studio. Also I used Linux and not Mac so I'm not describing any hotkeys etc.)</p>\n<p>You have a &quot;flattened&quot; appearance of your packages and folders where each package visually &quot;lives&quot; on the same level in the whole project structure. But you want to move one package within the tree of packages.</p>\n<p>Example tree flattened:</p>\n<p><a href=\"https://i.sstatic.net/8P0N1zTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8P0N1zTK.png\" alt=\"screenshot of package tree in flattened mode\" /></a></p>\n<p>In the flattened view the <em>Move</em> refactoring works IMHO counter-intuitive. In that view I would recommend the <em>Rename</em> refactoring instead of <em>Move</em> - but this could leave remaining empty packages, while it should still work fine for the contained classes.</p>\n<p>To get a probably more intuitive way of moving packages I would recommend that you set the &quot;non-flat&quot; appearance of packages like this:</p>\n<p><a href=\"https://i.sstatic.net/zODLFUJ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/zODLFUJ5.png\" alt=\"screenshot of opened project sidebar appearance configuration menu\" /></a></p>\n<p>Go to the three-dot menu in the <em>Project</em> sidebar (it only appears when you hover the mouse over the sidebar), pick <em>Appearance &gt;</em> and de-select <em>Flatten Packages</em>. You will get a tree display of your packages where levels that are not &quot;actively used&quot; still are flattened.</p>\n<p>Example non-flattened:</p>\n<p><a href=\"https://i.sstatic.net/CbQAcacr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/CbQAcacr.png\" alt=\"screenshot of package tree in non-flattened mode\" /></a></p>\n<p>In the non-flattened view you can then pick the package you want to move and either drag-and-drop it with the mouse to the target package or use the <em>Move</em> refactoring in a more intuitive way.</p>\n", "tags": ["android-studio"]}
{"id": "beff3ec6-dab3-4d21-b1fe-7e3fa1a970ba", "text": "Q: Cannot install Tensorflow GPU on Win 11 A: <p>On the other hand: there is no reason why you should use the older version 12.3 - why not the newest version 13.1?</p>\n<p>Try:</p>\n<pre><code>conda create --name tf_gpu_py312 python=3.12 -y\nconda activate tf_gpu_py312\nconda install -c conda-forge cudatoolkit cudnn -y  # use the newest versions\npip install tensorflow                             # use the newest version\npython -c &quot;import tensorflow as tf; print('TF',tf.__version__); print('Built with CUDA:', tf.test.is_built_with_cuda()); print('GPUs:', tf.config.list_physical_devices('GPU'))&quot;\n</code></pre>\n", "tags": ["python", "tensorflow", "cuda", "anaconda"]}
