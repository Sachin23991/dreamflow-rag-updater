{"id": "5b381686-9dc9-4dac-8075-240682a42569", "text": "Q: How to use index in simple select A: <p>PostgreSQL is <strong>not using the index by mistake</strong> \u2014 it is choosing a <strong>Sequential Scan because it believes it is cheaper</strong>. However, in your case, that cost estimation is misleading due to several important factors.</p>\n<hr />\n<h2>Main issue: <code>CHAR(100)</code> usage</h2>\n<pre><code>nimi character(100)\n</code></pre>\n<p><code>CHAR(n)</code> (bpchar) is <strong>fixed-length</strong> and PostgreSQL <strong>right-pads values with spaces</strong>.</p>\n<p>Example:</p>\n<pre><code>'John' \u2192 'John\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7'\n</code></pre>\n<p>This causes:</p>\n<ul>\n<li><p>Poor statistics</p>\n</li>\n<li><p>Wrong selectivity estimates</p>\n</li>\n<li><p>Planner thinking the index is ineffective</p>\n</li>\n</ul>\n<p>\ud83d\udc49 <strong>Using <code>CHAR(n)</code> is strongly discouraged in PostgreSQL.</strong></p>\n<h3>Fix</h3>\n<pre><code>ALTER TABLE firma2.klient\nALTER COLUMN nimi TYPE varchar(100)\nUSING rtrim(nimi);\n\n-- or better\nALTER COLUMN nimi TYPE text\nUSING rtrim(nimi);\n</code></pre>\n<p>Then:</p>\n<pre><code>DROP INDEX klient_nimi_idx;\n\nCREATE INDEX klient_nimi_idx\nON firma2.klient (nimi);\n\nANALYZE firma2.klient;\n</code></pre>\n<p>After this, PostgreSQL will use <strong>Index Scan</strong>.</p>\n<hr />\n<h2><code>SELECT *</code> makes index scans expensive</h2>\n<p>Execution plan shows:</p>\n<pre><code>width=4002\n</code></pre>\n<p>Meaning <strong>4 KB per row</strong>.</p>\n<p>Planner logic:</p>\n<blockquote>\n<p>\u201cIf I must fetch the entire row anyway, sequential scan is cheaper than index lookup + heap fetch.\u201d</p>\n</blockquote>\n<h3>Test:</h3>\n<pre><code>EXPLAIN ANALYZE\nSELECT kood\nFROM firma2.klient\nWHERE nimi = 'John';\n</code></pre>\n<p>You\u2019ll likely see <strong>Index Scan</strong>.</p>\n<hr />\n<h2>Column statistics are insufficient</h2>\n<p>Default <code>statistics_target = 100</code> may not be enough.</p>\n<pre><code>ALTER TABLE firma2.klient\nALTER COLUMN nimi SET STATISTICS 1000;\n\nANALYZE firma2.klient;\n</code></pre>\n<hr />\n<h2>Force index usage (testing only)</h2>\n<p>\u26a0\ufe0f For testing purposes only.</p>\n<pre><code>SET enable_seqscan = off;\n\nEXPLAIN ANALYZE\nSELECT * FROM firma2.klient\nWHERE nimi = 'John';\n</code></pre>\n<p>If the index is used here, the problem is <strong>planner cost estimation</strong>, not the index.</p>\n", "tags": ["sql", "postgresql", "search", "indexing", "binary-search-tree"]}
{"id": "4b417141-a26d-446d-9395-1c0aef5d957b", "text": "Q: Take in multiple numeric inputs and sum in javascript automatically when input is changed A: <p>Your code is pretty close to achieving what you need, you've just made a slight mistake: you've put the <em>listener</em> on the wrong element (<strong>findiv</strong>), when you should have put it on the elements you expect to change, those belonging to the <strong>.fin</strong> class.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>```\nlet finished = document.querySelectorAll( \".fin\" );\nlet unfinished = document.querySelectorAll(\".unfin\");\nlet findiv = document.getElementById(\"fsqfeet\");\nlet finTotal = 0;\nlet unfinTotal = 0;\n\nfor( let element of finished ) {\n  element.addEventListener( \"change\", function() {\n// redundant\n// finished = document.querySelectorAll(\".fin\");\nfor( let fin of finished ) {\n  console.log( Number( fin.value ));\n  finTotal += Number( fin.value );\n}\n  });\n}\n```</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>```\n\n&lt;form action=\"/action_page.php\" &gt;\n\n&lt;fieldset&gt;\n&lt;legend&gt;Square Footage Statistics:&lt;/legend&gt;\n&lt;table&gt;\n  &lt;tr&gt;\n&lt;th&gt;Location&lt;/th&gt;\n&lt;th&gt;Square Feet&lt;/th&gt;\n&lt;th&gt;Previous Sq Feet&lt;/th&gt;\n&lt;th&gt;Notes&lt;/th&gt;\n  &lt;/tr&gt;\n  \n&lt;div id=\"fsqfeet\"&gt;\n  &lt;tr&gt;\n&lt;th&gt;First Floor:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"fin\" id=\"ffsf\" min=\"0\" value=\"2000\" autofocus&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Second Floor:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"fin\" id=\"sfsf\" min=\"0\" value=\"560\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Total Finished Sq Feet:&lt;/th&gt; \n&lt;td&gt;&lt;output name=\"totalfinished\"&gt;&lt;/output&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/div&gt;\n  \n  &lt;tr&gt;\n&lt;th&gt;Garage:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"unfin\" id=\"gsf\" min=\"0\" value=\"200\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Covered Front Porch:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"unfin\" id=\"cfp\" min=\"0\" value=\"563\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Covered Back Porch:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"unfin\" id=\"cbp\" min=\"0\" value=\"80\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Covered Side Porch:&lt;/th&gt;\n&lt;td&gt;&lt;input type=\"number\" class=\"unfin\" id=\"csp\" min=\"0\" value=\"90\"&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Total Unfinished Sq Feet:&lt;/th&gt;\n&lt;td&gt;&lt;output name=\"totalunfinished\"&gt;&lt;/output&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n&lt;th&gt;Grand Total Sq Feet:&lt;/th&gt;\n&lt;td&gt;&lt;output name=\"gtsf\" for=\"tusf thsf\"&gt;&lt;/output&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;\n```</code></pre>\n</div>\n</div>\n</p>\n", "tags": ["javascript", "addeventlistener", "onchange"]}
{"id": "6427f877-9289-4875-8e72-cbdffd5c2748", "text": "Q: Model properties are not populating on form submission in my ASP.NET Core MVC mini project A: <p>Since you are using <code>asp-for</code> tag helper, you need the <code>@model</code> on the top of <em>Index.cshtml</em></p>\n<pre><code>@model WebApplication1.Models.FutureValueModel\n</code></pre>\n<hr />\n<p>Well, usually when using the <code>asp-for</code> tag helper without the <code>@model</code>, you will get the following compilation error:</p>\n<blockquote>\n<p>CS1963: An expression tree may not contain a dynamic operation</p>\n</blockquote>\n<p>as the screenshot below:</p>\n<p><a href=\"https://i.sstatic.net/65f5eriB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/65f5eriB.png\" alt=\"Compilation error for asp-for without @model\" /></a></p>\n<p>If you are not getting the mentioned compilation error, I suspect that this line:</p>\n<pre><code>@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers\n</code></pre>\n<p>is missing in the <em>Views/_ViewImports.cshtml</em>.</p>\n<p>Make sure you have added the <code>@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers</code> in the <em>Views/_ViewImports.cshtml</em>.</p>\n", "tags": ["asp.net-core-mvc"]}
{"id": "9bfd516b-8b65-423e-b05c-4586be75364e", "text": "Q: Compose: How to have ime padding and Scaffold padding with edge-to-edge and windowSoftInputMode is adjustResize A: <p>The accepted answer works, but it's not working properly when edge to edge is enabled. The fix is very simple, I'm taking the code snippet from your code</p>\n<pre><code>   MyComposeApplicationTheme {\n                Scaffold(\n                    topBar = {\n                        TopAppBar(\n                            title = { Text(text = stringResource(id = R.string.app_name)) }\n                        )\n                    },\n                ) { scaffoldPadding -&gt;\n                    Box(\n                        modifier = Modifier\n                            .fillMaxSize()\n                            .padding(scaffoldPadding),\n                            .consumeWindowInsets(scaffoldPadding) //Here we will consume the windowInsets. And hence there won't be any padding when keyboard is open.\n                            .imePadding(), // This is very important as well, other wise the scroll won't work when the keyboard is shown\n                        contentAlignment = Alignment.BottomCenter\n                    ) {\n                        OutlinedTextField(\n                            value = &quot;&quot;,\n                            onValueChange = {},\n                            modifier = Modifier\n                                .fillMaxWidth()\n                                .padding(horizontal = 16.dp)\n                        )\n                        Divider()\n                    }\n                }\n</code></pre>\n<p>and have added these 2 lines</p>\n<pre><code>.consumeWindowInsets(scaffoldPadding)\n</code></pre>\n<pre><code>.imePadding()\n</code></pre>\n<p>both are required, otherwise it won't work as expected in some scenarios.</p>\n", "tags": ["android", "material-design", "android-jetpack-compose", "edge-to-edge"]}
{"id": "733b3944-473e-4fb8-888d-3e527dc0d741", "text": "Q: Set value in a datagridview cell programmatically A: <pre><code>DataGridViewTextBoxColumn column = new DataGridViewTextBoxColumn();\ncolumn.Name = \"DeclaredBy\";\ncolumn.HeaderText = \"DeclaredBy\";\ndataGridView1.Columns.Add(column);\ndataGridView1.Rows.Add(\"test value\");\ndataGridView1.Rows[0].Cells[\"DeclaredBy\"].Value = \"changed test value\";\n</code></pre>\n\n<p>This is working. Try on newly created <code>DataGridView</code>, without any columns at all. If that will work, probably you made some changes on your <code>DataGridView</code> that disallow changing value. Ofc, when you run this, you will see only <code>\"changed test value\"</code>, but this is also working, when the last line is under another button. Another possible solution is that maybe your <code>i</code> is not the one you want to.</p>\n", "tags": ["c#", "datagridview"]}
{"id": "3cc9d14a-94e4-4fa8-92e0-e9ce3f3e598a", "text": "Q: How to convert webelement to string in selenium using java? Please refers to detail section for more info A: <p>The below given answer is useful.</p>\n<pre><code>String expectedSearchText = drivers.findElement(By.xpath(&quot;//h1[contains(text(),'latest')]&quot;)).getText();\n</code></pre>\n", "tags": ["java", "selenium", "xpath"]}
{"id": "e8b50153-1176-4ad9-8f2c-e9a78a5e6c6a", "text": "Q: Import error: No module named jsonpickle A: <p>I fixed the error installing the next</p>\n<pre><code>pip install jsonpickle\n</code></pre>\n", "tags": ["python", "google-app-engine", "jsonpickle"]}
