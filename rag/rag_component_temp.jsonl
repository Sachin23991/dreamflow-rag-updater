{"id": "168fb6e8-9965-4463-9651-5166ada65691", "text": "Q: C++ template parameter packs for math functions A: <p>You don't actually need a specialization for one argument.</p>\n<p>You can use the <a href=\"https://en.cppreference.com/w/cpp/language/fold.html\" rel=\"nofollow noreferrer\">fold-expression</a> syntax to calculate the average in the following way:</p>\n<p>To get the sum of arguments use: <code>(... + args)</code>.<br />\nTo get the number of arguments use: <code>sizeof...(args)</code>.</p>\n<p>Put together:</p>\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;typename... Args&gt;\nauto average(Args... args) {\n    if constexpr (sizeof...(args) == 0) {\n        return 0.0;\n    }\n    auto sum = (... + args);\n    return static_cast&lt;double&gt;(sum) / sizeof...(args);\n}\n\nint main() {\n    std::cout &lt;&lt; average(10, 20, 30, 40) &lt;&lt; &quot;\\n&quot;;\n    std::cout &lt;&lt; average(33) &lt;&lt; &quot;\\n&quot;;\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>25\n33\n</code></pre>\n<p><a href=\"https://godbolt.org/z/1xzxG3Gcr\" rel=\"nofollow noreferrer\">Live demo</a></p>\n", "tags": ["c++", "templates", "variadic-templates", "parameter-pack"]}
{"id": "2fdc7600-d8b8-4c9e-b0f6-4747d99a8d0c", "text": "Q: How can I format a number with commas as thousands separators? A: <h3>Universal, fast, accurate, simple function</h3>\n<ul>\n<li>Using RegEx (fast and accurate)</li>\n<li>Support numbers (float/integer), string, and multiple numbers in a string</li>\n<li>Smart well (not grouping decimals - compatible with different types of groupings)</li>\n<li>Support all browsers, specially <a href=\"https://en.wikipedia.org/wiki/Safari_%28web_browser%29\" rel=\"nofollow noreferrer\">Safari</a>, <a href=\"https://en.wikipedia.org/wiki/Internet_Explorer\" rel=\"nofollow noreferrer\">Internet\u00a0Explorer</a>, and many older browsers</li>\n<li>[Optional] respecting non-English (<strong>Persian</strong>/<strong>Arabic</strong>) digits (+ prefix)</li>\n</ul>\n<h5>TL;DR - Full version function (minified):</h5>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// num: Number/s (String/Number),\n// sep: Thousands separator (String) - Default: ','\n// dec: Decimal separator (String) - Default: '.' (Just one char)\n// u: Universal support for languages characters (String - RegEx character set / class) - Example: '[\\\\d\\\\u0660-\\\\u0669\\\\u06f0-\\\\u06f9]' (English/Persian/Arabic), Default: '\\\\d' (English)\n\nfunction formatNums(num,sep,dec,u){sep=sep||',';u=u||'\\\\d';if(typeof num!='string'){num=String(num);if(dec&amp;&amp;dec!='.')num=num.replace('.',dec);}return num.replace(RegExp('\\\\'+(dec||'.')+u+'+|'+u+'(?=(?:'+u+'{3})+(?!'+u+'))','g'),function(a){return a.length==1?a+sep:a})}\n\ntext='100000000 English or Persian/Arabic \u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9/\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669 this is 123123123.123123123 with this -123123 and these 10 100 1000 123123/123123 (2000000) .33333 100.00 or any like 500000Kg';\n\nconsole.log(formatNums(10000000.0012));\nconsole.log(formatNums(10000000.0012,'.',',')); // German\nconsole.log(formatNums(text,',','.','[\\\\d\\\\u0660-\\\\u0669\\\\u06f0-\\\\u06f9]')); // Respect Persian/Arabic digits</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input oninput=\"document.getElementById('result').textContent=formatNums(this.value)\" placeholder=\"Type a number here\"&gt;\n&lt;div id=\"result\"&gt;&lt;/div&gt;</code></pre>\n</div>\n</div>\n</p>\n<h4>Why are we <em>not</em> satisfied with the other answers?</h4>\n<ul>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\">Number.prototype.toLocaleString()</a> / <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat\" rel=\"nofollow noreferrer\">Intl.NumberFormat</a>\n(Right answer)</p>\n<ul>\n<li><p>If no well arguments, <strong>we can't expect same result</strong>. Also with arguments options, we still can't be sure what can the result be, because it will use local settings and possible client modifications effect on it or the browser/device not support it.</p>\n</li>\n<li><p><strong>&gt;~2016 browsers support</strong> and still in 2021 some reports that in some cases like Safari or Internet\u00a0Explorer/<a href=\"https://en.wikipedia.org/wiki/Microsoft_Edge\" rel=\"nofollow noreferrer\">Edge</a> do not return as expected.</p>\n</li>\n<li><p><code>toLocaleString()</code> works with numbers, <code>Intl.NumberFormat</code> works with string and numbers; strings will be/have to be parsed and also rounded if necessary, so:</p>\n<ul>\n<li><p>If we already have a localized string with non-English digits, we have to replace numbers with the English ones, then parse it, and then use it again with the local options. (If it returns what we expect)</p>\n</li>\n<li><p>Generally, while parsing, we can\u2019t expect not <code>missing decimal zeros</code> or details in <code>big numbers</code> or respecting <code>other languages numeral characters</code></p>\n</li>\n</ul>\n</li>\n<li><p>Decimal / thousand separator characters can not be customized more than language options, except with post-fixings with replace() + RegEx again. <em>(For example, in Persian usually we don't use the suggested Arabic comma and also sometime we use <code>\u2215</code> Fraction/Division slash as decimal separator)</em></p>\n</li>\n<li><p>Slow performance in loops</p>\n</li>\n</ul>\n</li>\n<li><p>Not so good RegEx ways (fastest and one-liner ways)</p>\n<ul>\n<li><p><code>/\\B(?=(\\d{3})+\\b)/</code> it will group decimals too. <code>// 123,123.123,123 !!!</code></p>\n</li>\n<li><p><code>/(?&lt;!\\.\\d+)\\B(?=(\\d{3})+\\b)/</code> used <strong>look-behind</strong> that not supported well yet. Please check:\n<a href=\"https://caniuse.com/js-regexp-lookbehind\" rel=\"nofollow noreferrer\">https://caniuse.com/js-regexp-lookbehind</a>\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#browser_compatibility\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#browser_compatibility</a>\nNote: Generally lookbehind can be against of original RegEx structure <em>(because of how the analyzer should work like do not buffer the raw behind as a parser)</em> and actually it can make the performance seriously low (In this case ~30%). <em>I think it pushed inside over the time by requests.</em></p>\n</li>\n<li><p><code>/\\B(?=(?=\\d*\\.)(\\d{3})+(?!\\d))/</code> just work with float numbers and ignore integers.</p>\n</li>\n<li><p><code>.replace(/(?:[^.\\d]|^)\\d+/g,function(a){return a.replace(/\\B(?=(?:\\d{3})+\\b)/g,',');})</code> <strong>(My old idea)</strong> Using 2 RegEx. First one find the integer parts, second one put separator. Why 2 functions, when it can be mixed?</p>\n</li>\n<li><p><code>/(\\..*)$|(\\d)(?=(\\d{3})+(?!\\d))/g</code> (Good idea by <a href=\"https://stackoverflow.com/users/4490816/\">@djulien</a> - i voted up) but when the RegEx is global, <code>(\\..*)$</code> it can make a mistake even with a space in end.\nAlso using capturing groups <em>(Example: <code>(\\d)</code>)</em> will make the performance low so if it possible, use non-capturing groups <em>(Example: <code>(?:\\d)</code>)</em> or if an statement already exist in our function let's mix it.</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>In this case, not using capturing groups improve performance about ~20% and in case of <code>/\\B(?=(\\d{3})+\\b)/g</code> vs <code>/\\B(?=(?:\\d{3})+\\b)/g</code>, the second one is ~8% faster.</p>\n<p>About regex performances:</p>\n<p><a href=\"https://i.sstatic.net/obD7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/obD7I.png\" alt=\"https://jsben.ch/HUmDA\" /></a></p>\n<p><em>Note: Sure different methods, browsers, hardware, system status, cases and even changes on ECMAScript will effect on result of checking performance. But some changes logically should effect result and i used this one just as visual example.</em></p>\n<ul>\n<li><p>Using library's like <a href=\"https://github.com/adamwdraper/Numeral-js\" rel=\"nofollow noreferrer\">Numeral.js</a> <strong>so much not necessary functions</strong> for a simple task.</p>\n</li>\n<li><p>Heavy code / <strong>Not accurate</strong> functions that used <code>.split('.')</code> or <code>.toFixed()</code> or <code>Math.floor()</code> ...</p>\n</li>\n</ul>\n<hr />\n<h3>Final result:</h3>\n<p>There isn\u2019t any best of all, and it should be chosen based on the need. My priority of sorting;</p>\n<ol>\n<li><p>Compatibility</p>\n</li>\n<li><p>Capability</p>\n</li>\n<li><p>Universality</p>\n</li>\n<li><p>Ease of use</p>\n</li>\n<li><p>Performance</p>\n</li>\n</ol>\n<h4><code>toLocaleString()</code> (Compatibility - Universality) [Native function]</h4>\n<ul>\n<li><p>If you have to change digits and grouping from English to another language</p>\n</li>\n<li><p>If you are not sure about your client language</p>\n</li>\n<li><p>If you don't need to have exact expected result</p>\n</li>\n<li><p>If you don't care about older version of Safari</p>\n</li>\n</ul>\n<pre><code>// 1000000.2301\nparseFloat(num) // (Pre-fix) If the input is string\n    .toLocaleString('en-US', {\n        useGrouping: true // (Default is true, here is just for show)\n    });\n// 1,000,000.23\n</code></pre>\n<p>Read more: <em><a href=\"https://www.w3schools.com/jsref/jsref_tolocalestring_number.asp\" rel=\"nofollow noreferrer\">JavaScript Number toLocaleString()</a></em></p>\n<h4><code>Intl.NumberFormat()</code> (Capability - Universality - Compatibility) [Native function]</h4>\n<p>Almost same as <code>toLocaleString()</code> +</p>\n<ul>\n<li>Great capability of supporting currency, units, etc... any language <strong>(Modern browsers)</strong></li>\n</ul>\n<pre><code>// 1000000.2301\nnew Intl.NumberFormat('en-US', { // It can be 'fa-IR' : Farsi - Iran\n    numberingSystem: 'arab'\n}).format(num)\n// \u0661\u066c\u0660\u0660\u0660\u066c\u0660\u0660\u0660\u066b\u0662\u0663\n</code></pre>\n<p>Read more: <em><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat\" rel=\"nofollow noreferrer\">Intl.NumberFormat() constructor</a></em></p>\n<p>With these much options of the native functions, we still can not expect:</p>\n<ul>\n<li><p>Exact result (+ Not parsing the input / Not rounding / Not converting big numbers)</p>\n</li>\n<li><p>Accepting other languages digits as input</p>\n</li>\n<li><p>Customizing separators</p>\n</li>\n<li><p>Trusting browsers support</p>\n</li>\n<li><p>Performance</p>\n</li>\n</ul>\n<p>So you maybe need a function like any of these:</p>\n<h4><code>formatNums()</code> (Compatibility - Ease of use)</h4>\n<p><strong>Full version (Capability)</strong> <em>(Not faster than toLocaleString)</em> - Explain:</p>\n<pre><code>function formatNums(num, sep, dec, u) {\n    // Setting defaults\n    sep = sep || ','; // Seperator\n    u = u || '\\\\d'; // Universal character set \\d: 0-9 (English)\n    // Mixing of Handeling numbers when the decimal character should be changed + Being sure the input is string\n    if (typeof num != 'string') {\n        num = String(num);\n        if (dec &amp;&amp; dec != '.') num = num.replace('.', dec); // Replacing sure decimal character with the custom\n    }\n    //\n    return num.replace(RegExp('\\\\' + (dec || '.') + u + '+|' + u + '(?=(?:' + u + '{3})+(?!' + u + '))', 'g'),\n        // The RegEx will be like /\\.\\d+|\\d(?=(?:\\d{3})+(?!\\d))/g if not be customized\n        // RegEx explain:\n        // 1) \\.\\d+  :  First try to get any part that started with a dot and followed by any much of English digits, one or more (For ignoring it later)\n        // 2) |  :  Or\n        // 3) \\d  :  Get any 1 char digit\n        // 3.1) (?=...)  :  That the next of that should be\n        // 3.2) (?:\\d{3})  :  3 length digits\n        // 3.2.1) +  :  One or more of the group\n        // 3.3) (?!\\d)  :  ...till any place that there is no digits\n        function(a) { // Any match can be the decimal part or the integer part so lets check it\n            return a.length == 1 ? a + sep : a // If the match is one character, it is from the grouping part as item (3) in Regex explain so add the seperator next of it, if not, ignore it and return it back.\n        })\n}\n</code></pre>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function formatNums(num,sep,dec,u) {\n    sep=sep||',';\n    u=u||'\\\\d';\n    if(typeof num!='string') {\n        num=String(num);\n        if( dec &amp;&amp; dec!='.') num=num.replace('.',dec);\n    }\n    return num.replace(RegExp('\\\\'+(dec||'.')+u+'+|'+u+'(?=(?:'+u+'{3})+(?!'+u+'))','g'),function(a) {return a.length==1 ? a+sep : a})\n}\nconsole.log(formatNums(1000000.2301));\nconsole.log(formatNums(100.2301));\nconsole.log(formatNums(-2000.2301));\nconsole.log(formatNums(123123123,' , '));\nconsole.log(formatNums('0000.0000'));\nconsole.log(formatNums('5000000.00'));\nconsole.log(formatNums('5000000,00',' ',','));\nconsole.log(formatNums(5000000.1234,' ',','));\nconsole.log(formatNums('\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9/\u06f9\u06f0\u06f0\u06f0',',','/','[\\\\d\\\\u0660-\\\\u0669\\\\u06f0-\\\\u06f9]'));</code></pre>\n</div>\n</div>\n</p>\n<p>Play with the examples here:\n<a href=\"https://jsfiddle.net/PAPIONbit/198xL3te/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/PAPIONbit/198xL3te/</a></p>\n<p><strong>Light version (performance)</strong> <em>(~30% faster than toLocaleString)</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function formatNums(num,sep) {\n    sep=sep||',';\n    return String(num).replace(/\\.\\d+|\\d(?=(?:\\d{3})+(?!\\d))/g,\n        function(a) {\n            return a.length==1?a+sep:a\n        }\n    );\n}\nconsole.log(formatNums(1000000.2301));\nconsole.log(formatNums(100.2301));\nconsole.log(formatNums(-2000.2301));\nconsole.log(formatNums(123123123,' '));</code></pre>\n</div>\n</div>\n</p>\n<p>Check the RegEx (Without the necessary function) : <a href=\"https://regexr.com/66ott\" rel=\"nofollow noreferrer\">https://regexr.com/66ott</a></p>\n<h4><code>(num+'').replace(/\\B(?=(?:\\d{3})+\\b)/g,',');</code> (Performance - Compatibility)</h4>\n<p>Best choose if The input is Specified / Predefined. (Like usual prices that sure will not have more than 3 decimals)\n<em>(~65% faster than toLocaleString)</em></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>num=1000000;\nstr='123123.100';\nconsole.log((num+'').replace(/\\B(?=(?:\\d{3})+\\b)/g,','));\nconsole.log(str.replace(/\\B(?=(?:\\d{3})+\\b)/g,','));</code></pre>\n</div>\n</div>\n</p>\n<p><strong>+</strong></p>\n<h5>For Persian/Arabic local clients:</h5>\n<p>If your client going to use Persian/Arabic numbers for input as what is usual in Iran, I think the best way is instead of keeping the original characters, convert them to English before you deal with, to you can calculate it.</p>\n<pre><code>// \u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0\nfunction toEnNum(n) { // Replacing Persian/Arabic numbers character with English\n    n.replace(/[\\u0660-\\u0669\\u06f0-\\u06f9]/g, // RegEx Unicode range Persian/Arabic numbers char\n        function(c) {\n            return c.charCodeAt(0) &amp; 0xf; // Replace the char with real number by getting the binary index and breaking to lowest using 15\n        }\n    );\n}\n// 1234567890\n</code></pre>\n<p>And for still showing them as original looking, there are two ways:</p>\n<ul>\n<li><p><strong>CSS</strong> Using Persian/Arabic fonts with local digits (My choose)</p>\n</li>\n<li><p>Convert the result back with <code>Intl.NumberFormat</code> or a function like:  <em><a href=\"https://stackoverflow.com/questions/13757310/numbers-localization-in-web-applications/13787021#13787021\">Numbers localization in Web applications</a></em></p>\n</li>\n</ul>\n<hr />\n<p><strong>My old school function</strong> on this post: <em>(~15% faster than toLocalString)</em></p>\n<pre><code>// 10000000.0012\nfunction formatNums(n, s) {\n    return s = s || &quot;,&quot;, String(n).\n    replace(/(?:^|[^.\\d])\\d+/g, // First, this RegEx takes just the integer parts\n        function(n) {\n            return n.replace(/\\B(?=(?:\\d{3})+\\b)/g, s);\n        })\n}\n// 10,000,000.0012\n</code></pre>\n", "tags": ["javascript", "formatting", "numbers"]}
{"id": "3dec200d-bd90-473f-beb3-90db716f3729", "text": "Q: Regex - basic string replacement A: <ul>\n<li>Use a regex pattern like <code>\\b((?&lt;Prefix&gt;auroraa1)(?&lt;Emote&gt;\\w+))\\b</code> to match strings like &quot;<code>auroraa1Smile</code>&quot; and to extract the <code>auroraa1</code> and <code>Smile</code> sub-strings.</li>\n<li>The <code>Regex.Replace</code> method has an overload that accepts a <code>MatchEvaluator</code> callback function; the callback is invoked for each  matched &quot;<code>auroraa1{Emote}</code>&quot; in the input string to get the replacement string.</li>\n<li>So your <code>MatchEvaluator</code> function would get the <code>Emote</code> sub-string and see if it equals any of your declared examples (i.e. <code>&quot;Smile&quot;</code>, <code>&quot;Bye&quot;</code> or <code>&quot;Love&quot;</code>), and if so, returns the <code>&quot;[remote:1234...]&quot;</code> string you want to use as the replacement.</li>\n</ul>\n<p>Like so:</p>\n<p><a href=\"https://dotnetfiddle.net/YT2878\" rel=\"nofollow noreferrer\">DotNetFiddle here</a>.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>using System;\nusing System.Diagnostics;\nusing System.Text.RegularExpressions;\n                    \npublic class Program\n{\n    public static void Main()\n    {\n        const String INPUT = @&quot;\nHello Aurora! auroraa1Smile  How are you?\n\nHello Aurora! auroraa1Bye Go away!\n\nHello Aurora! Life is short and auroraa1Love is always over in the morning. \ud83d\ude36\n&quot;;\n\n        Regex regex = new Regex( @&quot;\\b((?&lt;Prefix&gt;auroraa1)(?&lt;Emote&gt;\\w+))\\b&quot;, RegexOptions.Compiled );\n\n        String output = regex.Replace( input: INPUT, OnAuroraa1Matched );\n\n        Console.WriteLine( output );\n    }\n\n    private static String OnAuroraa1Matched( Match m )\n    {\n        Debug.Assert( m.Captures.Count == 1 );\n\n        String all    = m.Value;                    // `all    == &quot;auroraa1Smile&quot;`\n        String prefix = m.Groups[ &quot;Prefix&quot; ].Value; // `prefix == &quot;auroraa1&quot;`\n        String emote  = m.Groups[ &quot;Emote&quot;  ].Value; // `emote  == &quot;Smile&quot;`\n\n        //\n\n        if( &quot;Smile&quot;.Equals( emote, StringComparison.Ordinal ) )\n        {\n            String replacement = &quot;[emote:4771491:auroraangel79Smile]&quot;;\n            return replacement;\n        }\n        else if( &quot;Bye&quot;.Equals( emote, StringComparison.Ordinal ) )\n        {\n            String replacement = &quot;[emote:123456:auroraangel79Byte]&quot;;\n            return replacement;\n        }\n        else if( &quot;Love&quot;.Equals( emote, StringComparison.Ordinal ) )\n        {\n            String replacement = &quot;[emote:54321:auroraangel79Love]&quot;;\n            return replacement;\n        }\n        else\n        {\n            return all;\n        }\n    }\n}\n</code></pre>\n<p>Gives me this output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello Aurora! [emote:4771491:auroraangel79Smile]  How are you?\n\nHello Aurora! [emote:123456:auroraangel79Byte] Go away!\n\nHello Aurora! Life is short and [emote:54321:auroraangel79Love] is always over in the morning. \ud83d\ude36\n</code></pre>\n", "tags": ["c#", "regex"]}
{"id": "4ac5cde1-0405-4f4e-9c52-88ddc1aa785b", "text": "Q: CSS box model: where does content start, where does it end, and when does overflow occur? A: <p>Box model is describet <a href=\"https://developer.mozilla.org/en-US/docs/Learn_web_development/Core/Styling_basics/Box_model#parts_of_a_box\" rel=\"nofollow noreferrer\">here</a>. <em>Content</em> is content without any padding, so it will start at the right side of padding box.</p>\n<p>For wider child elements - it will start/end on how you define box model. If content does not include padding - it will end before padding.</p>\n", "tags": ["css"]}
{"id": "c41597a1-9ec0-44fe-a8d3-dc65ea1731a7", "text": "Q: How do you pass post form variables in ASP.NET C#/Razor? A: <p>in Input Type \"submit add formaction=\"ActionMethodName\"</p>\n\n<pre><code> @using (Html.BeginForm(\"MethodName\", \"ControllerName\", FormMethod.Post, new { enctype = \"multipart/form-data\" }))\n   {\n        &lt;input type=\"file\" name=\"postedFile\"/&gt;\n        &lt;input type=\"submit\"  **formaction=\"UploadData\"** value=\"UploadData\"/&gt;\n\n   }\n</code></pre>\n", "tags": ["c#", "asp.net", "forms", "post", "razor"]}
{"id": "327ab9b8-3daa-43a7-9ea9-be177ca86a00", "text": "Q: The remote server returned an error: (401) Unauthorized when requesting RestApi data A: <p>Your requirements reference a required accept value of:</p>\n<blockquote>\n<p>&quot;Accept:application/vnd.###.v1.0+json&quot;</p>\n</blockquote>\n<p>but your code references</p>\n<blockquote>\n<p>&quot;application/vnd.###.v2.0+json&quot;.</p>\n</blockquote>\n<p>Are you sure you're not just correctly getting a 401 response for calling the wrong version of the API?</p>\n", "tags": ["c#", "asp.net"]}
{"id": "f48d6540-cf84-43e2-ae95-419eb701cbc5", "text": "Q: Normalization of rgb images A: <p>Your code looks good. but two a few things. The error at the end is a typo <code>unit8</code> should be <code>uint8</code> also, because the image is normalized, the values should be between 0 and 1, so you should probably multiply them by 255</p>\n\n<pre><code>figure; imshow(uint8(255*new_image1));\n</code></pre>\n\n<p>I'm also not sure where you got your normalizing equations from. The pixel values should be</p>\n\n<pre><code>  rgb_sum = Red + Green + Blue;\n  NormalizedRed = Red/rgb_sum;\n  NormalizedGreen = Green/rgb_sum;\n  NormalizedBlue = Blue/rgb_sum;\n</code></pre>\n\n<p>because in the normalized space <code>R + B + G = 1</code> for every pixel. Running this simple code we can see that using the sqrt(sum of squares) doesn't obey the normalization</p>\n\n<pre><code>%sums the normalizes R,G,B values for all pixels\nflat = sum(new_image1,3);\nmin(flat(:))\nmax(flat(:))\n</code></pre>\n\n<p>For a true normalized RGB image, both min and max should be 1 (+- rounding errors) meaning all the color components add up to 1 for all elements. Using your code with the sqrt does not sum to 1 for every pixel</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Now that I better understand your question, you are trying to compare the two images (the red one and the grey one) and make them as similar as possible. I dont think there is a easy way to do this in RGB colorspace. One alternative is the YCbCr colorspace. Like RGB it has 3 channels they are <em>Luminance</em> (greyscale image)<em>red difference</em> and <em>blue difference</em> you will see that the luminance channel is nearly the same for both images. The real differences are in the color channels. Here is some sample code to show you what the YCbCrSpace looks like</p>\n\n<pre><code>sidebyside = [red_im,grey_im]; \n\n%converts to new colorspace\nYUVsidebyside = rgb2ycbcr(sidebyside);\n\n%display results\nfigure();\nsubplot(2,2,1);imshow(sidebyside);title('original images side by side');\nsubplot(2,2,2);imshow(YUVsidebyside(:,:,1));title('Luminance channel');\nsubplot(2,2,3);imshow(YUVsidebyside(:,:,2));title('Blue Difference channel');\nsubplot(2,2,4);imshow(YUVsidebyside(:,:,3));title('Red Differrence channel');\n</code></pre>\n\n<p><img src=\"https://i.sstatic.net/mxI4J.jpg\" alt=\"enter image description here\"></p>\n", "tags": ["image", "matlab", "image-processing"]}
{"id": "342b4964-5b6f-4958-b417-6d8843a1200f", "text": "Q: Hive queries fail when the hive.execution.engine is set to MR, they work when set to Tez? A: <p>It is true that <code>mr</code> is the <a href=\"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-QueryandDDLExecution\" rel=\"nofollow noreferrer\">default value</a>; however, please keep in mind that Hive 0.13.0 is being deprecated and &quot;It may be removed without further warning&quot;. Please consider that Tez and Spark are better options.</p>\n<p>On the other hand, the column <code>wind</code> doesn't exist in your schema. My best guess is that the exception <code>ArrayIndexOutOfBoundsException</code> menas that column <code>wind</code> was not found while Tez could ignore its inexistence and complete the query.</p>\n", "tags": ["hadoop", "hive", "hortonworks-data-platform"]}
