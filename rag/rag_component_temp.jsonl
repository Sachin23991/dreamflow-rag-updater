{"id": "b2dab364-be3e-4df3-88e1-d537f74ae012", "text": "Q: Fastest &quot;Get Duplicates&quot; SQL script A: <p>I try this way to find dup and dedup. as I do not want to keep the new column &quot;rn&quot; in my original table. IDK if this is the most efficient way!</p>\n<p>find dup:</p>\n<pre><code>select key1, key2, key3,count(1) \nfrom tabletable\ngroup by key1, key2, key3\nhaving count(1) &gt; 1\n</code></pre>\n<p>dedup :</p>\n<pre><code>\nselect *\nfrom table as A\ninner join \n(\n    select key1, key2, key3\n    ,row_number() over (partition by key1, key2, key3 order by key_1) as rn \n    from table \n) B\non A.key1 = B.key1 \nand A.key2 = B.key2 \nand A.key3 = B.key3\nwhere B.rn = 1\n</code></pre>\n", "tags": ["sql", "scripting", "duplicates", "performance"]}
{"id": "c59980a0-7354-4d3b-b6d6-a5b535ba460f", "text": "Q: How to calculate Depth Information from USB 3.0 Stereo Camera? A: <p>This code worked for my leopard imaging LI-USB30-V024 STEREO camera:</p>\n<pre><code>import cv2\nimport numpy as np\n\n# 1. Open with V4L2\ncap = cv2.VideoCapture(2, cv2.CAP_V4L2) #2 is my video location\n\n# 2. Stop OpenCV from converting to BGR\ncap.set(cv2.CAP_PROP_CONVERT_RGB, 0)\n\nwhile True:\n    ret, frame = cap.read()\n    if not ret:\n        break\n\n    # At this point, 'frame' is a raw buffer. \n    # Because it was 'YUYV' (16-bit per pixel), OpenCV likely \n    # shaped it as (H, W, 2).\n    \n    # Let's split the 16-bit &quot;YUYV&quot; pixel into two 8-bit images\n    # Frame[:, :, 0] is the 'Y' channel (Camera A)\n    # Frame[:, :, 1] is the 'U/V' channel (Camera B)\n    cam_a_raw = frame[:, :, 0]\n    cam_b_raw = frame[:, :, 1]\n\n    # Now you have two separate grayscale images from your two sensors\n    cv2.imshow('Sensor A (High 8-bit)', cam_a_raw)\n    cv2.imshow('Sensor B (Low 8-bit)', cam_b_raw)\n\n    if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n        break\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre>\n", "tags": ["python", "opencv", "openni", "stereo-3d"]}
{"id": "08f59582-b629-44a3-b927-b64dc200dfc7", "text": "Q: Do restrictions on statements in the global module fragment only apply to BEFORE preprocessing and not AFTER? A: <p>In terms of the language, <code>module</code> &quot;declarations&quot; in C++ are a bit weird. They are preprocessing directives, but they are also declarations that the C++ language understands. So modules are processed as part of preprocessing, but they leave behind C++ tokens (like many other preprocessing directives).</p>\n<p>During the preprocessing step, the preprocessor is able to look at the text between module directives like <code>module;</code> and <code>module name;</code>. Since this is still the preprocessing stage, it can see preprocessing directives. As such, the standard is able to make it ill-formed to have non-preprocessing directives within the space between those two kinds of module directives.</p>\n", "tags": ["c++", "c++-modules"]}
{"id": "30ae4de5-5221-4f2b-b0fd-6b9db883e284", "text": "Q: How can I run a diff-in-diff with fixed effects in Python? A: <p>We have a full vignette on difference-in-differences estimators for <a href=\"https://py-econometrics.github.io/pyfixest/pyfixest.html\" rel=\"nofollow noreferrer\">PyFixest</a>, which you can find <a href=\"https://py-econometrics.github.io/pyfixest/difference-in-differences.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>To fit a simple event study, you could run</p>\n<pre><code>import pandas as pd\nimport pyfixest as pf\nfrom pyfixest.report.utils import rename_event_study_coefs\nfrom pyfixest.utils.dgps import get_sharkfin\n\n%load_ext watermark\n%watermark --iversions\n%load_ext autoreload\n%autoreload 2\n\npandas  : 2.3.3\npyfixest: 0.40.1\n# one-shot adoption data - parallel trends is true\ndf_one_cohort = get_sharkfin()\ndf_one_cohort.head()\n\n# get the ATT \nfit_static_twfe = pf.feols(\n    &quot;Y ~ treat | unit + year&quot;,\n    df_one_cohort,\n    vcov={&quot;CRV1&quot;: &quot;unit&quot;},\n)\nfit_static_twfe.summary()\n\n# full event study estimate\nfit_dynamic_twfe = pf.feols(\n    &quot;Y ~ i(year, ever_treated,  ref = 14) | unit + year&quot;,\n    df_one_cohort,\n    vcov={&quot;CRV1&quot;: &quot;unit&quot;},\n)\n\nfit_dynamic_twfe.iplot(\n    coord_flip=False,\n    title=&quot;Event Study&quot;,\n    figsize=[1200, 400],\n    yintercept=0,\n    xintercept=13.5,\n    labels=rename_event_study_coefs(fit_dynamic_twfe._coefnames),\n)\n</code></pre>\n<p>We also support the DID2S estimator by Gardner, the Sun-Abraham approach, and linear projections. There is also a common API to all of these procedures via the <a href=\"https://py-econometrics.github.io/pyfixest/reference/did.estimation.event_study.html\" rel=\"nofollow noreferrer\">event_study</a> function.</p>\n", "tags": ["python", "panel-data"]}
{"id": "9c4b9ec1-61e9-45e8-9c91-01b7a2a7c9da", "text": "Q: Sobel filter kernel of large size A: <h1>Sobel Kernel of any size using Gaussian (EXP functions)</h1>\n<p><a href=\"https://www.desmos.com/3d/frcffy13pl\" rel=\"nofollow noreferrer\">https://www.desmos.com/3d/frcffy13pl</a></p>\n<p>A bit old topic... Anyway:</p>\n<p>I invented this method, namely the use of Gaussians.</p>\n<p>In my example, the kernel ranges from -1 to 1, but it can be interpolated with any (large) Radius. (Better for Radii\u200b\u200b&gt;=4)</p>\n<p>For example, if I want a Radius of 5,</p>\n<p>The value of X for the pixel position</p>\n<p>1 will be scaled and will correspond to the value 1/5 (which ranges from -1 to 1) of the formula given below.</p>\n<p>2 will be 2/5</p>\n<p>3 will be 3/5</p>\n<p>4 will be 4/5</p>\n<p>5 will be 5/5</p>\n<p>The main formula is the first one in this graph.</p>\n<p><a href=\"https://www.desmos.com/3d/frcffy13pl\" rel=\"nofollow noreferrer\">https://www.desmos.com/3d/frcffy13pl</a></p>\n<p>The beauty is that it is also separable as follows:</p>\n<pre><code>kX = 2 * A * EXP( -(A*X)^2 ) * X\n\nkY = EXP ( -(A*Y)^2 )\n</code></pre>\n<p>A = in simple terms represents how narrow or wide the curve shapes are.<br />\n(to me about 2.5 - 2.7 is a good value)</p>\n<p>So you can create two 1-dimensional (1D) kernels.</p>\n<p>And perform the convolution with separability:</p>\n<p>Convolve using the first kernel (KX) in the X direction</p>\n<p>and</p>\n<p>then convolve using the second kernel (KY) in the Y direction using the results of the first convolution as input.</p>\n<p>At this point, we obtain the Delta X of the image.</p>\n<p>To obtain the Delta Y:</p>\n<p>Convolve using the first kernel (KX) in the Y direction (this time)</p>\n<p>and</p>\n<p>then convolve using the second kernel (KY) in the X direction (this time), using the results of the first convolution as input.</p>\n<p>An important thing to add:</p>\n<p>The 1D kernels must be normalized (i.e., the sum of all values \u200b\u200bmust be 1).</p>\n<p>For the KY kernel, (that is nothing but a gaussian) simply add all the values.</p>\n<p>Then, once the sum is obtained, divide all the values \u200b\u200bby this sum. (Now the sum of all values \u200b\u200bequals 1.)</p>\n<p>For the KX kernel in the X direction (whose values \u200b\u200bon the left side of x (x&lt;0) are negative), I will only use the positive values \u200b\u200bon the right for normalization.</p>\n<p>So, I will perform the same procedure, but I will calculate the sum using only the positive values \u200b\u200b(on the right). [If I used all the values, the sum would be 0.]</p>\n<p>I hope this is useful to someone</p>\n", "tags": ["image-processing", "computer-vision", "edge-detection", "sobel"]}
{"id": "5a0dfb71-a07c-4653-9cda-f1b527ad7074", "text": "Q: How do I make a label disappear after 5 seconds python, Tkinter? A: <p>Tkinter widgets have a built in <code>.after()</code> method that can be used with the built in <code>.destroy()</code>  method to permanently remove a widget from the root of the application. You just need to add a single line of code to your script (I have removed the background image code since, I didn't have any image file):</p>\n<pre class=\"lang-py prettyprint-override\"><code># Source - https://stackoverflow.com/q/71284995\n# Posted by printUnilateralValue, modified by community. See post 'Timeline' for change history\n# Retrieved 2025-12-25, License - CC BY-SA 4.0\n\nfrom tkinter import *\nimport random\n\nroot=Tk()\nroot.geometry('700x500')\nroot.title(&quot;Dice roller&quot;)\nLabel1 = Label(root)\nLabel1.place (x = 0, y=0)\nl = Label(root, text=&quot;Welcome to the dice roller, select the dice you want to roll!&quot;,bg = &quot;gold&quot;,fg = &quot;goldenrod4&quot;, relief = &quot;raised&quot;, font=(&quot;Arial Bold&quot;,12))\nl.pack()\n\n\ndef buttonFunction1():\n    r1 = random.randint(1, 6)\n    L = Label(root, text= r1, bg = &quot;red&quot;, relief = &quot;solid&quot;, cursor = &quot;target&quot;, font = (&quot;Arial Bold&quot;, 10)) \n    L.place(relx = 0.8, rely = 0.14, anchor = 'sw') \n    ### Just need to add this line here ###\n    root.after(5000, L.destroy)\nb = Button(root, text=&quot;cube dice&quot;, command= buttonFunction1)\nb.pack()\n\nroot.mainloop()\n</code></pre>\n<p>This will remove the <code>L</code> label after 5000 milliseconds (5 seconds). No need to write any extra functions to achieve this.</p>\n<p>P.S. As suggested by others, don't use <code>time.sleep()</code> to create any delays, it will pause the whole application.</p>\n", "tags": ["python", "python-3.x", "tkinter", "random"]}
{"id": "d37476f2-bc49-454a-a6a6-a20847ad8094", "text": "Q: How can I iterate over every standard ISO 8601 week in a year in Java 8? A: <h2>tl;dr</h2>\n<p>Use modern date-time classes from <em>java.time</em> in Java 8+, and <code>YearWeek</code> class from <em>ThreeTen-Extra</em> library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Year\n.of( 2015 )                                    // `Year` class represents, well, a year. \n.atDay( 1 )                                    // Returns a `LocalDate` object for the first day of the year, January 1. \n.datesUntil(                                   \n    Year.of( 2015 ).plusYears( 1 ).atDay( 1 )  // First of following year. \n)                                              // Returns a `Stream` of `LocalDate` objects. \n.map( YearWeek :: from )                       // Returns a `Stream` of `YearWeek` objects. \n.collect( \n    Collectors.toCollection( TreeSet :: new )\n)                                              // Returns a `TreeSet` of distinct `YearWeek` objects in chronological order.\n</code></pre>\n<p>Or, similar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Year\n.of( 2015 )                                    // `Year` class represents, well, a year. \n.atDay( 1 )                                    // Returns a `LocalDate` object for the first day of the year, January 1. \n.datesUntil(                                   \n    Year.of( 2015 ).plusYears( 1 ).atDay( 1 )  // First of following year. \n)                                              // Returns a `Stream` of `LocalDate` objects. \n.map( YearWeek :: from )                       // Returns a `Stream` of `YearWeek` objects. \n.distinct()\n.sorted()\n.toList()                                      // Returns an unmodifiable `List` of distinct `YearWeek` objects in chronological order.\n</code></pre>\n<p>First day of first week of year:</p>\n<pre><code>YearWeek.from( Year.of( 2015 ).atDay( 1 ) ).atDay( DayOfWeek.MONDAY )   \n</code></pre>\n<h2><em>ThreeTen-Extra</em></h2>\n<p>The <a href=\"https://stackoverflow.com/a/36159488/642706\">Answer by Tunaki</a> is correct and smart. However, if you are frequently working with <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">standard weeks</a>, I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. This library extends the <em>java.time</em> classes built into Java 8+. Both <em>ThreeTen-Extra</em> and <em>java.time</em> are led by the same man, Stephen Colebourne.</p>\n<h3><code>org.threeten.extra.YearWeek</code></h3>\n<p>In that library, you will find the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a> class. Use this to represent a <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">standard ISO 8601 week</a>, defined as:</p>\n<ul>\n<li>A full set of seven days</li>\n<li>Starting on Monday, running through Sunday</li>\n<li>Week # 1 contains the first Thursday of the calendar year</li>\n<li>Exactly 52 or 53 weeks every week-based year</li>\n<li>A week may contain the last/first few days of the previous/following calendar year</li>\n</ul>\n<h3>Year</h3>\n<p>In date-time handling, it is usually wise to define a span of time as Half-Open. This means the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a year begins on the first of the year, and runs up to, but does not include, the first of the <em>following</em> year. So, January 1 - January 1.</p>\n<p>Represent a year with the <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> class. Represent a date-only value (year-month-day) as <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Year year = Year.of( 2015 );\nLocalDate yearStart = year.atDay( 1 );\nLocalDate yearEnd = year.plusYears( 1 ).atDay( 1 ); // A Half-Open span of time runs up to, but does not include, the first of the following year.\n</code></pre>\n<p>The <code>LocalDate#datesUntil</code> method generates a stream of <code>LocalDate</code> objects, one for each date in the range.</p>\n<p>We can obtain a <code>YearWeek</code> object from each of those dates. Of course, that means duplicates, seven where we only need one. So we collect all those <code>YearWeek</code> into a <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>. A set automatically eliminates duplicates. And a <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a> keeps the objects in order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// `Set` eliminates duplicates. \n// `SequencedSet` such as `TreeSet` maintains order, chronological order in this case.\nSequencedSet &lt; YearWeek &gt; standardWeeksOfYear =\n        yearStart\n                .datesUntil( yearEnd )\n                .map( YearWeek :: from )\n                .collect( Collectors.toCollection( TreeSet :: new ) );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IO.println( standardWeeksOfYear );\n</code></pre>\n<p>We see that 2015 year has 53 standard weeks.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2015-W01, 2015-W02, 2015-W03, 2015-W04, 2015-W05, 2015-W06, 2015-W07, 2015-W08, 2015-W09, 2015-W10, 2015-W11, 2015-W12, 2015-W13, 2015-W14, 2015-W15, 2015-W16, 2015-W17, 2015-W18, 2015-W19, 2015-W20, 2015-W21, 2015-W22, 2015-W23, 2015-W24, 2015-W25, 2015-W26, 2015-W27, 2015-W28, 2015-W29, 2015-W30, 2015-W31, 2015-W32, 2015-W33, 2015-W34, 2015-W35, 2015-W36, 2015-W37, 2015-W38, 2015-W39, 2015-W40, 2015-W41, 2015-W42, 2015-W43, 2015-W44, 2015-W45, 2015-W46, 2015-W47, 2015-W48, 2015-W49, 2015-W50, 2015-W51, 2015-W52, 2015-W53]\n</code></pre>\n<h3>Performance</h3>\n<p>I am sure you could cook up a slightly more efficient algorithm by jumping a week at a time. You might consider passing the optional third parameter of <code>Period</code> to <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate,java.time.Period)\" rel=\"nofollow noreferrer\"><code>datesUntil</code></a>.</p>\n<p>I would not bother because:</p>\n<ul>\n<li>Then you would have to think about off-by-one issues with end-of-year, etc. I do not want to think that hard, nor work that hard writing corner-case tests.</li>\n<li>This code seen here is unlikely to be a performance bottleneck in a common business-oriented app. Especially so if you cache results, perhaps with a <code>SequencedMap &lt; Year , SequencedSet &lt; YearWeek &gt; &gt;</code>.</li>\n</ul>\n<h2>First day of first week of year</h2>\n<p>You asked:</p>\n<blockquote>\n<p>the date of the first day of the first week of a specific year</p>\n</blockquote>\n<pre><code>YearWeek\n.from( Year.of( 2015 ).atDay( 1 ) ) // Week of first day of calendar year.\n.atDay( DayOfWeek.MONDAY )          // Date of first day of that week. Date might be in the previous calendar year. \n</code></pre>\n", "tags": ["java", "java-time", "iso8601"]}
{"id": "29aaa9e8-1ee9-4e89-ae8e-305c0265a3b4", "text": "Q: I dont understand error &quot;definition of implicity-declared &#39;Clothing::Clothing()&#39; A: <p>This error happens because the constructor you defined in <code>clothing.cpp</code> was <strong>not properly declared in <code>clothing.h</code></strong>, or its declaration does not exactly match the definition. When the compiler doesn\u2019t see a declared constructor in the class, it creates an <strong>implicit default constructor</strong>. Defining it later causes the error.</p>\n<p><strong>Fix:</strong><br />\nDeclare the constructor in <a href=\"https://cultstore.co/\" rel=\"nofollow noreferrer\"><code>clothing</code></a><code>.h</code> and make sure the signature matches.</p>\n<pre><code>// clothing.h\nclass Clothing {\npublic:\n    Clothing();\n};\n</code></pre>\n<pre><code>// clothing.cpp\n#include &quot;clothing.h&quot;\n\nClothing::Clothing() {}\n</code></pre>\n<p>The declaration and definition must match exactly.</p>\n", "tags": ["c++", "oop", "constructor"]}
