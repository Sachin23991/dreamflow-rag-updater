{"id": "a7a0e1d7-638a-4c81-b88e-dd8c43f6f13b", "text": "Q: How to answer to an SMB DeviceIOControl request? A: <p>Soved it:</p>\n<p>Request struct as found in <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/261ec397-d692-4e3e-8bcd-c96ce02bb969\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/261ec397-d692-4e3e-8bcd-c96ce02bb969</a></p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>Offset</th>\n<th>Size</th>\n<th>Content</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>4</td>\n<td>Client Capabilities</td>\n</tr>\n<tr>\n<td>4</td>\n<td>16</td>\n<td>Client GUID</td>\n</tr>\n<tr>\n<td>20</td>\n<td>2</td>\n<td>Client Securitymode</td>\n</tr>\n<tr>\n<td>22</td>\n<td>2</td>\n<td>dialect count</td>\n</tr>\n<tr>\n<td>24</td>\n<td>2*n</td>\n<td>dialects</td>\n</tr>\n</tbody>\n</table></div>\n<p>Response struct as found in <a href=\"https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/9ace71ad-a6c1-4565-83d8-4cd9c9a92ea4\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/openspecs/windows_protocols/ms-smb2/9ace71ad-a6c1-4565-83d8-4cd9c9a92ea4</a></p>\n<div class=\"s-table-container\"><table class=\"s-table\">\n<thead>\n<tr>\n<th>Offset</th>\n<th>Size</th>\n<th>Content</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>4</td>\n<td>Server Capabilities</td>\n</tr>\n<tr>\n<td>4</td>\n<td>16</td>\n<td>Server Guid</td>\n</tr>\n<tr>\n<td>20</td>\n<td>2</td>\n<td>Server SecurityMode</td>\n</tr>\n<tr>\n<td>22</td>\n<td>2</td>\n<td>Dialect</td>\n</tr>\n</tbody>\n</table></div>\n<p>Edit: Answering this request is optional. We cannot answer this request correctly because the connection details have been set by the library itself and we don't know them. So correct behavior is to just ignore this and return NOT_IMPLEMENTED.</p>\n", "tags": ["samba", "smb", "deviceiocontrol"]}
{"id": "31ab9715-78d4-4188-9c29-7a5c073d5368", "text": "Q: How do I pass error state from Angular 21&#39;s new FormValueControl to the outside? A: <p>Not use a custom control to mannage it, only a simple control and pass as &quot;model&quot; the &quot;subform&quot;</p>\n<pre><code>@Component({\n  selector: 'app-complex-input',\n  imports:[JsonPipe,Field],\n  template: `\n  &lt;div&gt;\n     &lt;input [field]=&quot;modelForm.city&quot;/&gt;\n     @for (error of modelForm.city().errors();track $index)\n     {\n       &lt;div class=&quot;error&quot;&gt;\n          {{error.message}}\n       &lt;/div&gt;  \n     }\n   &lt;/div&gt;\n   `,\n})\nexport class ComplexInput {\n  model=model&lt;{city:string,state:string}&gt;({city:'',state:''})\n  modelForm=form(signal(this.model()),(schemaPath) =&gt; {    \n    required(schemaPath.city, {message: 'City is required'})\n  })\n  constructor(){\n    effect(()=&gt;{\n      this.model.set(this.modelForm().value())\n    })\n  }\n}\n</code></pre>\n<p>You can use, e.g.</p>\n<pre><code>@Component({\n  selector: 'app-root',\n  imports:[ComplexInput,Field,JsonPipe],\n  template: `\n    &lt;app-complex-input [(model)]=&quot;loginModel().address&quot;/&gt;\n\n&lt;pre&gt;\n{{loginModel()|json}}\n&lt;/pre&gt;\n  `,\n})\nexport class App {\n  name = 'Angular';\n  loginModel = signal({  email: '', password: '',address:{city:'',state:''}  })\n  loginForm = form(this.loginModel)\n}\n\n</code></pre>\n<p>NOTE: I've never understand use a custom form control to simple mannage a &quot;subform&quot;. A custom form control should be to make a &quot;especial control&quot; like a calendar, a switch, a circular slider, a color picker...</p>\n<p>NOTE2: in the <a href=\"https://stackblitz.com/edit/stackblitz-starters-tdk75mgu?file=src%2Fmain.ts,src%2Fglobal_styles.css\" rel=\"nofollow noreferrer\">stackblitz</a> I use provideSignalFormsConfig to mannage when the errors are showed using simply .css</p>\n", "tags": ["angular", "angular-forms", "angular-signals"]}
{"id": "e01d24d8-0335-4e30-9a72-d4b00ba41dca", "text": "Q: Can&#39;t inject mock ApplicationEventPublisher in @MicronautTest A: <p>I had the same issue and used as a workaround such a code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\nvoid setUp() throws Exception {\n  var field = SomeService.class.getDeclaredField(&quot;applicationEventPublisher&quot;);\n  field.setAccessible(true);\n  field.set(someService, applicationEventPublisher);\n}\n</code></pre>\n", "tags": ["java", "unit-testing", "mockito", "micronaut"]}
{"id": "c0bf717c-80f4-423e-b2b9-187e36f499d0", "text": "Q: Is there a way to keep quick documentation always on in Intellij? A: <blockquote>\n<p>File | Settings | Editor | General | Code Completion: S<em>how the documentation popup in ... ms</em>\u00a0checkbox.</p>\n</blockquote>\n<p>Enter a small value (e.g. 50 ms) and the quick dcoumentation will be always shown.</p>\n<p>Source: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360006925600-Display-Quick-Documentation-Always\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/360006925600-Display-Quick-Documentation-Always</a></p>\n", "tags": ["intellij-idea"]}
{"id": "31861b2a-1fc0-4e0d-a1ad-1bdcb190fdbc", "text": "Q: Javascript function has no return value when return statement specified for every case A: <p>For the record: wouldn't it be more straightforward to <code>push</code> the item to - and <code>sort</code> the array?</p>\n<p><strong>Note</strong>: sorting an array has <a href=\"https://www.geeksforgeeks.org/dsa/what-is-logarithmic-time-complexity/\" rel=\"nofollow noreferrer\">log(n) time complexity</a>, so for (very) large arrays it may not be the solution one wants. Incidentally I have a stackblitz project where an array with 10,000,000 (random) numbers is created. Here is <a href=\"https://stackblitz.com/edit/js-4hraez1t?file=index.js\" rel=\"nofollow noreferrer\">a fork</a> including a check for the time sorting takes. On my machine it takes around 3 seconds.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function insertInOrder(item, arr) {\n  arr.push(item);\n  arr = arr.sort((a, b) =&gt; a - b);\n  return arr;\n}\n\nlet arr = insertInOrder(10, [1, 4, 7, 9, 13]);\nconsole.log(JSON.stringify(arr));</code></pre>\n</div>\n</div>\n</p>\n", "tags": ["javascript", "arrays", "function"]}
{"id": "e20a7ce4-625d-4162-8e80-bbd2a1402b64", "text": "Q: clean way to run modern C++ code at function exit if it may throw A: <p>cppreference notes (here <a href=\"https://en.cppreference.com/w/cpp/error/exception/uncaught_exception.html\" rel=\"nofollow noreferrer\">https://en.cppreference.com/w/cpp/error/exception/uncaught_exception.html</a>)</p>\n<blockquote>\n<p>Sometimes it's safe to throw an exception even while std::uncaught_exception() == true(until C++17) std::uncaught_exceptions() &gt; 0(since C++17). For example, if stack unwinding causes an object to be destructed, the destructor for that object could run code that throws an exception as long as the exception is caught by some catch block before escaping the destructor.</p>\n</blockquote>\n<p>and further</p>\n<blockquote>\n<p>An example where int-returning uncaught_exceptions is used is the boost.log library: the expression BOOST_LOG(logger) &lt;&lt; foo(); first creates a guard object and records the number of uncaught exceptions in its constructor. The output is performed by the guard object's destructor unless foo() throws (in which case the number of uncaught exceptions in the destructor is greater than what the constructor observed).</p>\n</blockquote>\n<p>I didnt read the boost sources, but I think it is straightforward to imagine how <code>Bar() &lt;&lt; foo();</code> creates a <code>Bar</code>, checks how many exceptions are active, calls <code>foo</code>, and then knows if <code>foo</code> did throw an exception.</p>\n", "tags": ["c++", "scopeguard"]}
