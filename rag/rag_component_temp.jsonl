{"id": "ef531b6b-b771-4e29-9f6c-bcddfdcfd0d6", "text": "Q: Trying to connect to Firebird from Deno A: <p>Deno can import many Node packages, but the Firebird clients you listed aren\u2019t just JavaScript \u2014 they depend on native compiled extensions. That\u2019s the core reason they fail in Deno even when the import looks fine..</p>\n<p>you can still use Deno by moving Firebird access behind a supported boundary</p>\n<p>--Run a small Node process that talks to Firebird with the normal Node driver and expose a minimal API (HTTP/gRPC/stdin) if I am not wrong. Deno calls that API.</p>\n", "tags": ["firebird", "deno"]}
{"id": "c10ada36-4af5-44a0-8001-e543cdc66c58", "text": "Q: How to compare just the day in a java date? A: <h2>Avoid legacy date-time classes</h2>\n<p>Use only the <em>java.time</em> classes for your date-time work, built into Java 8+. Never use <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, or other terribly-flawed legacy classes.</p>\n<h3>Moment, now and then</h3>\n<p>Capturing the current moment requires a time zone. For any given moment, the time and the date vary around the globe by time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zone = ZoneId.of( &quot;America/Edmonton&quot; ) ;\nZonedDateTime now = ZonedDateTime.now( zone ) ;\n</code></pre>\n<p>Get some other moment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate date = LocalDate.of( 2025 , Month.JANUARY , 23 ) ;\nLocalTime time = LocalTime.of( 18 , 30 ) ;\nZonedDateTime zdt = ZonedDateTime.of( date , time , zone ) ;\n</code></pre>\n<h3>Compare</h3>\n<p>See if one moment comes before another.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean momentIsPast = zdt.isBefore( now ) ;\n</code></pre>\n<p>You asked to just check the date. Is that moment on the same date as today?</p>\n<p>To do that, focus on the date rather than the moment. Extract a <code>LocalDate</code> object, where that class represents a date-only value, year-month-day without any notion of time-of-day nor time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate today = now.toLocalDate() ;\nLocalDate date = zdt.toLocalDate() ;\nboolean beforeToday = date.isBefore( today ) ;\n</code></pre>\n", "tags": ["java", "date"]}
{"id": "50746309-f16f-47bf-9d42-9723e5dfd21d", "text": "Q: What is the purpose of the k0, k1, ..., k7 registers? A: <p>They're AVX-512 mask registers, 64 bits each on CPUs with AVX-512BW.<br />\n(Otherwise only 16 bits on Xeon Phi, the only CPUs to have AVX-512F without AVX-512BW.)<br />\nThey don't exist on CPUs without AVX-512.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/AVX-512#Opmask_registers\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/AVX-512#Opmask_registers</a></p>\n<p>Merge-masking instructions like <code>vpaddb ymm0{k1}, ymm1, ymm2</code> keep the old value of YMM0 in elements where the mask register had a <code>0</code> bit.<br />\nZero-masking instructions like <code>vpaddb ymm0{k1}{z}, ymm1, ymm2</code> zero those elements, so no input dependency on the old value of <code>ymm0</code>.</p>\n<p><code>k0</code> isn't usable for actual masking of other operations (its register-number means no masking in that context).  It is uable a destination or as a normal source for instructions like <code>kxnor k1, k0, k0</code> to set <code>k1</code> to all-ones (e.g. before using it as a scatter or gather mask), or like <code>vpcmpltd k0, zmm0, zmm1</code> / <code>vpmovb2d zmm2, k0</code>.</p>\n<hr />\n<p>For more details and example uses, see</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/54497141/when-using-a-mask-register-with-avx-512-load-and-stores-is-a-fault-raised-for-i\">When using a mask register with AVX-512 load and stores, is a fault raised for invalid accesses to masked out elements?</a> - masked loads/stores do indeed suppress faults for masked elements (where the corresponding <code>k</code> bit is 0).</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/66493835/what-is-the-correct-way-to-go-from-avx-sse-masks-to-avx512-masks\">What is the &quot;correct&quot; way to go from avx/sse masks to avx512 masks?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/47481762/avx-512-and-branching\">AVX-512 and Branching</a> (doing stuff based on per-element conditions, which actually needs to be branchless to vectorize well.  Masking built into other instructions makes that even more efficient than doing it manually the SSE/AVX way.)</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/78381212/how-to-generate-an-avx-512-mask-based-on-multiple-comparisons-of-fp-values-in-co\">How to generate an AVX-512 mask based on multiple comparisons of FP values in corresponding elements of vectors?</a> - you can combine multiple conditions with masked compare-into-mask.</p>\n</li>\n<li><p>Fun fact: Intel renames <code>k</code> mask registers using the same register file as x87/MMX registers.  <a href=\"https://travisdowns.github.io/blog/2020/05/26/kreg2.html\" rel=\"nofollow noreferrer\">https://travisdowns.github.io/blog/2020/05/26/kreg2.html</a></p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/15017659/how-to-read-the-intel-opcode-notation\">How to read the Intel Opcode notation</a></p>\n</li>\n<li><p><a href=\"https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html\" rel=\"nofollow noreferrer\">https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html</a> - Intel documentation for x86-64 includes a description of all registers, for next time you wonder about some new kind of register like <code>bnd0</code> to <code>bnd3</code> on a CPU with <a href=\"https://en.wikipedia.org/wiki/Intel_MPX\" rel=\"nofollow noreferrer\">MPX</a>.  (e.g. Skylake.  Dropped from later CPUs, but IDK if debuggers and kernels will drop support for it or not.)</p>\n</li>\n</ul>\n<p>Also, a web search for &quot;x86 register k0&quot; finds several pages that would point you in the right direction toward AVX-512:</p>\n<ul>\n<li><a href=\"https://wiki.osdev.org/CPU_Registers_x86\" rel=\"nofollow noreferrer\">https://wiki.osdev.org/CPU_Registers_x86</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/X86#Miscellaneous/special_purpose\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/X86#Miscellaneous/special_purpose</a></li>\n</ul>\n", "tags": ["assembly", "gdb", "x86-64", "cpu-registers", "avx512"]}
{"id": "413438d6-2a43-4d77-b933-aa7f760dc454", "text": "Q: How to handle dynamic model mapping in Dapper QueryAsync based on multiple flags without ever-increasing if-else blocks A: <p>I have been there. I had to query lots of tables. Making hot chocolate services for each table combination is not scalable as you mention and not sustainable.</p>\n<p>So I made my own library to translate any graphql query into raw sql. <a href=\"https://github.com/CristianBarragan/Coffee-Beanery\" rel=\"nofollow noreferrer\">Coffee Beanery </a></p>\n", "tags": ["c#", "orm", "query-optimization", "dapper"]}
{"id": "85a9ee36-f5ae-433f-8f50-a3334c071e48", "text": "Q: ORACLE: Updating multiple columns at once A: <p>It's perfectly possible to update multiple columns in the same statement, and in fact your code is doing it.  So why does it seem that &quot;INV_TOTAL is not updating, only the inv_discount&quot;?</p>\n<p>Because you're updating INV_TOTAL with INV_DISCOUNT, and the database is going to use the <em>existing</em> value of INV_DISCOUNT and not the one you change it to.  So I'm afraid what you need to do is this:</p>\n<pre><code>UPDATE INVOICE\n   SET INV_DISCOUNT = DISC3 * INV_SUBTOTAL\n     , INV_TOTAL    = INV_SUBTOTAL - (DISC3 * INV_SUBTOTAL)     \nWHERE INV_ID = I_INV_ID;\n</code></pre>\n<p>Perhaps that seems a bit clunky to you.  It is, but the problem lies in your data model.  Storing derivable values in the table, rather than deriving when needed, rarely leads to elegant SQL.</p>\n", "tags": ["sql", "oracle-database"]}
{"id": "0a19ca8b-4155-4d79-9694-bd8128d7167c", "text": "Q: Reversing an integer and finding whether it&#39;s a palindrome Python A: <pre><code>def reverse(number):\n    number=str(number)\n    rev_number=number[::-1]\n    return rev_number\n\ndef isPalindrome(number):\n    the_number=str(number)\n    reversed_number=reverse(the_number)\n    if reversed_number == the_number:\n        print(f&quot;The number {number} is a palindrome&quot;)\n    else:\n        print(f&quot;The number {number} is not a palindrome&quot;)\n\ndef main():\n    number = eval(input(&quot;Please enter a number and I'll check if it's a Palindrome: &quot;))\n    isPalindrome(number)\nmain()\n</code></pre>\n", "tags": ["python-3.x"]}
{"id": "8e2bc600-e575-4eee-ac37-11662020d586", "text": "Q: Lazy loading data in Dapper using HotChocolate GraphQL A: <p>You need to do this by your own using the context. You probably are better off leveraging to <a href=\"https://github.com/CristianBarragan/Coffee-Beanery\" rel=\"nofollow noreferrer\">Coffee Beanery </a>. This library will translate all graphql queries into raw sql. I am the author</p>\n", "tags": ["c#", "sql", "performance", "graphql", "hotchocolate"]}
{"id": "e7750f9c-3f7a-46e5-96a7-8db5623599d6", "text": "Q: Is CDATA necessary when styling an inline SVG? A: <p>There's no need to use CDATA if your CSS uses the <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Nesting_selector\" rel=\"nofollow noreferrer\">nesting selector</a> (<code>&amp;</code>), as it is never followed by an alphanumeric character or a hash.</p>\n<p>CDATA is required if you use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/string\" rel=\"nofollow noreferrer\">CSS string</a> containing one of the following:</p>\n<ul>\n<li>an unescaped less than sign (<code>&lt;</code>)</li>\n<li>an unescaped ampersand (<code>&amp;</code>) followed by:\n<ul>\n<li>a hash (<code>#</code>)</li>\n<li>a sequence of alphanumeric characters followed by a semicolon (<code>;</code>)</li>\n<li>a <a href=\"https://html.spec.whatwg.org/multipage/named-characters.html\" rel=\"nofollow noreferrer\">named character reference</a></li>\n</ul>\n</li>\n</ul>\n<p>(see article '<a href=\"https://mina86.com/2021/no-you-dont-need-to-escape-that/\" rel=\"nofollow noreferrer\">No, you don\u2019t need to escape that</a>')</p>\n<p>The only times this would occur is if you're referencing a font named something like &quot;My &lt;/svg&gt; font&quot; in a <code>font-family</code> property, or when using the <code>quotes</code>/<code>content</code> properties on an HTML element in an SVG <code>foreignObject</code>:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"&gt;\n  &lt;style&gt;\n    &lt;![CDATA[\n    q {\n      quotes: \"&lt;&lt;\" \"&gt;&gt;\";\n    }\n    div::before {\n      content: \"The &amp;amp; said \";\n      font-family: \"My &lt;/svg&gt; font\", fantasy;\n    }\n    ]]&gt;\n  &lt;/style&gt;\n  &lt;foreignObject width=\"100\" height=\"100\"&gt;\n    &lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n      &lt;q&gt;hi&lt;/q&gt;\n    &lt;/div&gt;\n  &lt;/foreignObject&gt;\n&lt;/svg&gt;</code></pre>\n</div>\n</div>\n</p>\n<p>Edit: remove CSS comments around CDATA tags as per @user31571297's comment.</p>\n", "tags": ["css", "xml", "html", "dom", "svg"]}
{"id": "935eaac0-235c-4738-a35c-407c5b1d9add", "text": "Q: node.js socket reconnection failed A: <h2>TLDR Changes</h2>\n<pre class=\"lang-js prettyprint-override\"><code>const socket = io(process.env.ROOT_URL, {\n  transports: [&quot;websocket&quot;, &quot;polling&quot;], // add polling and match server config\n  reconnection: true,\n  reconnectionAttempts: Infinity,\n});\n</code></pre>\n<h2>Root Cause</h2>\n<p>Your <strong>server</strong> allows both polling and WebSocket transports:</p>\n<p>javascript</p>\n<pre><code>transports: [&quot;polling&quot;, &quot;websocket&quot;],\n</code></pre>\n<p>But your <strong>client</strong> only uses WebSocket:</p>\n<p>javascript</p>\n<pre><code>transports: [&quot;websocket&quot;],\n</code></pre>\n<p>When you reload the frontend, the client tries to reconnect via WebSocket only, but the server might still have stale polling connections or be in a transitional state, causing the <code>Invalid WebSocket frame: FIN must be set</code> error.</p>\n", "tags": ["javascript", "node.js", "next.js", "socket.io"]}
