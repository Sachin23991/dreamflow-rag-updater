{"id": "93d7f378-62c5-4a95-9996-fcbe4ef0846a", "text": "Q: Workarounds for using __has_include when it may or may not be defined - Is it valid to pass __has_include as a macro argument? A: <p>When <code>__has_include</code> IS supported:</p>\n<ul>\n<li><p><code>IF_HAS_INCLUDE_SUPPORTED</code> is an object-like macro (no params)</p>\n</li>\n<li><p><code>IF_HAS_INCLUDE_SUPPORTED(__has_include(&quot;header.h&quot;))</code> expands to just <code>(__has_include(&quot;header.h&quot;))</code></p>\n</li>\n<li><p>The <code>__has_include</code> appears directly in the <code>#if</code> condition never passed as a macro argument</p>\n</li>\n</ul>\n<p>When <code>__has_include</code> is NOT supported:</p>\n<ul>\n<li><p><code>IF_HAS_INCLUDE_SUPPORTED(Arg)</code> takes an argument and discards it</p>\n</li>\n<li><p><code>__has_include</code> is just a random identifier at that point, so the standard's restrictions don't apply</p>\n</li>\n</ul>\n<pre><code>#ifdef __has_include\n  #define IF_HAS_INCLUDE_SUPPORTED\n#else\n  #define IF_HAS_INCLUDE_SUPPORTED(Arg) (0)\n#endif\n\n#if IF_HAS_INCLUDE_SUPPORTED(__has_include(&quot;header.h&quot;))\n  #include &quot;header.h&quot;\n#else\n  #include &quot;backup-header.h&quot;\n#endif\n</code></pre>\n<p>Options A and B both put <code>__has_include</code> in contexts the standard forbids (macro definitions or arguments) when the feature is active. Option C is just option D but uglier.</p>\n<p>that said, practically speaking, any compiler old enough to lack <code>__has_include</code> (pre-GCC 5, pre-Clang 3) is rare enough that the verbose nested <code>#ifdef</code> approach from GCC's docs might be fine. But if you want a clean, likely-conformant one-liner check i think i'd go with D.</p>\n", "tags": ["c++", "c", "language-lawyer", "c-preprocessor"]}
{"id": "1ab56f32-1e2a-4202-ab7d-71bae888fad2", "text": "Q: How can I auto-elevate my batch file, so that it requests from UAC administrator rights if required? A: <p>I edited <a href=\"https://stackoverflow.com/a/12264592\">original Matt solution</a>:</p>\n<pre><code>@echo off &amp; cd /d &quot;%~dp0&quot;\nchcp 1251\nREM :::::::::::::::::::::::::::::::::::::::::\nREM Elevate.cmd - Version 10 custom\nREM Automatically check &amp; get admin rights\nREM see &quot;https://stackoverflow.com/a/79585058&quot; for description\nREM :::::::::::::::::::::::::::::::::::::::::\n \n ECHO.\n ECHO =============================\n ECHO Running Admin shell\n ECHO =============================\n ECHO.\n\n set &quot;batchPath=%~dpnx0&quot;\n rem this works also from cmd shell, other than %~0\n for %%k in (%0) do set batchName=%%~nk\n set &quot;vbsGetPrivileges=%temp%\\OEgetPriv_%batchName%.vbs&quot;\n\n:checkPrivileges\n  whoami /groups /nh | find &quot;S-1-16-12288&quot; &gt; nul\n  if not '%errorlevel%'=='0' goto getPrivileges\n  net session 1&gt;nul 2&gt;NUL\n  if '%errorlevel%'=='0' goto gotPrivileges\n\n:getPrivileges\n  setlocal EnableDelayedExpansion\n  ECHO **************************************\n  ECHO Invoking UAC for Privilege Escalation\n  ECHO **************************************\n \n  ECHO CreateObject(&quot;Shell.Application&quot;).ShellExecute &quot;%SystemRoot%\\System32\\cmd.exe&quot;, &quot;/c&quot;&quot;&quot;&quot;!batchPath!&quot;&quot;&quot;&quot;&quot;, &quot;&quot;, &quot;runas&quot;, 1 &gt;&quot;%vbsGetPrivileges%&quot;\n  ECHO CreateObject(&quot;Scripting.FileSystemObject&quot;).DeleteFile &quot;%vbsGetPrivileges%&quot;&gt;&gt;&quot;%vbsGetPrivileges%&quot;\n\n &quot;%SystemRoot%\\System32\\WScript.exe&quot; &quot;%vbsGetPrivileges%&quot;\n exit\n\n:gotPrivileges\nREM :::::::::::::::::::::::::\nREM START\nREM :::::::::::::::::::::::::\nREM Run shell as admin - put your code below as you like\n</code></pre>\n<p>Firstly there was a problem with using the script in the middle of if/else statements because of comments with colons instead of REMs, they didn't work well and the script was crashing. I didn't try to rewrite it at the time and it was Matt who understood that this is because of colons which were to be replaced by REMs, I just reported the bug without the proper solution (it was somewhat working if you remove empty lines as I suggested but of course it was crunchy and imperfect). Also about the same time echo off didn't work if you don't put it at the top of the script (which I did and Matt did the same). Time passed, but I always continued to use the script. Now I wanted to rewrite the script fully because I actively use it with my bigger project (you can find it on my GitHub if you search for it), and we don't always agree with everything.</p>\n<p>The original script is large and uses a lot of technic. I always appreciate the short and understandble coding, each line should be there because of the clear reason. If there are a lot of variables which you don't have to use, or other things, the result is becoming too bulky. In the middle of simplification I fixed another bug - if you cancel UAC elevation, the script will remain in the temp folder, and will only be deleted upon successful elevation. It is no longer the case and I'm proud that I both found and fixed this bug. Now Matt may or may not agree with everything I said, but I probably will stick to my custom version to not force the design choices. For example original script uses shifts but I don't understand why you have to use it, I don't see the clear functional reason. I reduced the size of the script from 2178 to 1434 bytes, from 66 to 42 lines, made it more functional, and did a lot of testing and bugfixes.</p>\n<p>I use chcp to always support cyrillic, because original batch don't do it, but you may set any other chcp to support for example Latin special characters.</p>\n", "tags": ["windows", "batch-file", "uac", "windows-11", "elevated-privileges"]}
{"id": "c13bb3e6-81ac-419d-9531-b22fb5ea9ad3", "text": "Q: How to do static content in Rails? A: <p>If you wanted to have a route to static pages such as &quot;show&quot;, &quot;privacy&quot;, and &quot;about us&quot;, you could set up a controller with methods for each:</p>\n<pre><code>class HomesController &lt; ApplicationController\n  def show\n  end\n  def privacy\n  end\n  def aboutus\n  end\nend\n</code></pre>\n<p>Map the map the methods as follows:</p>\n<pre><code>map.root      :controller =&gt; &quot;homes&quot;, :action =&gt; &quot;show&quot;\nmap.aboutus &quot;/aboutus&quot;, :controller =&gt; &quot;homes&quot;, :action =&gt; &quot;aboutus&quot;\nmap.privacy &quot;/privacy&quot;, :controller =&gt; &quot;homes&quot;, :action =&gt; &quot;privacy&quot;\n</code></pre>\n<p>Finally, create views for each, using the same layout as <code>app/views/layout/application.html.erb</code>:</p>\n<pre><code>app/views/homes/aboutus.html.erb --&gt; you get http://localhost:3000/aboutus\napp/views/homes/show.html.erb --&gt; you get http://localhost:3000 (root)\napp/views/homes/privacy.html.erb --&gt; you get http://localhost:3000/privacy\n</code></pre>\n", "tags": ["ruby-on-rails", "ruby", "static-content"]}
{"id": "fc65c028-653a-45c0-9657-ddc9e1d102e3", "text": "Q: Can I install an uncertified eSIM profile provisioned by myself on Android? A: <p>Short answer: <strong>No</strong>.</p>\n<p>Long answer: <em>Changing your configuration and/or working in commercial space might work out.</em></p>\n<p>Technical specifications regarding eSIM and Remote SIM Provisioning are provided by GSMA. They are freely available on the <a href=\"https://www.gsma.com/esim/resources/\" rel=\"nofollow noreferrer\">GSMA website</a>.</p>\n<p>Information regarding profiles can be found in <a href=\"https://www.gsma.com/esim/wp-content/uploads/2021/10/SGP.22-2.4.pdf\" rel=\"nofollow noreferrer\">SGP.22</a>:</p>\n<p><em><strong>Profile</strong> - A combination of data and applications to be provisioned on\nan eUICC for the purpose of providing services.</em></p>\n<p><em><strong>Profile Component</strong> - A Profile Component is an element of the Profile, when installed in the eUICC, and MAY be one of the following:</em></p>\n<ul>\n<li><em>An element of the file system like an MF, EF or DF;</em></li>\n<li><em>An Application, including NAA and Security Domain;</em></li>\n<li><em>Profile Metadata, including Profile Policy Rules;</em></li>\n<li><em>An MNO-SD.</em></li>\n</ul>\n<p>You can get examples for test profiles from the <a href=\"https://source.android.com/devices/tech/connect/esim-test-profiles\" rel=\"nofollow noreferrer\">Android Open Source Project</a>:</p>\n<blockquote>\n<p>Android provides downloadable test profiles for testing the radio\nimplementation of devices supporting eSIM. For testers that need to\ndownload a test profile defined in TS.48, Android provides a mechanism\nin its SM-DP+ to facilitate the download of up-to-date test profiles.\nWhen a tester scans a QR code for a test profile, the SM-DP+ downloads\nthe test profile to the target device. Because there are no download\nor profile policy rules implemented, there are no limits to the number\nof downloads or the devices that can download the profiles. The device\ndownloading the test profiles must have a test certificate issued by a\nGSMA CI.</p>\n</blockquote>\n<p>A very nice and detailed RSP overview is also given by <a href=\"https://kigen.com/wp-content/uploads/2020/11/Kigen-How-Remote-SIM-Provisioning-Works-ebook.pdf-1.pdf\" rel=\"nofollow noreferrer\">Kigen</a>. It shows which components are involved and how they relate to each other. In your case: Dp+ server &lt;--&gt; Cellular Network &lt;--&gt; Device (Google Pixel 3a) with Local Profile Assistant &lt;--&gt; eUICC (eSIM chip) already in device.</p>\n<blockquote>\n<p>End-to-end security is built into RSP. All exchanges between the\nSM-DP, SM-SR, and eUICC rely on digital certificates (PKIs) or\npre-shared keys (PSKs), which can be revoked at any time if security\nconcerns arise. An eUICC receiving SMS messages uses AES encryption,\nand HTTPS card to server data sessions use Transport Layer Security\n(TLS) to protect over-the-air communication.</p>\n</blockquote>\n<p>Usually, only the eUICC manufacturer/provider has the keys necessary to modify the concerned eUICC's content.\nTherefore, you will not be able to install your TLS certificate or your key(s) into it.\nThis means that your DP+ needs to have a certificate which is issued by the GSMA Certificate Issuer in order to install a profile on your Google Pixel 3a. (This is the way the Android Open Source Project went. You ruled it out as overkill.)</p>\n<p>Additionally, as far as I know, there are no open or free SM-DP+ server implementations available. (Update 2025-12-19: There is one available now, see <a href=\"https://stackoverflow.com/a/77609572/18980756\">https://stackoverflow.com/a/77609572/18980756</a>)</p>\n<p>You might take a look at companies which offer DP+ as a cloud service and connect your mock cellular network to it.</p>\n<p>For completeness, as far as I know, there are no open or free eSIM-capable eUICCs available. Therefore, it is not possible to circumvent the issue from that side.</p>\n<p>A test environment matching your set-up is also described by Cellnetrix (acquired by Truphone) on <a href=\"https://www.slideshare.net/Cellnetrix/iot-esim-test-bed\" rel=\"nofollow noreferrer\">Slideshare</a>.</p>\n", "tags": ["android", "mobile", "cellular-network", "e-sim"]}
{"id": "253c080b-42f2-4a54-aa22-fd9e27eb5b3e", "text": "Q: PHP - change background color to transparent A: <p>To convert a PNG with white background to transparent background, you may:</p>\n<p>(1) Use <code>imagecolorexact</code> to specify a white color (255,255,255), (2) then use <code>imagecolortransparent</code> to set it as transparent</p>\n<p>So the code is:</p>\n<pre><code>&lt;?php\n\n// example source:\n$url=&quot;https://www.createchhk.com/sample1.png&quot;;\n\n $im = imagecreatefrompng($url);\n\n//  $white = imagecolorallocate($im, 255, 255, 255);\n\n    $white = imagecolorexact($im, 255, 255, 255);\n\n    imagecolortransparent($im, $white);\n    imagepng($im, './transparent1aa.png');\n    imagedestroy($im);\n\n?&gt;\n</code></pre>\n<p>The source image is:</p>\n<p><a href=\"https://i.sstatic.net/M68dmXGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/M68dmXGp.png\" alt=\"enter image description here\" /></a></p>\n<p>The result will be (a transparent png):\n<a href=\"https://i.sstatic.net/2f11UDM6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/2f11UDM6.jpg\" alt=\"enter image description here\" /></a></p>\n", "tags": ["php", "gd"]}
{"id": "fc91b347-ac00-4c57-933e-465c4f7ce4dd", "text": "Q: OnSave event fires twice when calling preventDefault after clicking Save and Close button A: <p>In Bookable resource booking form when I click save it triggers the save multiple times. First one will fail second one will succeed. Did you manage to solve it??</p>\n", "tags": ["javascript", "dynamics-crm", "dynamics-crm-2015"]}
{"id": "1d29502e-3511-4278-9641-8689e82272f3", "text": "Q: Custom Push Notification for Apple Wallet Pass not Showing up on Phone A: <p>I'm trying to implement apple wallet push notifications system and I've tried many different ways but so far no success. I also tried to use your code snippet by storing all apns details in local and without firebase integration but I still don't receive any silent notification. Can you please advice what am I missing?</p>\n", "tags": ["ios", "push-notification", "apple-push-notifications", "apn", "apple-wallet"]}
{"id": "22d433f5-10f2-49ed-8cfa-a01900cec618", "text": "Q: Parsing pipes with boolean logic operators in bash A: <p>Right, <code>c</code> has two completely different files for standard output in the two examples. In <code>a &amp;&amp; b | c &amp;&amp; d | f</code>, it's whatever it inherits from the parent process, the same file that <code>a</code> and <code>f</code> receive for standard output. In <code>a &amp;&amp; b | (c &amp;&amp; d) | f</code>, it's the end of the pipe leading to <code>f</code>, the same file that <code>d</code> receives.</p>\n<p>Importantly, the script never <em>reads</em> from standard input, which means none of the processes will block waiting for input, either from the console or a pipe. This leads to two different scenarios for <code>echo &quot;$prog_name&quot;</code> in <code>c</code>. In the first case, it writes to, I assume, your console. In the second case, it gets piped to <code>f</code>, and in that case, <code>c</code> will get SIGPIPE if <code>f</code> terminates first. Pipelines being asynchronous, there is no guarantee that, regardless of the order <code>c</code> and <code>f</code> are started, that <code>f</code> is still running when <code>c</code> tries that write.</p>\n", "tags": ["bash", "parsing", "pipe", "operator-precedence", "boolean-logic"]}
