{"id": "12acdff1-3127-4b26-be45-a237bbe945af", "text": "Q: Starting Appium programmatically using javascript A: <p>You can install appium in your project directory. Import appium and call appium.main(). This will start appium in the default port.</p>\n<p>Start appium :</p>\n<pre><code>const appium = require('appium');\nawait appium.main({port : 4723, address : &quot;127.0.0.1&quot;})\n</code></pre>\n<p>Stop appium :\nTo stop appium programatically, you can kill the process. I used this package - <a href=\"https://www.npmjs.com/package/find-process\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/find-process</a> to find the pid and kill process.</p>\n<pre><code>const findProcess = require('find-process')\nlet processList = await findProcess('port', 4723)\nif(processList.length &gt; 0) {\n    processList.forEach(proc =&gt;  {\n        process.kill(proc.pid)                \n    })\n}\n</code></pre>\n", "tags": ["appium", "wdio"]}
{"id": "63b77cdc-5083-49bd-a69b-cae1257454bd", "text": "Q: Any good open-source OAuth2 nuget package? A: <p>first, OpenID Foundation is NOT a product, sdk or library. its just an org that defines specs and official standards... so not very relevant</p>\n<p>secondly, rolling your own OAuth2 is risky bcs small mistakes cause serious security holes</p>\n<p>as for an open source service, i think OpenIddict would be closest to standard... or Duende identityserver.</p>\n", "tags": [".net", "asp.net-core", "asp.net-web-api"]}
{"id": "ebb8f92e-abb4-4646-864b-8dc4a8f4c35e", "text": "Q: Custom HID device HID report descriptor A: <p>Here is a link to the <a href=\"https://www.usb.org/sites/default/files/hid1_11.pdf\" rel=\"nofollow noreferrer\">Spec Sheet</a> (or &quot;manual&quot;) for your reading purposes.</p>\n<p>To answer some of your questions, <code>REPORT_SIZE</code> is specified in bits and <code>REPORT_COUNT</code> can be used to specify how many &quot;Usages&quot; are being reported with the indicated properties. For example, you can set the properties for the <code>X</code> and <code>Y</code> usages and the have the <code>REPORT_COUNT</code> specified as 2 (one for X and one for Y) and then specify the <code>INPUT</code> to add those usages to the report. Then continue on describing other usages.</p>\n<p>Also, don't forget to have the usages byte aligned. Since <code>REPORT_COUNT</code> is specified in bits, it is easy to forget to have usages byte aligned. So if one usage is only 1 bit, then you need to specify that there will be 7 bits in that byte not being used before moving to the next usage if it requires more than 7 bits.</p>\n", "tags": ["usb", "hid"]}
{"id": "462d0fc4-b277-4db4-bde1-cb6d8a750848", "text": "Q: How to add images in select list? A: <p>Since this is a common problem, I decided that I l would code a list component that is both 1D and 2D and display whatever HTML I want in the options. It works like a select, with more features: you may scroll using the sliders or the mouse wheel, you may select or multiselect using the mouse (and Shift, Alt or Ctrl for selecting a range, a region or a single option) or the keyboard (direction keys, and one Shift, Alt or Ctrl for the same purposes), you may drag'n'drop the selection, you may add and remove any set of options refered to by indices or values. You may test the component <a href=\"https://www.stashofcode.fr/SoG/tests/List/index.html\" rel=\"nofollow noreferrer\">here</a> and download the code <a href=\"https://www.stashofcode.fr/SoG/List.7z\" rel=\"nofollow noreferrer\">here</a>. Explanations in the code, in french but you just have to use some translator.</p>\n", "tags": ["html", "css"]}
{"id": "286db805-d962-4c6b-bac8-d5965e6e83ba", "text": "Q: Newtonsoft for ISerializable classes with a reference loop - use GetObjectData for serialization and ordinary constructor for deserialization A: <p>If you need to serialize objects that implement <code>ISerializable</code> using <code>GetObjectData()</code>, but deserialize them as regular objects without using the streaming constructor, then the easiest way to do that is to use different <code>JsonSerializerSettings</code> for serialization and deserialization:</p>\n<ul>\n<li><p>For serialization, use a default contract resolver with <a href=\"https://www.newtonsoft.com/json/help/html/P_Newtonsoft_Json_Serialization_DefaultContractResolver_IgnoreSerializableInterface.htm\" rel=\"nofollow noreferrer\"><code>IgnoreSerializableInterface = false</code></a> (which is also the default).</p>\n</li>\n<li><p>For deserialization, use a custom version of <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_Serialization_DefaultContractResolver.htm\" rel=\"nofollow noreferrer\"><code>DefaultContractResolver</code></a> with <code>IgnoreSerializableInterface = true</code> and with any additional members you required added by overriding <a href=\"https://www.newtonsoft.com/json/help/html/M_Newtonsoft_Json_Serialization_DefaultContractResolver_GetSerializableMembers.htm\" rel=\"nofollow noreferrer\"><code>GetSerializableMembers()</code></a>.</p>\n</li>\n<li><p><code>ISerializableConverter</code> is no longer required.</p>\n</li>\n</ul>\n<p>With this approach, your <code>Table</code> and <code>Section</code> data model and <code>CustomContractResolver</code> <strong>work as-is</strong>:</p>\n<pre><code>var serializeSettings = new JsonSerializerSettings\n{\n    PreserveReferencesHandling = PreserveReferencesHandling.Objects,\n    TypeNameHandling = TypeNameHandling.All,\n    ConstructorHandling = ConstructorHandling.AllowNonPublicDefaultConstructor,\n    //Uncomment if you need to modify the contract resolver e.g. by enabling camel case:\n    //ContractResolver = new DefaultContractResolver() { \n    //  IgnoreSerializableInterface = false,\n    //  NamingStrategy = new CamelCaseNamingStrategy(),\n    //},\n    Formatting = Formatting.Indented, // Added for debugging purposes\n};\n\nvar deserializeSettings = new JsonSerializerSettings\n{\n    // Copy over required settings from serializeSettings\n    PreserveReferencesHandling = serializeSettings.PreserveReferencesHandling,\n    TypeNameHandling = serializeSettings.TypeNameHandling,\n    ConstructorHandling = serializeSettings.ConstructorHandling,\n    // But don't copy over the ContractResolver, use the custom one instead.\n    ContractResolver = new CustomContractResolver() { IgnoreSerializableInterface = true },\n};\n\nvar json = JsonConvert.SerializeObject(section, serializeSettings);         \nvar restored = JsonConvert.DeserializeObject&lt;Section&gt;(json, deserializeSettings);\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><p>The entire <code>ISerializable</code> infrastructure has been <a href=\"https://learn.microsoft.com/en-us/dotnet/fundamentals/syslib-diagnostics/syslib0051\" rel=\"nofollow noreferrer\">obsoleted</a> from .NET Core starting in .NET 8, so using it for serialization doesn't seem viable in the long term.</p>\n</li>\n<li><p>When using <code>TypeNameHandling</code>, do take note of this caution from the <a href=\"https://www.newtonsoft.com/json/help/html/T_Newtonsoft_Json_TypeNameHandling.htm\" rel=\"nofollow noreferrer\">Newtonsoft docs</a>:</p>\n<blockquote>\n<p>TypeNameHandling should be used with caution when your application deserializes JSON from an external source. Incoming types should be validated with a custom SerializationBinder when deserializing with a value other than None.</p>\n</blockquote>\n<p>For a discussion of why this may be necessary, see <em><a href=\"https://stackoverflow.com/q/39565954\">TypeNameHandling caution in Newtonsoft Json</a></em>.</p>\n</li>\n<li><p>Newtonsoft <a href=\"https://www.newtonsoft.com/json/help/html/Performance.htm#ReuseContractResolver\" rel=\"nofollow noreferrer\">recommends</a> to cache and reuse <code>JsonSerializerSettings</code> for best performance.</p>\n</li>\n</ul>\n<p>Demo fiddle <a href=\"https://dotnetfiddle.net/F7f5PE\" rel=\"nofollow noreferrer\">here</a>.</p>\n", "tags": ["c#", ".net", "serialization", "json.net", "json-deserialization"]}
{"id": "deff3d8e-1e59-432f-b248-22efc7e8f246", "text": "Q: Print a diamond shape with a border using asterisks in C++ A: <p>You could add in a static line at the top and bottom of <code>*</code>'s and then a <code>*</code> at the beginning and ending of each row.</p>\n<p>Something like this...</p>\n<pre><code>#include &lt;iostream&gt;\n\nvoid PrintDiamond(int iSide) {\n    using namespace std;\n    int iSpaces = iSide;\n    int iAsterisks = 1;\n    for (int k = 0; k &lt; iSide*2+3; ++k) {\n        cout &lt;&lt; &quot;*&quot;;\n    }\n    cout &lt;&lt; endl;\n    // Output the top half of the diamond\n    for (int iI = 0; iI &lt; iSide; ++iI) {\n        cout &lt;&lt; &quot;*&quot;;\n        for (int iJ = 0; iJ &lt; iSpaces; ++iJ) {\n            cout &lt;&lt; &quot; &quot;;\n        }\n        for (int iJ = 0; iJ &lt; iAsterisks; ++iJ) {\n            cout &lt;&lt; &quot;*&quot;;\n        }\n        for (int iJ = 0; iJ &lt; iSpaces; ++iJ) {\n            cout &lt;&lt; &quot; &quot;;\n        }\n        cout &lt;&lt; &quot;*&quot;;\n        cout &lt;&lt; endl;\n        --iSpaces;\n        iAsterisks += 2;\n    }\n    // Output the bottom half of the diamond\n    for (int iI = 0; iI &lt;= iSide; ++iI) {\n        cout &lt;&lt; &quot;*&quot;;\n        for (int iJ = 0; iJ &lt; iSpaces; ++iJ) {\n            cout &lt;&lt; &quot; &quot;;\n        }\n        for (int iJ = 0; iJ &lt; iAsterisks; ++iJ) {\n            cout &lt;&lt; &quot;*&quot;;\n        }\n        for (int iJ = 0; iJ &lt; iSpaces; ++iJ) {\n            cout &lt;&lt; &quot; &quot;;\n        }\n        cout &lt;&lt; &quot;*&quot;;\n        cout &lt;&lt; endl;\n        ++iSpaces;\n        iAsterisks -= 2;\n    }\n    for (int k = 0; k &lt; iSide*2+3; ++k) {\n        cout &lt;&lt; &quot;*&quot;;\n    }\n    cout &lt;&lt; endl;\n}\n\nint main()\n{\n    // Print a diamond with side = 4\n    PrintDiamond(4);\n\n    return 0;\n}\n</code></pre>\n", "tags": ["c++"]}
{"id": "5d1bc147-956f-4486-b2ee-c1822d4d59d4", "text": "Q: Does using Django model choices for search filters add server load on every page request? A: <p><strong>Yes, your understanding is absolutely correct.</strong></p>\n<p>Moving from database queries to static model <code>choices</code> is a standard optimization in Django. To answer your specific concerns:</p>\n<ol>\n<li><p><strong>Server Load:</strong> This approach adds <strong>zero</strong> database load on page requests.</p>\n</li>\n<li><p><strong>Loading Mechanism:</strong> The <code>CHOICES</code> list is a standard Python class attribute. It is evaluated and loaded into memory <strong>once</strong> when the Python process (WSGI/ASGI) starts up.</p>\n</li>\n<li><p><strong>Rendering:</strong> Accessing <code>AdPost.CATEGORY_CHOICES</code> in your view is simply reading a list from RAM. It is instant and does not touch the database.</p>\n</li>\n</ol>\n<h3>Why this is a good move</h3>\n<p>Your previous query was actually quite expensive:</p>\n<pre class=\"lang-py prettyprint-override\"><code># This forces the DB to scan the table (or index), sort, and deduplicate strings.\n# As the table grows, this query gets slower on every single page load.\ndistricts = AdPost.objects.values_list(&quot;district&quot;, flat=True).distinct()\n</code></pre>\n<p>Your new approach removes that overhead entirely.</p>\n<hr />\n<h3>One Improvement for Django 4.x</h3>\n<p>Since you are on Django 4.x, I highly recommend using <a href=\"https://docs.djangoproject.com/en/4.0/ref/models/fields/#enumeration-types\" rel=\"nofollow noreferrer\"><code>TextChoices</code></a> instead of simple lists of tuples. It keeps your code cleaner, allows access to labels via the class, and provides better type safety.</p>\n<p><strong>Refactored <code>models.py</code>:</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>from django.db import models\nfrom django.utils.translation import gettext_lazy as _\n\nclass AdPost(models.Model):\n\n    class Category(models.TextChoices):\n        FISH = 'fish', _('Fish')\n        COW = 'cow', _('Cow')\n\n    class District(models.TextChoices):\n        E_DISTRICT = 'e', _('District E')\n        J_DISTRICT = 'j', _('District J')\n\n    # Usage in field\n    category = models.CharField(max_length=50, choices=Category.choices)\n    district = models.CharField(max_length=30, choices=District.choices)\n</code></pre>\n<p><strong>Refactored View:</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code># You can pass the class directly or just the .choices list\ncontext['districts'] = AdPost.District.choices\n</code></pre>\n<h3>The Trade-off</h3>\n<p>The only downside to static choices is <strong>maintainability</strong>, not performance.</p>\n<ul>\n<li><p><strong>Database (Old way):</strong> If you wanted to add a new district, you just add an Ad with that district. No code changes needed.</p>\n</li>\n<li><p><strong>Static Choices (New way):</strong> To add a &quot;Horse&quot; category, you must edit the code and redeploy the application.</p>\n</li>\n</ul>\n<p>If your categories and districts rarely change (which is usually the case for &quot;Districts&quot;), static choices are the superior architectural choice.</p>\n<p>That's all I think</p>\n", "tags": ["python", "django"]}
