{"id": "04dda400-970e-4665-8047-3ef5f96b7a89", "text": "Q: Clean way to read a null-terminated (C-style) string from a file? A: <p>Inspired by <a href=\"https://stackoverflow.com/a/32775270/21727181\">ShadowRanger's answer</a>, I can propose an even uglier alternative with no imported modules:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def readcstr(f):\n    return ''.join(iter(lambda: f.read(1), type('', (), {&quot;__eq__&quot;: '\\0'.__contains__})()))\n</code></pre>\n<p><code>lambda: f.read(1)</code> is just equal to <code>functools.partial(f.read, 1)</code>. Btw, I'd be interested to hear if one of the options can actually be better.</p>\n<p>The interesting part is moving <code>takewhile</code> logic into the iterator sentinel. Not sure why, but it just bothered me that there are two equality tests using different syntax: both <code>iter</code> and <code>takewhile</code> do the exact same thing to decide when to stop running, just with different arguments - I decided to move all the logic into that sentinel, since we anyway want an iterator, and throw away <code>itertools</code>.</p>\n<p>That code is actually equal to something like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def readcstr(f):\n    class LambdaClass():\n        def __eq__(self, s):\n            return s in '\\0' # Equal to `s in ('', '\\0')` or `s in {'', '\\0'}`\n\n    return ''.join(iter(lambda: f.read(1), LambdaClass()))\n</code></pre>\n<p>but declaring class with <code>type</code> function and using existing <code>__contains__</code> allows us to pack it into a single line (which can be still considered short) for, well, no reason.</p>\n<p>Should you use this code? Likely no, it's ugly and doesn't provide any visible benefits, since those imports are built-in, but see this as a pretty interesting thing.</p>\n", "tags": ["python", "string", "null", "python-2.x", "c-strings"]}
{"id": "994588d2-c5f4-4ce0-9869-78d41077d421", "text": "Q: How to I &quot;snake wrap&quot; widgets? A: <p>You are referring to boustrophedon text (although sometimes boustrophedon text reverses the glyphs as well).</p>\n<blockquote>\n<p>Flutter does not support other writing modes, such as vertical text or boustrophedon text, as these are rarely used in computer programs.</p>\n</blockquote>\n<p><a href=\"https://api.flutter.dev/flutter/dart-ui/TextDirection.html\" rel=\"nofollow noreferrer\">https://api.flutter.dev/flutter/dart-ui/TextDirection.html</a></p>\n", "tags": ["flutter"]}
{"id": "16ce3d66-5512-4ce9-8608-46f3d9a578ca", "text": "Q: Change border color on &lt;select&gt; HTML form A: <p>These answers seem outdated. Wrapping it in a div, at least for me, just added an extra border and was weird. You can directly adjust the border of the select field with the following CSS:</p>\n<pre><code>    appearance: none;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    border: 1px solid hotpink;\n</code></pre>\n", "tags": ["html", "css", "html-select"]}
{"id": "49f82410-8ff8-46c1-8d84-611a53c052c4", "text": "Q: Non-recursive method of calculating future value of cashflows at irregular dates A: <p>Please edit your question to include a representative data sample (as text which can be copy/pasted), and the expected results from that data.</p>\n<p>Also, I do not believe that <code>YEARFRAC</code> can handle arrays of dates as arguments, hence your <code>#VALUE!</code> error.</p>\n", "tags": ["excel", "finance"]}
{"id": "668f88e3-586e-43ca-b9f4-2d4b0bc37b43", "text": "Q: Error using _Generic selection to distinguish between char* and struct pointer* A: <p>If you want to use a function to decouple <code>db-&gt;name</code> from the generic selection, use a function for all selections:</p>\n<pre class=\"lang-c prettyprint-override\"><code>char *bypass(char *p) {\n    return p;\n}\n\nchar *deref(db *d) {\n    return d-&gt;name;\n}\n\nchar *inv(...) {\n    return &quot;invalid&quot;;\n}\n\n#define MACRO(P) _Generic((P), \\\n    char*: bypass,             \\\n    db*: deref,                \\\n    default: inv               \\\n)(P)\n</code></pre>\n<p>Note that <code>(P)</code> here follows the generic selection, making the calls <code>bypass(P)</code>, <code>deref(P)</code> and <code>inv(P)</code>.</p>\n", "tags": ["c", "pointers", "struct", "macros"]}
