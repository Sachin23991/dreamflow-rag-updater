{"id": "e926e6fd-fddb-4305-812a-5c3dde403dbc", "text": "Q: Why replace works with a boolean mask? A: <p>The <code>list</code> argument in <code>replace</code> is an <em>index vector</em>. In <a href=\"https://cran.r-project.org/doc/manuals/r-release/R-intro.html#Index-vectors\" rel=\"nofollow noreferrer\">An Introduction to R; 2.7 Index vectors</a>, we find that in R</p>\n<blockquote>\n<p>index vectors can be any of four distinct types.</p>\n</blockquote>\n<p>Including:</p>\n<blockquote>\n<ol>\n<li><strong>A logical vector</strong></li>\n</ol>\n</blockquote>\n<p>See also <a href=\"https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Indexing-by-vectors\" rel=\"nofollow noreferrer\">R Language Definition; 3.4.1 Indexing by vectors</a>.</p>\n<hr />\n<p>Given that <code>replace</code> is implemented as</p>\n<pre><code>x[list] &lt;- values\nx\n</code></pre>\n<p>...we can also have a look at <code>&quot;?[&lt;-&quot;</code>, and the <em>Usage</em> <code>x[i] &lt;- value</code> and its <code>i</code> argument:</p>\n<blockquote>\n<p>For <code>[-</code>indexing [...] <code>i</code> [...] can be logical vectors, indicating elements/slices to select.</p>\n</blockquote>\n", "tags": ["r", "replace"]}
{"id": "e1af137f-f5c2-4558-8602-6e67282df2bd", "text": "Q: How to fix permission error while install bundle for rails project on ubuntu? A: <p>To fix this issue you have to change your path of <code>bundle install</code> using this command:</p>\n<pre><code>bundle config set path &lt;path&gt;\n</code></pre>\n<p>I used the <code>~/Documents</code> path that doesn't need <code>write</code> permission, but you can use whatever you want.</p>\n", "tags": ["ruby-on-rails", "ruby", "ruby-on-rails-3", "rubygems", "bundle"]}
{"id": "6030bc32-7124-47b8-967a-713f6a91f18e", "text": "Q: Incorrect syntax in stored procedure in web API with return object A: <p>You are combining multiple results. Try with ADO.NET like this:</p>\n<pre><code>public DisplaySoa DisplaySoa(DisplaySoaParameter model)\n{\n    using (var db = new ApplicationDbContext())\n    {\n        var result = new DisplaySoa\n        {\n            FirstInfo = new List&lt;FirstInfo&gt;(),\n            SecondInfo = new List&lt;SecondInfo&gt;(),\n            ThirdInfo = new List&lt;ThirdInfo&gt;(),\n            FourthInfo = new List&lt;FourthInfo&gt;()\n        };\n\n        try\n        {\n            var connection = db.Database.Connection;\n            using (var command = connection.CreateCommand())\n            {\n                command.CommandText = &quot;[dbo].[DISPLAY_SOA_V4]&quot;;\n                command.CommandType = CommandType.StoredProcedure;\n\n                command.Parameters.Add(new SqlParameter(&quot;@UnitID&quot;, model.UnitID));\n                command.Parameters.Add(new SqlParameter(&quot;@Month&quot;, model.Month));\n                command.Parameters.Add(new SqlParameter(&quot;@Year&quot;, model.Year));\n\n                connection.Open();\n                using (var reader = command.ExecuteReader())\n                {\n                    // OwnerInfo (single row)\n                    if (reader.Read())\n                    {\n                        result.OwnerInfo = new OwnerInfo\n                        {\n                            UnitName = reader[&quot;UnitName&quot;].ToString(),\n                            UnitOwner = reader[&quot;UnitOwner&quot;].ToString()\n                        };\n                    }\n\n                    // FirstInfo (multiple rows)\n                    if (reader.NextResult())\n                    {\n                        while (reader.Read())\n                        {\n                            result.FirstInfo.Add(new FirstInfo\n                            {\n                                TType = reader[&quot;TType&quot;].ToString(),\n                                TransactionType = reader[&quot;TransactionType&quot;].ToString(),\n                                Period_Covered = reader[&quot;Period_Covered&quot;].ToString(),\n                                BillAmount = reader[&quot;BillAmount&quot;] as double?,\n                                PaymentAmount = reader[&quot;PaymentAmount&quot;] as double?,\n                                Balance = reader[&quot;Balance&quot;] as double?\n                            });\n                        }\n                    }\n\n                    // SecondInfo\n                    if (reader.NextResult())\n                    {\n                        while (reader.Read())\n                        {\n                            result.SecondInfo.Add(new SecondInfo\n                            {\n                                TType = reader[&quot;TType&quot;].ToString(),\n                                TransactionType = reader[&quot;TransactionType&quot;].ToString(),\n                                Period = reader[&quot;Period&quot;].ToString(),\n                                BillAmount = reader[&quot;BillAmount&quot;] as double?,\n                                PaymentAmount = reader[&quot;PaymentAmount&quot;] as double?,\n                                Balance = reader[&quot;Balance&quot;] as double?\n                            });\n                        }\n                    }\n\n                    // ThirdInfo\n                    if (reader.NextResult())\n                    {\n                        while (reader.Read())\n                        {\n                            result.ThirdInfo.Add(new ThirdInfo\n                            {\n                                TType = reader[&quot;TType&quot;].ToString(),\n                                TransactionType = reader[&quot;TransactionType&quot;].ToString(),\n                                Period = reader[&quot;Period&quot;].ToString(),\n                                PaymentAmount = reader[&quot;PaymentAmount&quot;] as double?\n                            });\n                        }\n                    }\n\n                    // FourthInfo\n                    if (reader.NextResult())\n                    {\n                        while (reader.Read())\n                        {\n                            result.FourthInfo.Add(new FourthInfo\n                            {\n                                TType = reader[&quot;TType&quot;].ToString(),\n                                Particulars = reader[&quot;Particulars&quot;].ToString(),\n                                PaymentDate = reader[&quot;PaymentDate&quot;].ToString(),\n                                PaymentAmount = reader[&quot;PaymentAmount&quot;] as double?,\n                                ORNumber = reader[&quot;ORNumber&quot;].ToString()\n                            });\n                        }\n                    }\n                }\n            }\n\n            return result;\n        }\n        catch (Exception ex)\n        {\n            return null;\n        }\n    }\n}\n</code></pre>\n", "tags": ["sql-server", "asp.net-web-api"]}
{"id": "a57c699f-9099-4c66-a931-b0b5c167149e", "text": "Q: Python module os.chmod(file, 664) does not change the permission to rw-rw-r-- but -w--wx---- A: <p>Found this on a <a href=\"http://ubuntuforums.org/showthread.php?t=889326\" rel=\"nofollow noreferrer\">forum</a></p>\n<blockquote>\n<p>If you're wondering why that leading zero is important, it's because\npermissions are set as an octal integer, and Python automagically\ntreats any integer with a leading zero as octal. So os.chmod(&quot;file&quot;,\n484) (in decimal) would give the same result.</p>\n</blockquote>\n<p>What you are doing is passing <code>664</code> which in octal is <code>1230</code></p>\n<p>In your case you would need</p>\n<pre><code>os.chmod(&quot;/tmp/test_file&quot;, 0o666)\n</code></pre>\n<hr />\n<p>using the prefix with 0o (zero oh).</p>\n", "tags": ["python", "file", "permissions", "chmod"]}
{"id": "76a65f3d-5371-459e-8832-3e403e83fd81", "text": "Q: No module named &#39;keyboard&#39; in Pythonanywhere A: <p><code>Keyboard</code> is a third-party module in python. It is only able to execute on the local machine not on the remote servers. It requires root privileges for the execution.!!</p>\n", "tags": ["python", "django", "keyboard", "pythonanywhere"]}
{"id": "40736a60-3a9b-4429-a6eb-94aa63eb136b", "text": "Q: Google Sheets, counting check boxes A: <p>Probably the simplest approach is to count the number of true values in the first column and the number of true values in the second column and add them. Then realise that the rows with two ticks in them have been counted twice, so you need to subtract the number of rows where both columns have been ticked.</p>\n<p>A shorter and more idiomatic way is to use the fact that TRUE + TRUE =&gt; 2 and TRUE + FALSE =&gt;1 whereas FALSE + FALSE =&gt;0. So in this case you would set up an array formula to add the two columns, then count the number of rows where the result is greater than one.</p>\n<p>The second method can be used for more than two columns, but you might need to use Byrow with a lambda to get the sums if you had a large number of columns.</p>\n", "tags": ["google-sheets", "checkbox"]}
{"id": "6d431e24-edc6-41d0-bf77-8317066ef185", "text": "Q: How to specify primary key constraints when creating a Delta table A: <p>If you are using <code>Databricks</code> there is a partial solution.  There is a <code>primary key</code> support in Public Preview <a href=\"https://docs.databricks.com/tables/constraints.html#declare-primary-key-and-foreign-key-relationships\" rel=\"nofollow noreferrer\">Declare primary key and foreign key relationships</a></p>\n<blockquote>\n<p>Primary key and foreign key constraints are available in Databricks Runtime 11.1 and above.</p>\n</blockquote>\n<blockquote>\n<p>Primary key and foreign key constraints require Unity Catalog and Delta Lake.</p>\n</blockquote>\n<blockquote>\n<p>You can use primary key and foreign key relationships on fields in Unity Catalog tables. Primary and foreign keys are informational only and are not enforced. Foreign keys must reference a primary key in another table.</p>\n</blockquote>\n<blockquote>\n<p>You can declare primary keys and foreign keys as part of the table specification clause during table creation. This clause is not allowed during CTAS statements. You can also add constraints to existing tables.</p>\n</blockquote>\n<pre><code>CREATE TABLE T(pk1 INTEGER NOT NULL, pk2 INTEGER NOT NULL,\n                CONSTRAINT t_pk PRIMARY KEY(pk1, pk2));\nCREATE TABLE S(pk INTEGER NOT NULL PRIMARY KEY,\n                fk1 INTEGER, fk2 INTEGER,\n                CONSTRAINT s_t_fk FOREIGN KEY(fk1, fk2) REFERENCES T);\n</code></pre>\n<blockquote>\n<p>You can query the information_schema or use DESCRIBE to get details about how constraints are applied across a given catalog.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://docs.databricks.com/tables/constraints.html\" rel=\"nofollow noreferrer\">https://docs.databricks.com/tables/constraints.html</a></p>\n</blockquote>\n<blockquote>\n<p>Informational primary key and foreign key constraints encode relationships between fields in tables and are not enforced.</p>\n</blockquote>\n", "tags": ["sql", "apache-spark", "pyspark", "databricks", "delta-lake"]}
