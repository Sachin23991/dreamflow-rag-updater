{"id": "44d2ae36-c2a7-4d63-b0df-1f0062eda12d", "text": "Q: Can I Reflector the .NET Base Class Libraries (BCL)? A: <p>As <a href=\"https://stackoverflow.com/questions/378498/can-i-reflector-the-net-base-class-libraries-bcl/378509#378509\">Greg already pointed out</a>,</p>\n<blockquote>\n<p>[the OS EULA explicitly states] that to &quot;decompile or disassemble&quot; is not permitted.</p>\n</blockquote>\n<p>On the other hand, <a href=\"http://msdn.microsoft.com/en-us/magazine/cc300497.aspx#S8\" rel=\"nofollow noreferrer\">Microsoft's own <em>MSDN magazine</em></a> writes:</p>\n<blockquote>\n<p>[...] what I consider to be the best use of .NET Reflector, which is to examine .NET Framework assemblies and methods. [...] By using .NET Reflector, you can see what Microsoft used when writing the ReadXml method of the DataSet, or what they did when reading data from the configuration files. .NET Reflector is also an excellent way to see the best practices for creating objects like HttpHandlers or configuration handlers because you get to see how the team at Microsoft actually built those objects in the Framework.</p>\n</blockquote>\n<p>I'm not a lawyer, but I guess enforcing the EULA will be quite hard when they <em>recommend</em> you to break it...</p>\n", "tags": [".net"]}
{"id": "13ad54c3-4783-4611-98c4-3bedd0ed3eb8", "text": "Q: Process spawns another process, its logs were being sent to a file, now are sent to the console A: <p>You need to manually invoke Scrapy's logging configuration <strong>before</strong> creating the <code>CrawlerProcess</code> and tell it specifically <strong>not</strong> to install the root handler.</p>\n<p>In your function that runs inside the child process:</p>\n<pre><code>from scrapy.crawler import CrawlerProcess\nfrom scrapy.utils.log import configure_logging\nfrom scrapy.utils.project import get_project_settings\n\ndef run_spider_in_process(url_to_scrape):\n    # 1. Get your settings\n    settings = get_project_settings()\n    \n    # 2. Configure logging MANUALLY before CrawlerProcess does it.\n    # install_root_handler=False prevents Scrapy from adding the console handler\n    # that overrides your existing logging setup.\n    configure_logging(settings, install_root_handler=False)\n    \n    # 3. Now create the process. Scrapy detects logging is already configured\n    # and won't overwrite it.\n    process = CrawlerProcess(settings)\n    \n    process.crawl('my_spider', start_url=url_to_scrape)\n    process.start()\n</code></pre>\n", "tags": ["python", "scrapy"]}
{"id": "a06d6cbf-47ee-4e98-a15b-1d38fddcbfa1", "text": "Q: How to type hint class tuple itself not instance without pylance complaining A: <p>You probably already know this, but this is a linting problem, not a type safety problem. <code>tuple[Any]</code> is equivalent to <code>tuple</code>, so if you're absolutely sure that you want the latter (as you are in this case), it's safe to ignore the <a href=\"https://github.com/microsoft/pylance-release/blob/main/docs/diagnostics/reportMissingTypeArgument.md\" rel=\"nofollow noreferrer\"><code>reportMissingTypeArgument</code></a> diagnostic.</p>\n<p>The best way to do this is with a diagnostic-specific directive:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from pydantic import BaseModel\n\nclass Task1(BaseModel):\n    result_formatter: type[tuple] # pyright: ignore[reportMisingTypeArgument]\n</code></pre>\n<p>You can also disable the diagnostic globally, but do so with caution; it's a useful linting diagnostic, this is just a special case where it's wrong.</p>\n", "tags": ["python", "generics", "python-typing", "pydantic", "pyright"]}
{"id": "afc449d0-fc48-4089-b5d5-95bdb81abc83", "text": "Q: How to align data in td of a table properly A: <p>Simply invert the steps you use when you create the table contents, then the rest just &quot;falls into place&quot;. That way you'd need to do minimal changes to your existing code.</p>\n<p><strong>Example</strong></p>\n<p>The changed part is completely inside the function passed into the <code>.forEach</code> call. Essentially, the solution involves creating a <code>String</code> of HTML content (the <code>&lt;span&gt;</code> elements with the book's data) that can later be handled the same way the rest of the data can be used.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\" data-babel-preset-react=\"false\" data-babel-preset-ts=\"false\">\n<div class=\"snippet-code\">\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Bit of data to work with\nconst data = {\n  items: [\n    {\n      id: 0,\n      authorname: 'J. Doe',\n      books: [\n        { id: 'a', booktitle: 'Book A' },\n        { id: 'b', booktitle: 'Book B' }\n      ]\n    }\n  ]\n};\n// The reference to the &lt;tbody&gt; element\nconst newTbody = document.querySelector('tbody');\n\ndata.items.forEach(user =&gt; {\n  // create all the books a user/author has\n  const books = user.books.reduce(\n    (spans, book) =&gt; `${spans}&lt;span&gt;${book.id} : ${book.booktitle}&lt;/span&gt;`,\n    ''\n  );\n\n  // create a new &lt;tr&gt;\n  const row = document.createElement(\"tr\");\n  row.innerHTML = `\n    &lt;td&gt;${user.id}&lt;/td&gt;\n    &lt;td&gt;${user.authorname}&lt;/td&gt;\n    &lt;td&gt;${books}&lt;/td&gt;`;  // &lt;---- Here, the &lt;span&gt; elements are added\n    \n  newTbody.appendChild(row);\n});</code></pre>\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* REDUNTANT FOR SOLUTION */\nspan {\n  display: inline-block;\n  border: 0.0675em solid #888;\n  padding: 0.2em 0.4em;\n}\nspan+span {\n  border-inline-start-width: 0;\n}</code></pre>\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table class=\"table table-striped table-bordered\" id=\"data-table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;ID&lt;/th&gt;\n            &lt;th&gt;Author Name&lt;/th&gt;\n            &lt;th&gt;Books&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;</code></pre>\n</div>\n</div>\n</p>\n", "tags": ["javascript"]}
{"id": "07c422c6-f9f1-423b-a357-db10af7c230d", "text": "Q: How can I iterate over every week in a year in Java 8? A: <h2>tl;dr</h2>\n<p>Use modern date-time classes from <em>java.time</em> in Java 8+, and <code>YearWeek</code> class from <em>ThreeTen-Extra</em> library.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Year\n.of( 2015 )                                    // `Year` class represents, well, a year. \n.atDay( 1 )                                    // Returns a `LocalDate` object for the first day of the year, January 1. \n.datesUntil(                                   \n    Year.of( 2015 ).plusYears( 1 ).atDay( 1 )  // First of following year. \n)                                              // Returns a `Stream` of `LocalDate` objects. \n.map( YearWeek :: from )                       // Returns a `Stream` of `YearWeek` objects. \n.collect( \n    Collectors.toCollection( TreeSet :: new )\n)                                              // Returns a `TreeSet` of distinct `YearWeek` objects in chronological order.\n</code></pre>\n<h2><em>ThreeTen-Extra</em></h2>\n<p>The <a href=\"https://stackoverflow.com/a/36159488/642706\">Answer by Tunaki</a> is correct and smart. However, if you are frequently working with <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> <a href=\"https://en.wikipedia.org/wiki/ISO_week_date\" rel=\"nofollow noreferrer\">standard weeks</a>, I suggest adding the <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> library to your project. This library extends the <em>java.time</em> classes built into Java 8+. Both <em>ThreeTen-Extra</em> and <em>java.time</em> are led by the same man, Stephen Colebourne.</p>\n<h3><code>org.threeten.extra.YearWeek</code></h3>\n<p>In that library, you will find the <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a> class. Use this to represent a standard ISO 8601 week, defined as:</p>\n<ul>\n<li>A full set of seven days</li>\n<li>Starting on Monday, running through Sunday</li>\n<li>Week # 1 contains the first Thursday of the calendar-year</li>\n<li>Exactly 52 or 53 weeks every year</li>\n<li>A week may contain the last/first few days of the previous/following calendar year</li>\n</ul>\n<h3>Year</h3>\n<p>In date-time handling, it is usually wise to define a span of time as Half-Open. This means the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a year begins on the first of the year, and runs up to, but does not include, the first of the <em>following</em> year. So, January 1 - January 1.</p>\n<p>Represent a year with the <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a> class. Represent a date-only value (year-month-day) as <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Year year = Year.of( 2015 );\nLocalDate yearStart = year.atDay( 1 );\nLocalDate yearEnd = year.plusYears( 1 ).atDay( 1 ); // A Half-Open span of time runs up to, but does not include, the first of the following year.\n</code></pre>\n<p>The <code>LocalDate#datesUntil</code> method generates a stream of <code>LocalDate</code> objects, one for each date in the range.</p>\n<p>We can obtain a <code>YearWeek</code> object from each of those dates. Of course, that means duplicates, seven where we only need one. So we collect all those <code>YearWeek</code> into a <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a>. A set automatically eliminates duplicates. And a <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a> keeps the objects in order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// `Set` eliminates duplicates. \n// `SequencedSet` such as `TreeSet` maintains order, chronological order in this case.\nSequencedSet &lt; YearWeek &gt; standardWeeksOfYear =\n        yearStart\n                .datesUntil( yearEnd )\n                .map( YearWeek :: from )\n                .collect( Collectors.toCollection( TreeSet :: new ) );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IO.println( standardWeeksOfYear );\n</code></pre>\n<p>Wee see that 2015 year has 53 standard weeks.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2015-W01, 2015-W02, 2015-W03, 2015-W04, 2015-W05, 2015-W06, 2015-W07, 2015-W08, 2015-W09, 2015-W10, 2015-W11, 2015-W12, 2015-W13, 2015-W14, 2015-W15, 2015-W16, 2015-W17, 2015-W18, 2015-W19, 2015-W20, 2015-W21, 2015-W22, 2015-W23, 2015-W24, 2015-W25, 2015-W26, 2015-W27, 2015-W28, 2015-W29, 2015-W30, 2015-W31, 2015-W32, 2015-W33, 2015-W34, 2015-W35, 2015-W36, 2015-W37, 2015-W38, 2015-W39, 2015-W40, 2015-W41, 2015-W42, 2015-W43, 2015-W44, 2015-W45, 2015-W46, 2015-W47, 2015-W48, 2015-W49, 2015-W50, 2015-W51, 2015-W52, 2015-W53]\n</code></pre>\n<h3>Performance</h3>\n<p>I am sure you could cook up a slightly more efficient algorithm by jumping a week at a time. You might consider passing the optional third parameter of <code>Period</code> to <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/time/LocalDate.html#datesUntil(java.time.LocalDate,java.time.Period)\" rel=\"nofollow noreferrer\"><code>datesUntil</code></a>.</p>\n<p>I would not bother because:</p>\n<ul>\n<li>Then you would have to think about off-by-one issues with end-of-year, etc. I do not want to think that hard, nor work that hard writing corner-case tests.</li>\n<li>This code seen here is unlikely to be a performance bottleneck in a common business-oriented app.</li>\n</ul>\n", "tags": ["java", "java-time"]}
{"id": "2a485ffd-f0d3-4b44-b9d9-6816b9e96678", "text": "Q: How to remove &#39;-&#39; but ignore &quot;--&gt;&#39; using regex A: <pre><code>l = ['00:00:34,021 --&gt; 00:00:37,562',\\\n'-What is the cost of lies?',\\\n'- It\\'s not that we\\'ll mistake',\\\n'- them for the truth.']\ns = '\\n'.join(l)\nprint(s)\n\nprint('-'*10)\nimport re\nresult = re.sub(r&quot;-(?!-)(?!&gt;)&quot;, '', s, 0, re.MULTILINE)\nprint(result)\n</code></pre>\n<p>Whilst new line anchor is a viable option.. An alternative is to use a combination of an anchor symbol, the <strong>-</strong>, with a negative lookbehind for a <strong>-</strong> before and negative lookahead for a <strong>&gt;</strong> symbol after. (Negative in each case - since you don't want to include anchor if this is the case).</p>\n<p>The sub(stitute) arguments are:</p>\n<ol>\n<li>regex</li>\n<li>replacement</li>\n<li>source</li>\n<li>number of occurrences - 0 = all</li>\n<li>multi line flag</li>\n</ol>\n<p>Output - tested with <a href=\"https://programiz.pro/ide/python\" rel=\"nofollow noreferrer\">https://programiz.pro/ide/python</a></p>\n<pre><code>\n00:00:34,021 --&gt; 00:00:37,562\n-What is the cost of lies?\n- It's not that we'll mistake\n- them for the truth.\n----------\n00:00:34,021 --&gt; 00:00:37,562\nWhat is the cost of lies?\n It's not that we'll mistake\n them for the truth.\n</code></pre>\n", "tags": ["python", "regex"]}
{"id": "c25e2cc0-89d5-4058-991f-5dac510ec83d", "text": "Q: Sending raw JSON using Postman value is null A: <p>Try the following code for consuming the request body as JSON, in spring boot:-</p>\n\n<pre><code>@RequestMapping(value = \"/displayHero\", method = POST, consumes = APPLICATION_JSON_VALUE, produces = APPLICATION_JSON_VALUE)\n@ResponseBody\npublic String displayInfo(HttpEntity&lt;String&gt; httpEntity) {\n    String json = httpEntity.getBody();\n    // json contains the plain json string\n    // now you can process the json object information as per your need\n    // and return output as per requirements.\n    return json;\n}\n</code></pre>\n\n<p>This code will accept json body of POST Request and then return it as response.</p>\n", "tags": ["java", "json", "spring-boot"]}
{"id": "5f32ce70-a089-40cc-8390-968e95ff2400", "text": "Q: Tensorflow: Getting scalar tensor value as int for pass to set_shape() A: <p>Actually you can pass the image shape to the <code>reshape</code> function but you need one more step. Just change the line:</p>\n\n<pre><code>image = tf.reshape(image, [result.depth, result.height, result.width])\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>image_shape = tf.stack([result.depth, result.height, result.width])\nimage = tf.reshape(image, image_shape)\n</code></pre>\n", "tags": ["python", "tensorflow"]}
{"id": "831d250b-c9a2-40dc-ac78-42feff4ff2a8", "text": "Q: Failed to load resource: Preflight response is not successful A: <p>just insert below code in app.js just above routes</p>\n<pre><code>app.use((req, res, next)=&gt;{\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Headers', 'authtoken,content-type,application/json, text/plain, */*');\n  if(req.method==='OPTIONS')\n  {\n      res.header('Access-Control-Allow-Methods', 'GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH');\n      return res.status(200).json({});\n  }\nnext()\n})\n// routes middleware\nreaddirSync(&quot;./routes&quot;).map((r) =&gt; app.use(&quot;/api&quot;, require(&quot;./routes/&quot; + r)));\n\n\n\n`````\n</code></pre>\n", "tags": ["jquery", "cordova", "xmlhttprequest", "cors", "ios10"]}
